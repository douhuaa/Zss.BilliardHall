# Zss.BilliardHall

å°çƒé¦†ç®¡ç†ç³»ç»Ÿ - é‡‡ç”¨æ¨¡å—åŒ–å•ä½“æ¶æ„ä¸å‚ç›´åˆ‡ç‰‡è®¾è®¡

## é¡¹ç›®æ¦‚è¿°

æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ªå°çƒé¦†ä¸šåŠ¡ç®¡ç†ç³»ç»Ÿï¼Œé‡‡ç”¨ç°ä»£åŒ–çš„è½¯ä»¶æ¶æ„æ¨¡å¼ï¼š

- **æ¨¡å—åŒ–å•ä½“æ¶æ„** (Modular Monolith) - æ¸…æ™°çš„ä¸šåŠ¡è¾¹ç•Œï¼Œå•ä¸€éƒ¨ç½²å•å…ƒ
- **å‚ç›´åˆ‡ç‰‡æ¶æ„** (Vertical Slice) - æŒ‰ç”¨ä¾‹ç»„ç»‡åŠŸèƒ½ï¼Œå‡å°‘æ¨ªå‘ä¾èµ–
- **è‡ªåŠ¨åŒ–æ¶æ„æµ‹è¯•** - é€šè¿‡æµ‹è¯•å¼ºåˆ¶æ‰§è¡Œæ¶æ„çº¦æŸ

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- .NET 10.0 æˆ–æ›´é«˜ç‰ˆæœ¬
- PostgreSQL (ç”¨äº Marten æ•°æ®åº“)

### æ„å»ºé¡¹ç›®

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/douhuaa/Zss.BilliardHall.git
cd Zss.BilliardHall

# æ¢å¤ä¾èµ–
dotnet restore

# æ„å»º
dotnet build

# è¿è¡Œæ¶æ„æµ‹è¯•
dotnet test src/tests/ArchitectureTests/ArchitectureTests.csproj
```

### è¿è¡Œåº”ç”¨

```bash
# å¯åŠ¨ Web API
dotnet run --project src/Host/WebHost/WebHost.csproj

# æˆ–å¯åŠ¨ Worker
dotnet run --project src/Host/Worker/Worker.csproj
```

## æ¶æ„æ–‡æ¡£

å®Œæ•´çš„æ¶æ„æ–‡æ¡£è¯·æŸ¥çœ‹ [docs/](docs/) ç›®å½•ï¼š

- **[æ¶æ„æŒ‡å—](docs/architecture-guide.md)** - æ¶æ„æ¦‚è¿°å’Œå¼€å‘æŒ‡å—
- **[CI/CD æŒ‡å—](docs/ci-cd-guide.md)** - æŒç»­é›†æˆå’Œæµ‹è¯•
- **[ADR-0001](docs/adr/ADR-0001-modular-monolith-vertical-slice-architecture.md)** - æ¶æ„å†³ç­–è®°å½•

## é¡¹ç›®ç»“æ„

```
Zss.BilliardHall/
â”œâ”€â”€ docs/                      # æ–‡æ¡£
â”‚   â”œâ”€â”€ adr/                   # æ¶æ„å†³ç­–è®°å½•
â”‚   â”œâ”€â”€ architecture-guide.md  # æ¶æ„æŒ‡å—
â”‚   â””â”€â”€ ci-cd-guide.md         # CI/CD æŒ‡å—
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ Platform/              # å¹³å°å±‚ï¼ˆæŠ€æœ¯èƒ½åŠ›ï¼‰
â”‚   â”‚   â””â”€â”€ Contracts/         # æ•°æ®å¥‘çº¦
â”‚   â”œâ”€â”€ Modules/               # ä¸šåŠ¡æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ Members/           # ä¼šå‘˜æ¨¡å—
â”‚   â”‚   â””â”€â”€ Orders/            # è®¢å•æ¨¡å—
â”‚   â”œâ”€â”€ Application/           # åº”ç”¨å±‚
â”‚   â””â”€â”€ Host/                  # å®¿ä¸»ç¨‹åº
â”‚       â”œâ”€â”€ WebHost/           # Web API
â”‚       â””â”€â”€ Worker/            # åå°ä»»åŠ¡
â””â”€â”€ tests/
    â””â”€â”€ ArchitectureTests/     # æ¶æ„æµ‹è¯•
```

## æ ¸å¿ƒæ¦‚å¿µ

### æ¨¡å—åŒ–å•ä½“

é¡¹ç›®æŒ‰ä¸šåŠ¡èƒ½åŠ›åˆ’åˆ†ä¸ºç‹¬ç«‹æ¨¡å—ï¼š

- **Members** - ä¼šå‘˜ç®¡ç†
- **Orders** - è®¢å•ç®¡ç†
- æ›´å¤šæ¨¡å—å¾…æ·»åŠ ...

æ¯ä¸ªæ¨¡å—ï¼š
- æ‹¥æœ‰ç‹¬ç«‹çš„ç¨‹åºé›†
- ä¸èƒ½ç›´æ¥å¼•ç”¨å…¶ä»–æ¨¡å—
- é€šè¿‡é¢†åŸŸäº‹ä»¶æˆ–æ•°æ®å¥‘çº¦é€šä¿¡

### å‚ç›´åˆ‡ç‰‡

æ¯ä¸ªåŠŸèƒ½æŒ‰å‚ç›´åˆ‡ç‰‡ç»„ç»‡ï¼ŒåŒ…å«è¯¥ç”¨ä¾‹çš„æ‰€æœ‰å±‚æ¬¡ï¼š

```
Features/CreateMember/
â”œâ”€â”€ CreateMemberCommand.cs         # å‘½ä»¤
â”œâ”€â”€ CreateMemberCommandHandler.cs  # å¤„ç†å™¨
â””â”€â”€ CreateMemberEndpoint.cs        # API ç«¯ç‚¹
```

é¿å…ä¼ ç»Ÿçš„åˆ†å±‚æ¶æ„ï¼ˆController/Service/Repositoryï¼‰ã€‚

### æ¶æ„æµ‹è¯•

æ‰€æœ‰æ¶æ„çº¦æŸé€šè¿‡è‡ªåŠ¨åŒ–æµ‹è¯•å¼ºåˆ¶æ‰§è¡Œï¼š

```bash
dotnet test src/tests/ArchitectureTests/ArchitectureTests.csproj
```

æµ‹è¯•è¦†ç›–ï¼š
- âœ… æ¨¡å—éš”ç¦»ï¼ˆä¸èƒ½ç›¸äº’å¼•ç”¨ï¼‰
- âœ… å‚ç›´åˆ‡ç‰‡ï¼ˆç¦æ­¢æ¨ªå‘ Serviceï¼‰
- âœ… å¥‘çº¦ä½¿ç”¨è§„åˆ™
- âœ… Platform å±‚çº¦æŸ

## å¼€å‘æŒ‡å—

### æ·»åŠ æ–°åŠŸèƒ½

1. ç¡®å®šåŠŸèƒ½æ‰€å±æ¨¡å—
2. åœ¨ `Features/` ä¸‹åˆ›å»ºæ–°åˆ‡ç‰‡
3. å®ç° Command/Queryã€Handler å’Œ Endpoint
4. è¿è¡Œæ¶æ„æµ‹è¯•éªŒè¯

è¯¦è§ [æ¶æ„æŒ‡å—](docs/architecture-guide.md#å¼€å‘æŒ‡å—)ã€‚

### æ¨¡å—é—´é€šä¿¡

æ¨¡å—ä¹‹é—´ä¸èƒ½ç›´æ¥å¼•ç”¨ï¼Œä½¿ç”¨ä»¥ä¸‹æ–¹å¼é€šä¿¡ï¼š

1. **é¢†åŸŸäº‹ä»¶** - å¼‚æ­¥é€šçŸ¥çŠ¶æ€å˜æ›´
2. **æ•°æ®å¥‘çº¦** - åªè¯»æ•°æ®ä¼ é€’ï¼ˆä»…é™æŸ¥è¯¢ï¼‰
3. **å‘½ä»¤ç¼–æ’** - åœ¨ Application å±‚ç¼–æ’

è¯¦è§ [æ¶æ„æŒ‡å— - æ¨¡å—é—´é€šä¿¡](docs/architecture-guide.md#æ¨¡å—é—´é€šä¿¡)ã€‚

## è´¡çŒ®

### å¼€å‘æµç¨‹

1. Fork é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯
3. å®ç°åŠŸèƒ½å¹¶æ·»åŠ æµ‹è¯•
4. è¿è¡Œæ¶æ„æµ‹è¯•ç¡®ä¿åˆè§„
5. æäº¤ Pull Request

### æ¶æ„çº¦æŸ

æ‰€æœ‰ä»£ç å¿…é¡»éµå®ˆæ¶æ„çº¦æŸï¼š

- âŒ æ¨¡å—ä¹‹é—´ä¸èƒ½ç›´æ¥å¼•ç”¨
- âŒ ä¸èƒ½åˆ›å»ºæ¨ªå‘ Service
- âŒ Command Handler ä¸èƒ½ä¾èµ–å…¶ä»–æ¨¡å—çš„æŸ¥è¯¢
- âŒ Platform ä¸èƒ½åŒ…å«ä¸šåŠ¡é€»è¾‘

æ¶æ„æµ‹è¯•å¤±è´¥å°†é˜»æ­¢ PR åˆå¹¶ã€‚

## æŠ€æœ¯æ ˆ

- **.NET 10.0** - åº”ç”¨æ¡†æ¶
- **Wolverine** - æ¶ˆæ¯æ€»çº¿å’Œä¸­ä»‹è€…
- **Marten** - äº‹ä»¶å­˜å‚¨å’Œæ–‡æ¡£æ•°æ®åº“
- **PostgreSQL** - æ•°æ®åº“
- **xUnit** - æµ‹è¯•æ¡†æ¶
- **NetArchTest** - æ¶æ„æµ‹è¯•

## è®¸å¯è¯

[MIT License](LICENSE)

## è”ç³»æ–¹å¼

- é¡¹ç›®ä¸»é¡µ: https://github.com/douhuaa/Zss.BilliardHall
- é—®é¢˜åé¦ˆ: https://github.com/douhuaa/Zss.BilliardHall/issues

---

ğŸ“– æ›´å¤šä¿¡æ¯è¯·æŸ¥çœ‹ [æ–‡æ¡£ç›®å½•](docs/README.md)
