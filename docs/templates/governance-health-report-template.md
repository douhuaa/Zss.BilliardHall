# 治理健康度报告模板

**报告期间**：{YYYY-QQ} / {YYYY-MM}  
**生成日期**：{YYYY-MM-DD}  
**报告类型**：季度报告 / 月度报告  
**责任人**：{@username}

---

## 执行摘要（Executive Summary）

> 一句话总结：本期治理体系运行状况、主要问题和改进建议。

### 关键指标

| 指标                | 当前值    | 目标值   | 趋势   | 状态       |
|-------------------|--------|-------|------|----------|
| 架构测试通过率           | XX%    | >95%  | ↑/↓/→ | 🟢/🟡/🔴 |
| 活跃架构破例数量          | X 个    | <5    | ↑/↓/→ | 🟢/🟡/🔴 |
| 过期破例数量            | X 个    | 0     | ↑/↓/→ | 🟢/🟡/🔴 |
| ADR 变更数量           | X 个    | -     | ↑/↓/→ | 🟢/🟡/🔴 |
| PR 合规率（ADR-930）   | XX%    | >90%  | ↑/↓/→ | 🟢/🟡/🔴 |
| Copilot 使用率       | XX%    | >80%  | ↑/↓/→ | 🟢/🟡/🔴 |
| 文档索引一致性           | XX%    | 100%  | ↑/↓/→ | 🟢/🟡/🔴 |

**状态说明**：
- 🟢 健康：达到目标或优于目标
- 🟡 警告：接近阈值，需要关注
- 🔴 严重：未达标，需要立即改进

---

## 1. 架构测试执行情况（ADR-900）

### 1.1 测试通过率分析

**整体通过率**：XX%

| ADR 编号   | 测试类                          | 测试数 | 通过数 | 失败数 | 通过率   |
|----------|------------------------------|-----|-----|-----|-------|
| ADR-001 | ADR_001_Architecture_Tests  | XX  | XX  | XX  | XX%   |
| ADR-002 | ADR_002_Architecture_Tests  | XX  | XX  | XX  | XX%   |
| ADR-003 | ADR_003_Architecture_Tests  | XX  | XX  | XX  | XX%   |
| ADR-004 | ADR_004_Architecture_Tests  | XX  | XX  | XX  | XX%   |
| ADR-005 | ADR_005_Architecture_Tests  | XX  | XX  | XX  | XX%   |
| **合计**   | -                            | XX  | XX  | XX  | XX%   |

### 1.2 失败测试分析

**失败测试详情**（Top 5）：

1. **测试名称**：{Test_Method_Name}
   - **ADR 规则**：ADR-XXXX.Y
   - **失败次数**：X 次
   - **影响模块**：{Module1, Module2}
   - **根本原因**：{描述}
   - **状态**：已修复 / 进行中 / 已批准破例

2. {重复以上格式}

### 1.3 CI 阻断事件

| 日期         | PR 编号   | 阻断原因     | 违反 ADR   | 解决方式     | 耗时    |
|------------|---------|----------|----------|----------|-------|
| YYYY-MM-DD | #123    | 模块依赖违规   | ADR-001 | 代码修复     | 2 小时  |
| YYYY-MM-DD | #456    | 命名空间违规   | ADR-003 | 代码修复     | 1 小时  |

**总阻断次数**：X 次  
**平均解决时间**：X 小时

---

## 2. 架构破例管理（ADR-900.Y）

### 2.1 活跃破例概览

**当前活跃破例**：X 个

| ID          | ADR       | 规则描述   | 到期版本   | 负责人    | 剩余时间   | 风险等级   |
|-------------|-----------|--------|--------|--------|--------|--------|
| ARCH-001    | ADR-005  | XX     | v2.5.0 | @dev1  | 2 个月   | 🟡 中   |
| ARCH-002    | ADR-001  | XX     | v2.3.0 | @dev2  | 1 个月   | 🔴 高   |

### 2.2 破例偿还情况

**本期偿还破例**：X 个

| ID          | ADR       | 描述    | 批准日期       | 归还日期       | 归还方式   | 归还人    |
|-------------|-----------|-------|------------|------------|--------|--------|
| ARCH-000    | ADR-001  | XX    | YYYY-MM-DD | YYYY-MM-DD | 代码重构   | @dev3  |

**偿还率**：XX%（本期偿还 / 本期到期）

### 2.3 延期破例

**本期延期破例**：X 个

| ID          | 原到期版本  | 新到期版本  | 延期原因   | 延期次数   | 风险    |
|-------------|--------|--------|--------|--------|-------|
| ARCH-003    | v2.2.0 | v2.4.0 | 依赖阻塞   | 1/2    | 🟡 中  |

**警告**：延期次数超过 1 次的破例需要特别关注。

### 2.4 过期破例（需立即处理）

**过期破例**：X 个

| ID          | ADR       | 到期版本   | 负责人    | 过期天数   | 状态       |
|-------------|-----------|--------|--------|--------|----------|
| ARCH-004    | ADR-002  | v2.1.0 | @dev4  | 30 天   | ⏰ 严重过期 |

**行动要求**：必须在 7 天内完成偿还或强制归还。

---

## 3. ADR 演进情况（ADR-900）

### 3.1 新增 ADR

**本期新增**：X 个

| ADR 编号     | 标题      | 类型      | 状态      | 审批人    | 生效日期       |
|------------|---------|---------|---------|--------|------------|
| ADR-XXXX   | XX      | 宪法层/治理层 | ✅ Final | @arch1 | YYYY-MM-DD |

### 3.2 修订 ADR

**本期修订**：X 个

| ADR 编号     | 标题   | 版本变化     | 主要变更     | 影响范围   | 审批人    |
|------------|------|----------|----------|--------|--------|
| ADR-XXXX   | XX   | v1.0→v2.0 | XX       | 高/中/低  | @arch2 |

### 3.3 废弃 ADR

**本期废弃**：X 个

| ADR 编号     | 标题   | 废弃原因   | 替代 ADR   | 废弃日期       |
|------------|------|--------|----------|------------|
| ADR-XXXX   | XX   | XX     | ADR-YYYY | YYYY-MM-DD |

### 3.4 ADR 关系一致性

**关系验证结果**：
- 双向一致性检查：✅ 通过 / ❌ 失败（X 个不一致）
- 循环依赖检查：✅ 通过 / ❌ 发现循环依赖
- 孤立 ADR：X 个（未被依赖且不依赖其他 ADR）

---

## 4. PR 与代码审查合规（ADR-930）

### 4.1 PR 合规率

**整体合规率**：XX%

| 检查项                  | 合规数  | 总数   | 合规率   |
|-----------------------|------|------|-------|
| PR 描述完整性（变更类型、影响范围）  | XX   | XX   | XX%   |
| ADR 相关 PR Copilot 自检 | XX   | XX   | XX%   |
| 架构测试失败说明            | XX   | XX   | XX%   |
| 责任人审查                | XX   | XX   | XX%   |
| 破例标注                 | XX   | XX   | XX%   |

### 4.2 不合规 PR 分析

**Top 3 不合规类型**：

1. **缺少变更类型标注**：X 个 PR
   - 影响：轻微，但影响统计和追溯
   - 建议：强化 PR 模板检查

2. **ADR 相关 PR 未自检**：X 个 PR
   - 影响：中等，可能引入架构违规
   - 建议：CI 强制检查并提醒

3. {其他类型}

### 4.3 Copilot 使用情况

**Copilot 参与率**：XX%（使用 Copilot 的 PR / 总 PR）

| Copilot 功能            | 使用次数  | 占比    |
|-----------------------|-------|-------|
| code_review 自检        | XX    | XX%   |
| 架构测试失败诊断            | XX    | XX%   |
| ADR 解释和建议            | XX    | XX%   |

**效果评估**：
- 提前发现架构问题：XX 次
- 减少 CI 失败率：XX%
- 提升开发者理解度：{定性评估}

---

## 5. 文档质量监控（ADR-910/920/950）

### 5.1 README 合规性

**检查项**：
- 无裁决力声明：XX/XX（合规/总数）
- 禁用裁决性语言：XX 处违规
- ADR 引用正确性：XX/XX

### 5.2 示例代码合规性

**检查项**：
- 示例免责声明：XX/XX
- 架构约束遵守：XX 处违规
- 代码可运行性：XX/XX

### 5.3 文档索引一致性

**检查项**：
- ADR README 索引：✅ 一致 / ❌ 不一致（X 处）
- Copilot Prompts 索引：✅ 一致 / ❌ 不一致（X 处）
- 案例库索引：✅ 一致 / ❌ 不一致（X 处）

---

## 6. 治理工具和自动化

### 6.1 CI Workflows 执行情况

| Workflow                        | 执行次数  | 成功率   | 平均耗时   |
|---------------------------------|-------|-------|--------|
| architecture-tests.yml          | XX    | XX%   | X 分钟  |
| arch-violations-scanner.yml     | XX    | XX%   | X 分钟  |
| adr-relationship-check.yml      | XX    | XX%   | X 分钟  |
| adr-version-sync.yml            | XX    | XX%   | X 分钟  |

### 6.2 脚本工具使用情况

| 脚本                                   | 使用次数  | 主要用途       |
|--------------------------------------|-------|------------|
| validate-governance-compliance.sh    | XX    | 治理合规性验证    |
| generate-health-report.sh            | XX    | 健康度报告生成    |
| validate-three-way-mapping.sh        | XX    | ADR/测试/Prompt 映射验证 |

---

## 7. 问题与风险（Issues & Risks）

### 7.1 当前问题

| 优先级  | 问题描述               | 影响范围   | 责任人    | 状态        |
|------|--------------------|--------------------|--------|-----------|
| 🔴 高 | {描述}              | {Module/Layer}     | @user  | 进行中 / 待处理 |
| 🟡 中 | {描述}              | {Module/Layer}     | @user  | 进行中 / 待处理 |

### 7.2 风险识别

| 风险类型   | 风险描述             | 可能性   | 影响   | 缓解措施     |
|--------|------------------|-------|------|----------|
| 技术债累积  | 破例偿还率持续下降        | 中     | 高    | 强化审计和预警  |
| 测试覆盖不足 | 新增 ADR 缺少对应测试     | 低     | 高    | 三位一体强制检查 |
| 文档不一致  | 索引更新不及时          | 中     | 中    | 自动化检查    |

---

## 8. 改进建议（Recommendations）

### 8.1 短期改进（1 个月内）

1. **优先级 P0**：{建议描述}
   - 目标：{具体目标}
   - 负责人：@user
   - 预期效果：{效果描述}

2. **优先级 P1**：{建议描述}
   - {同上}

### 8.2 中期改进（3 个月内）

1. {建议描述}
2. {建议描述}

### 8.3 长期改进（6 个月以上）

1. {建议描述}
2. {建议描述}

---

## 9. 团队成熟度评估

### 9.1 治理成熟度模型

| 维度           | 当前等级    | 目标等级    | 差距分析     |
|--------------|---------|---------|----------|
| 架构测试覆盖率      | L2（语义半自动） | L1（静态全自动） | 需要更多自动化测试 |
| 破例管理         | L3（人工审计） | L2（半自动监控） | 已实施 CI 扫描 |
| 文档治理         | L2（部分规范） | L1（完全规范） | 需要强化自动检查 |
| ADR 演进流程     | L1（成熟流程） | L1（成熟流程） | 保持当前水平   |

**等级说明**：
- L1：成熟稳定，流程完善，自动化程度高
- L2：基本规范，部分自动化，需要改进
- L3：初步建立，依赖人工，需要大幅改进
- L4：缺失或混乱，需要重建

### 9.2 团队反馈

**正面反馈**：
- {反馈1}
- {反馈2}

**改进建议**：
- {建议1}
- {建议2}

---

## 10. 下期计划（Next Steps）

### 10.1 关键行动项

| 行动项                | 负责人    | 截止日期       | 优先级  |
|--------------------|--------|------------|------|
| 偿还过期破例             | @user1 | YYYY-MM-DD | P0   |
| 实施自动化检查            | @user2 | YYYY-MM-DD | P1   |
| 更新文档索引             | @user3 | YYYY-MM-DD | P2   |

### 10.2 下期目标

- **架构测试通过率**：从 XX% 提升至 XX%
- **破例偿还率**：从 XX% 提升至 XX%
- **PR 合规率**：从 XX% 提升至 XX%
- **Copilot 使用率**：从 XX% 提升至 XX%

---

## 附录（Appendix）

### A. 数据来源

- 架构测试数据：CI 执行日志
- 破例数据：arch-violations.md
- PR 数据：GitHub PR 列表和评论
- ADR 数据：ADR 文档和关系图

### B. 报告生成脚本

```bash
# 生成健康度报告
./scripts/generate-health-report.sh --period 2026-Q1 --output docs/reports/
```

### C. 相关资源

- [治理层 ADR](../adr/governance/README.md)
- [arch-violations.md](../summaries/arch-violations.md)
- [架构治理系统](../ARCHITECTURE-GOVERNANCE-SYSTEM.md)

---

**报告审核**：{@reviewer}  
**下次报告时间**：{YYYY-MM-DD}
