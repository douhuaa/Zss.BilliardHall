# 指导文档目录（Guidelines）

> ⚠️ **本文档不具备裁决力。所有架构决策以对应 ADR 正文为准。**

本目录包含项目的各类指导性文档，为开发者提供最佳实践和规范建议。

## 文档清单

### 🆕 新治理体系（v3.0 - 2026-02-07）

- **[架构测试编写指南 v3.0](./ARCHITECTURE-TEST-GUIDELINES.md)** - 架构测试的统一规范和最佳实践
  - **新增**：RuleSet 和 RuleSetRegistry 使用指南
  - **新增**：参数化测试（Theory + InlineData）使用指南
  - **新增**：迁移到新治理体系的完整流程
  - 共性问题的详细分析和解决方案
  - 反例和正例对比
  - 完整的测试模板和示例
  - 迁移清单和常见问题解答

- **[架构测试重构快速参考](./ARCHITECTURE-TEST-REFACTORING-REFERENCE.md)** - 重构模式和代码片段快速查阅
  - **新增**：迁移到 RuleSetRegistry 的步骤
  - 删除重复代码的具体步骤
  - 标准化测试类结构的检查清单
  - 常用代码片段和重构模板
  - 重构优先级和验证方法

- **[测试代码重构示例 v1.2](./TEST-REFACTORING-EXAMPLES.md)** - 实际重构案例集合
  - **新增**：重构示例 8 - 使用 RuleSetRegistry
  - **新增**：重构示例 9 - 使用参数化测试（Theory + InlineData）
  - 9 个实际重构示例，展示前后对比
  - 每个示例包含问题分析和改进点

- **[断言消息模板使用指南](./ASSERTION-MESSAGE-TEMPLATE-USAGE.md)** - AssertionMessageBuilder 详细说明
  - **更新**：展示如何结合 RuleSetRegistry 使用
  - 标准化的断言消息格式
  - 多种场景的使用示例

### 架构测试相关

- **[架构测试分析报告](./ARCHITECTURE-TEST-ANALYSIS-REPORT.md)** - 测试文件深度分析和问题汇总
  - 基于 133+ 测试文件的统计分析
  - 四大类共性问题的详细数据
  - 影响评估和推荐行动计划
  - 预期收益和成功因素

### 相关资源

- **[ADR 测试迁移指南](../MIGRATION-ADR-TESTS-TO-RULESETS.md)** - 完整的 RuleSet 迁移文档
- **[Specification README](../../src/tests/ArchitectureTests/Specification/README.md)** - RuleSet 架构设计

## 文档说明

### 权威性声明

本目录下的所有文档均为**指导性文档**，提供最佳实践建议，**不具备架构裁决权**。

- ✅ **用途**：提供编码规范、最佳实践、常见问题解答
- ✅ **定位**：辅助性参考材料
- ❌ **非用途**：定义架构约束、做出架构决策

### 权威依据

如有冲突或疑问，请始终以以下文档为准：

1. **ADR 文档** (`docs/adr/`) - 架构决策记录，具有最高权威
2. **架构宪法层** - ADR-001 至 ADR-005，不可推翻
3. **治理体系文档** - ADR-900 系列，定义治理规则

### 使用建议

1. **新功能开发前**：查阅相关指南，了解最佳实践
2. **代码审查时**：参考指南检查代码质量
3. **遇到问题时**：查看常见问题（FAQ）部分
4. **规范演进**：通过 Issue/PR 提出改进建议

## 贡献指南

欢迎通过以下方式贡献：

1. **报告问题**：发现指南中的错误或不清晰之处
2. **提出建议**：基于实践经验提出改进意见
3. **补充内容**：添加新的最佳实践或示例
4. **更新维护**：保持文档与代码库同步

提交方式：
- 创建 Issue 讨论
- 提交 Pull Request
- 在团队会议中提出

## 文档维护

### 更新频率
- 定期审查：每季度
- 及时更新：发现重大问题时立即更新
- 版本跟踪：每次重大更新增加版本号

### 维护原则
1. **实践驱动**：基于实际项目经验更新
2. **简洁明确**：避免过度理论化
3. **示例丰富**：提供正反例对比
4. **持续改进**：随项目演进不断优化

---

最后更新：2026-02-07  
版本：1.2 - 新增参数化测试指南和示例
