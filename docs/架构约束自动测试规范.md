# æ¶æ„çº¦æŸè‡ªåŠ¨æµ‹è¯•è§„èŒƒ

## æ–‡æ¡£ç›®çš„

æœ¬æ–‡æ¡£ä¸ºæ–°æˆå‘˜æä¾›æ¶æ„çº¦æŸè‡ªåŠ¨æµ‹è¯•çš„å®Œæ•´æŒ‡å—ï¼ŒåŒ…æ‹¬æµ‹è¯•çš„ç›®çš„ã€ç¼–å†™æ–¹æ³•ã€æ‰©å±•æ–¹å¼å’Œæœ€ä½³å®è·µã€‚

---

## ä¸€ã€æ¶æ„æµ‹è¯•æ¦‚è¿°

### 1.1 ä»€ä¹ˆæ˜¯æ¶æ„æµ‹è¯•ï¼Ÿ

æ¶æ„æµ‹è¯•æ˜¯ä¸€ç§è‡ªåŠ¨åŒ–æµ‹è¯•æ–¹æ³•ï¼Œç”¨äºéªŒè¯ä»£ç æ˜¯å¦ç¬¦åˆé¢„å®šä¹‰çš„æ¶æ„è§„åˆ™å’Œçº¦æŸã€‚ä¸ä¼ ç»Ÿçš„å•å…ƒæµ‹è¯•ä¸åŒï¼Œæ¶æ„æµ‹è¯•å…³æ³¨çš„æ˜¯ï¼š

- **ç»“æ„çº¦æŸ**ï¼šæ¨¡å—ä¾èµ–ã€å‘½åç©ºé—´è§„åˆ™ã€é¡¹ç›®å¼•ç”¨
- **å‘½åè§„èŒƒ**ï¼šç±»ã€æ¥å£ã€æ–¹æ³•çš„å‘½åçº¦å®š
- **è®¾è®¡æ¨¡å¼**ï¼šæ˜¯å¦æ­£ç¡®ä½¿ç”¨ CQRSã€å‚ç›´åˆ‡ç‰‡ç­‰æ¨¡å¼
- **è¾¹ç•Œä¿æŠ¤**ï¼šé˜²æ­¢è·¨å±‚ä¾èµ–ã€æ¨¡å—è€¦åˆ

### 1.2 ä¸ºä»€ä¹ˆéœ€è¦æ¶æ„æµ‹è¯•ï¼Ÿ

| é—®é¢˜ | ä¼ ç»Ÿæ–¹å¼ | æ¶æ„æµ‹è¯• |
|------|---------|---------|
| æ¨¡å—é—´ç›´æ¥å¼•ç”¨ | Code Review å‘ç°ï¼Œå·²ç»å¤ªæ™š | CI è‡ªåŠ¨æ£€æµ‹ï¼Œç«‹å³åé¦ˆ |
| å‘½åä¸è§„èŒƒ | ä¾èµ–å›¢é˜Ÿè®°å¿†å’Œæ–‡æ¡£ | è‡ªåŠ¨éªŒè¯ï¼Œ100% è¦†ç›– |
| æ¶æ„è…åŒ– | é€æ¸ç§¯ç´¯ï¼Œéš¾ä»¥ä¿®å¤ | æŒç»­ç›‘æ§ï¼ŒåŠæ—¶é˜»æ­¢ |
| æ–°æˆå‘˜å­¦ä¹ æˆæœ¬ | é˜…è¯»æ–‡æ¡£ï¼Œå¯èƒ½é—æ¼ | æµ‹è¯•å³æ–‡æ¡£ï¼Œå¼ºåˆ¶æ‰§è¡Œ |

### 1.3 æ¶æ„æµ‹è¯•çš„ä»·å€¼

- âœ… **å¿«é€Ÿåé¦ˆ**ï¼šåœ¨ CI é˜¶æ®µå°±å‘ç°æ¶æ„è¿è§„ï¼Œè€Œä¸æ˜¯åœ¨ Code Review
- âœ… **100% è¦†ç›–**ï¼šæ‰€æœ‰ä»£ç éƒ½ä¼šè¢«æ£€æŸ¥ï¼Œä¸ä¼šé—æ¼
- âœ… **å¯æ‰§è¡Œæ–‡æ¡£**ï¼šæµ‹è¯•æœ¬èº«å°±æ˜¯æœ€å‡†ç¡®çš„æ¶æ„è§„èŒƒ
- âœ… **é˜²æ­¢è…åŒ–**ï¼šæŒç»­ç›‘æ§ï¼Œé˜²æ­¢æ¶æ„é€æ¸é€€åŒ–

---

## äºŒã€æ¶æ„æµ‹è¯•çš„ä¸‰çº§åˆ†ç±»

æ ¹æ® [ADR-0000](../adr/governance/ADR-0000-architecture-tests.md)ï¼Œæ¶æ„æµ‹è¯•åˆ†ä¸ºä¸‰ä¸ªçº§åˆ«ï¼š

### Level 1: é™æ€å¯æ‰§è¡Œï¼ˆStatic Enforceableï¼‰

**å®šä¹‰**ï¼šå¯ä»¥é€šè¿‡é™æ€åˆ†æå·¥å…·å®Œå…¨è‡ªåŠ¨åŒ–æ£€æŸ¥çš„è§„åˆ™ã€‚

**ç‰¹å¾**ï¼š
- åŸºäºç±»å‹ã€å‘½åç©ºé—´ã€ä¾èµ–å…³ç³»çš„é™æ€çº¦æŸ
- æµ‹è¯•å¤±è´¥ = ç»å¯¹è¿è§„
- CI é˜»æ–­

**å·¥å…·**ï¼šNetArchTest

**ç¤ºä¾‹è§„åˆ™**ï¼š
- Platform ä¸åº”ä¾èµ– Application
- Modules ä¹‹é—´ä¸åº”æœ‰ç›´æ¥å¼•ç”¨
- Features ä¸­ç¦æ­¢ä½¿ç”¨ Service åç¼€

**æµ‹è¯•ç¤ºä¾‹**ï¼š
```csharp
[Theory(DisplayName = "ADR-0120.4: ç¦æ­¢åœ¨ Features ä¸­ä½¿ç”¨ Service åç¼€")]
[ClassData(typeof(ModuleAssemblyData))]
public void Features_Should_Not_Use_Service_Suffix(Assembly moduleAssembly)
{
    var result = Types.InAssembly(moduleAssembly)
        .That()
        .ResideInNamespaceContaining("Features")
        .ShouldNot()
        .HaveNameEndingWith("Service")
        .GetResult();

    Assert.True(result.IsSuccessful,
        AdrTestHelpers.FormatViolationMessage(
            "0120",
            "åœ¨å‚ç›´åˆ‡ç‰‡æ¶æ„ä¸­ç¦æ­¢ä½¿ç”¨ Service åç¼€",
            result.FailingTypes?.Select(t => t.FullName) ?? [],
            fixSuggestion: "å°† Service é‡æ„ä¸ºå¯¹åº”ç”¨ä¾‹çš„ Handler"));
}
```

---

### Level 2: è¯­ä¹‰åŠè‡ªåŠ¨ï¼ˆSemantic Semi-Autoï¼‰

**å®šä¹‰**ï¼šéœ€è¦è¯­ä¹‰åˆ†æçš„è§„åˆ™ï¼Œé€šè¿‡åå°„æˆ–å¯å‘å¼æ£€æŸ¥ã€‚

**ç‰¹å¾**ï¼š
- éœ€è¦ç†è§£ä»£ç è¯­ä¹‰ï¼ˆå¦‚å‘½åã€æ–¹æ³•è°ƒç”¨ï¼‰
- æµ‹è¯•å¤±è´¥ = éœ€è¦äººå·¥å®¡æŸ¥ï¼ˆå¯èƒ½è¯¯æŠ¥ï¼‰
- CI è­¦å‘Šæˆ–å»ºè®®æ€§æ£€æŸ¥

**å·¥å…·**ï¼šåå°„ + æ­£åˆ™è¡¨è¾¾å¼

**ç¤ºä¾‹è§„åˆ™**ï¼š
- Command ç±»å¿…é¡»ä»¥ Command ç»“å°¾
- Query æ¥å£å¿…é¡»ä»¥ Queriesï¼ˆå¤æ•°ï¼‰ç»“å°¾
- æµ‹è¯•æ–¹æ³• DisplayName å¿…é¡»åŒ…å« ADR ç¼–å·

**æµ‹è¯•ç¤ºä¾‹**ï¼š
```csharp
[Theory(DisplayName = "ADR-0120.1: Command ç±»å¿…é¡»ä»¥ Command ç»“å°¾")]
[ClassData(typeof(ModuleAssemblyData))]
public void Commands_Must_End_With_Command(Assembly moduleAssembly)
{
    var types = AdrTestHelpers.GetTypesInNamespace(moduleAssembly, ".Features.");
    var commandTypes = types.Where(t => t.Name.Contains("Command") && !t.Name.Contains("Handler"));
    var violations = AdrTestHelpers.ValidateTypeSuffix(commandTypes, "Command");

    AdrTestHelpers.AssertNoViolations(
        "0120",
        "ä»¥ä¸‹ Command ç±»å‘½åä¸ç¬¦åˆè§„èŒƒ",
        violations,
        correctFormat: "{åŠ¨è¯}{å®ä½“}Command",
        examples: "CreateMemberCommand, UpdateMemberProfileCommand",
        fixSuggestion: "ç¡®ä¿ Command ç±»åä»¥ 'Command' ç»“å°¾");
}
```

---

### Level 3: äººå·¥ Gateï¼ˆManual Gateï¼‰

**å®šä¹‰**ï¼šæ— æ³•ï¼ˆæˆ–ä¸åº”è¯¥ï¼‰å®Œå…¨è‡ªåŠ¨åŒ–çš„è§„åˆ™ï¼Œéœ€è¦äººå·¥å®¡æŸ¥ã€‚

**ç‰¹å¾**ï¼š
- æ¶‰åŠä¸šåŠ¡è¯­ä¹‰ã€è®¾è®¡æ„å›¾ã€æ¶æ„æƒè¡¡
- æµ‹è¯•æ— æ³•è¦†ç›–ï¼Œæˆ–è¦†ç›–æˆæœ¬è¿‡é«˜
- ä¾èµ– PR Review + æ¶æ„å¸ˆå†³ç­–

**å·¥å…·**ï¼š
- PR Checklist
- æ¶æ„å¸ˆ Code Review
- ARCH-VIOLATION è®°å½•è¡¨

**ç¤ºä¾‹è§„åˆ™**ï¼š
- æ¨¡å—é—´åŒæ­¥è°ƒç”¨ç ´ä¾‹å®¡æ‰¹
- Handler èŒè´£åˆ’åˆ†æ˜¯å¦åˆç†
- å‘½åæ˜¯å¦å‡†ç¡®è¡¨è¾¾ä¸šåŠ¡å«ä¹‰

**é‡è¦æé†’**ï¼š
- âš ï¸ **ä¸è¦**ä¸º Level 3 è§„åˆ™å†™"å‡æµ‹è¯•"ï¼ˆåªéªŒè¯æµ‹è¯•ç±»å­˜åœ¨ï¼‰
- âœ… **åº”è¯¥**åœ¨ Code Review Checklist ä¸­æ˜ç¡®åˆ—å‡º
- âœ… **åº”è¯¥**åœ¨ PR æ¨¡æ¿ä¸­è¦æ±‚è¯´æ˜

---

## ä¸‰ã€å¦‚ä½•ç¼–å†™æ¶æ„æµ‹è¯•

### 3.1 åŸºæœ¬ç»“æ„

æ‰€æœ‰ ADR æ¶æ„æµ‹è¯•éµå¾ªç»Ÿä¸€çš„ç»“æ„ï¼š

```csharp
namespace Zss.BilliardHall.Tests.ArchitectureTests.ADR;

/// <summary>
/// ADR-XXXX: [ADR æ ‡é¢˜]
/// éªŒè¯ [å…·ä½“çº¦æŸæè¿°]
/// </summary>
public sealed class ADR_XXXX_Architecture_Tests
{
    [Fact(DisplayName = "ADR-XXXX.1: [çº¦æŸæè¿°]")]
    public void Test_Name_Describing_Constraint()
    {
        // 1. è·å–éœ€è¦æ£€æŸ¥çš„ç±»å‹/ç¨‹åºé›†
        var types = /* ... */;
        
        // 2. æ‰§è¡Œçº¦æŸæ£€æŸ¥
        var violations = /* ... */;
        
        // 3. æ–­è¨€æ²¡æœ‰è¿è§„
        AdrTestHelpers.AssertNoViolations(
            "XXXX",
            "è¿è§„æè¿°",
            violations,
            correctFormat: "æ­£ç¡®æ ¼å¼",
            examples: "ç¤ºä¾‹",
            fixSuggestion: "ä¿®å¤å»ºè®®");
    }
}
```

### 3.2 å‘½åçº¦å®š

| å…ƒç´  | çº¦å®š | ç¤ºä¾‹ |
|------|------|------|
| æµ‹è¯•ç±» | `ADR_{ç¼–å·:D4}_Architecture_Tests` | `ADR_0110_Architecture_Tests` |
| æµ‹è¯•æ–¹æ³• | æè¿°æ€§åç§° + DisplayName | `Commands_Must_End_With_Command` |
| DisplayName | `ADR-{ç¼–å·}.{å­ç¼–å·}: {çº¦æŸæè¿°}` | `ADR-0120.1: Command ç±»å¿…é¡»ä»¥ Command ç»“å°¾` |

### 3.3 é”™è¯¯æ¶ˆæ¯æ ¼å¼

ç»Ÿä¸€ä½¿ç”¨ `AdrTestHelpers.FormatViolationMessage` æ ¼å¼åŒ–é”™è¯¯æ¶ˆæ¯ï¼š

```csharp
âŒ ADR-{ç¼–å·} è¿è§„ï¼š{è¿è§„æè¿°}
{è¿è§„é¡¹åˆ—è¡¨}
æ­£ç¡®æ ¼å¼ï¼š{æ­£ç¡®æ ¼å¼è¯´æ˜}
ç¤ºä¾‹ï¼š{ç¤ºä¾‹}
ä¿®å¤å»ºè®®ï¼š{ä¿®å¤å»ºè®®}
```

### 3.4 ä½¿ç”¨è¾…åŠ©å·¥å…·

é¡¹ç›®æä¾›äº† `AdrTestHelpers` å·¥å…·é›†ï¼Œç®€åŒ–å¸¸è§æµ‹è¯•æ¨¡å¼ï¼š

```csharp
// è·å–æŒ‡å®šå‘½åç©ºé—´çš„ç±»å‹
var types = AdrTestHelpers.GetTypesInNamespace(assembly, ".Features.");

// éªŒè¯ç±»å‹åç¼€
var violations = AdrTestHelpers.ValidateTypeSuffix(types, "Command");

// éªŒè¯å‘½åæ¨¡å¼
var violations = AdrTestHelpers.ValidateTypeNamePattern(types, @"^.*Command$");

// æ ¼å¼åŒ–å¹¶æ–­è¨€
AdrTestHelpers.AssertNoViolations("0120", "æè¿°", violations, 
    correctFormat: "æ ¼å¼", 
    examples: "ç¤ºä¾‹",
    fixSuggestion: "å»ºè®®");
```

---

## å››ã€å¦‚ä½•æ‰©å±•æ¶æ„æµ‹è¯•

### 4.1 ä¸ºæ–° ADR æ·»åŠ æµ‹è¯•

**æ­¥éª¤ 1**ï¼šåˆ›å»ºæµ‹è¯•ç±»æ–‡ä»¶

åœ¨ `src/tests/ArchitectureTests/ADR/` ç›®å½•ä¸‹åˆ›å»ºï¼š

```bash
ADR_XXXX_Architecture_Tests.cs
```

**æ­¥éª¤ 2**ï¼šç¡®å®šæµ‹è¯•çº§åˆ«

æ ¹æ®çº¦æŸç±»å‹é€‰æ‹©åˆé€‚çš„æµ‹è¯•çº§åˆ«ï¼ˆLevel 1/2/3ï¼‰ã€‚

**æ­¥éª¤ 3**ï¼šç¼–å†™æµ‹è¯•

```csharp
public sealed class ADR_XXXX_Architecture_Tests
{
    [Fact(DisplayName = "ADR-XXXX.1: [çº¦æŸæè¿°]")]
    public void Test_Constraint_Name()
    {
        // å®ç°æµ‹è¯•é€»è¾‘
    }
}
```

**æ­¥éª¤ 4**ï¼šéªŒè¯æµ‹è¯•

```bash
dotnet test src/tests/ArchitectureTests/ArchitectureTests.csproj
```

### 4.2 æ·»åŠ æ–°çš„è¾…åŠ©æ–¹æ³•

å¦‚æœå‘ç°å¤šä¸ªæµ‹è¯•éœ€è¦ç›¸åŒçš„é€»è¾‘ï¼Œè€ƒè™‘å°†å…¶æå–åˆ° `AdrTestHelpers` ä¸­ï¼š

```csharp
// åœ¨ AdrTestHelpers.cs ä¸­æ·»åŠ 
public static IEnumerable<string> ValidateNewPattern(...)
{
    // å®ç°é€šç”¨é€»è¾‘
}
```

### 4.3 ä½¿ç”¨å‚æ•°åŒ–æµ‹è¯•

å¯¹æ¯ä¸ªæ¨¡å—ç‹¬ç«‹éªŒè¯ï¼Œä½¿ç”¨ `[Theory]` + `ModuleAssemblyData`ï¼š

```csharp
[Theory(DisplayName = "ADR-XXXX.1: [çº¦æŸ]")]
[ClassData(typeof(ModuleAssemblyData))]
public void Test_Name(Assembly moduleAssembly)
{
    // å¯¹æ¯ä¸ªæ¨¡å—æ‰§è¡Œæ£€æŸ¥
}
```

---

## äº”ã€å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ

### 5.1 æµ‹è¯•å¤±è´¥äº†æ€ä¹ˆåŠï¼Ÿ

**æ­¥éª¤ 1**ï¼šé˜…è¯»é”™è¯¯æ¶ˆæ¯

æ¶æ„æµ‹è¯•çš„é”™è¯¯æ¶ˆæ¯åŒ…å«ï¼š
- ADR ç¼–å·å’Œè¿è§„æè¿°
- å…·ä½“è¿è§„çš„ç±»/æ–¹æ³•åˆ—è¡¨
- æ­£ç¡®æ ¼å¼å’Œç¤ºä¾‹
- ä¿®å¤å»ºè®®

**æ­¥éª¤ 2**ï¼šåˆ¤æ–­æ˜¯å¦çœŸçš„è¿è§„

- å¦‚æœæ˜¯çœŸçš„è¿è§„ â†’ ä¿®å¤ä»£ç 
- å¦‚æœæ˜¯è¯¯æŠ¥ â†’ æ£€æŸ¥æµ‹è¯•é€»è¾‘æˆ–æ’é™¤è§„åˆ™

**æ­¥éª¤ 3**ï¼šå‚è€ƒ ADR æ–‡æ¡£

æŸ¥é˜…å¯¹åº”çš„ ADR æ–‡æ¡£äº†è§£è§„åˆ™çš„èƒŒæ™¯å’Œä¾‹å¤–æƒ…å†µï¼š
- `docs/adr/constitutional/ADR-00XX-*.md`
- `docs/adr/structure/ADR-01XX-*.md`

### 5.2 å¦‚ä½•æ’é™¤ç‰¹å®šç±»å‹ï¼Ÿ

ä½¿ç”¨ `AdrTestHelpers.ValidateTypeSuffix` çš„ `excludePattern` å‚æ•°ï¼š

```csharp
var violations = AdrTestHelpers.ValidateTypeSuffix(
    types, 
    "Command",
    excludePattern: "Handler"); // æ’é™¤åŒ…å« "Handler" çš„ç±»å‹
```

æˆ–åœ¨æµ‹è¯•ä¸­æ‰‹åŠ¨è¿‡æ»¤ï¼š

```csharp
var types = assembly.GetTypes()
    .Where(t => /* æ¡ä»¶ */)
    .Where(t => t.Name != "ExcludedType"); // æ’é™¤ç‰¹å®šç±»å‹
```

### 5.3 æµ‹è¯•æ‰¾ä¸åˆ°æ¨¡å—ç¨‹åºé›†ï¼Ÿ

**åŸå› **ï¼šæ¨¡å—æœªç¼–è¯‘æˆ–ç¼–è¯‘è¾“å‡ºè·¯å¾„ä¸æ­£ç¡®ã€‚

**è§£å†³æ–¹æ¡ˆ**ï¼š

```bash
# 1. å…ˆç¼–è¯‘æ•´ä¸ªè§£å†³æ–¹æ¡ˆ
dotnet build

# 2. å†è¿è¡Œæ¶æ„æµ‹è¯•
dotnet test src/tests/ArchitectureTests/ArchitectureTests.csproj
```

### 5.4 å¦‚ä½•è°ƒè¯•æ¶æ„æµ‹è¯•ï¼Ÿ

**æ–¹æ³• 1**ï¼šä½¿ç”¨è°ƒè¯•è¾“å‡º

```csharp
Debug.WriteLine($"Found types: {string.Join(", ", types.Select(t => t.Name))}");
```

**æ–¹æ³• 2**ï¼šä¸´æ—¶æ·»åŠ æ–­ç‚¹

åœ¨æµ‹è¯•æ–¹æ³•ä¸­è®¾ç½®æ–­ç‚¹ï¼Œä½¿ç”¨ Visual Studio / Rider è°ƒè¯•ã€‚

**æ–¹æ³• 3**ï¼šè¿è¡Œå•ä¸ªæµ‹è¯•

```bash
dotnet test --filter "FullyQualifiedName~ADR_0110.1"
```

---

## å…­ã€æœ€ä½³å®è·µ

### 6.1 æµ‹è¯•ç¼–å†™åŸåˆ™

1. **å•ä¸€èŒè´£**ï¼šæ¯ä¸ªæµ‹è¯•åªéªŒè¯ä¸€ä¸ªçº¦æŸ
2. **æ¸…æ™°å‘½å**ï¼šæµ‹è¯•åç§°å’Œ DisplayName åº”å‡†ç¡®æè¿°çº¦æŸ
3. **æœ‰ä»·å€¼çš„é”™è¯¯æ¶ˆæ¯**ï¼šåŒ…å«è¶³å¤Ÿä¿¡æ¯å¸®åŠ©å¼€å‘è€…å¿«é€Ÿä¿®å¤
4. **é¿å…è¯¯æŠ¥**ï¼šä»”ç»†è€ƒè™‘æ’é™¤è§„åˆ™å’Œè¾¹ç•Œæƒ…å†µ

### 6.2 é”™è¯¯æ¶ˆæ¯åŸåˆ™

å¥½çš„é”™è¯¯æ¶ˆæ¯åº”è¯¥åŒ…å«ï¼š
- âŒ ä»€ä¹ˆè¿è§„äº†ï¼Ÿï¼ˆADR ç¼–å· + æè¿°ï¼‰
- ğŸ“‹ å…·ä½“æ˜¯å“ªäº›ç±»å‹/æ–¹æ³•è¿è§„ï¼Ÿï¼ˆå®Œæ•´åˆ—è¡¨ï¼‰
- âœ… æ­£ç¡®çš„æ ¼å¼æ˜¯ä»€ä¹ˆï¼Ÿï¼ˆæ ¼å¼è¯´æ˜ + ç¤ºä¾‹ï¼‰
- ğŸ”§ å¦‚ä½•ä¿®å¤ï¼Ÿï¼ˆå…·ä½“çš„ä¿®å¤å»ºè®®ï¼‰

### 6.3 ç»´æŠ¤åŸåˆ™

- **å®šæœŸå®¡æŸ¥**ï¼šæ¯å­£åº¦å®¡æŸ¥ä¸€æ¬¡æµ‹è¯•ï¼Œç¡®ä¿ä»ç„¶æœ‰æ•ˆ
- **åŠæ—¶æ›´æ–°**ï¼šå½“ ADR æ›´æ–°æ—¶ï¼ŒåŒæ­¥æ›´æ–°æµ‹è¯•
- **æ–‡æ¡£åŒæ­¥**ï¼šæµ‹è¯•ã€ADRã€Copilot Prompts ä¿æŒä¸€è‡´

---

## ä¸ƒã€å·¥å…·å’Œèµ„æº

### 7.1 æµ‹è¯•å·¥å…·

| å·¥å…· | ç”¨é€” | æ–‡æ¡£ |
|------|------|------|
| NetArchTest | Level 1 é™æ€åˆ†æ | https://github.com/BenMorris/NetArchTest |
| xUnit | æµ‹è¯•æ¡†æ¶ | https://xunit.net/ |
| AdrTestHelpers | é¡¹ç›®å†…è¾…åŠ©å·¥å…· | `src/tests/ArchitectureTests/ADR/AdrTestHelpers.cs` |
| ModuleAssemblyData | æ¨¡å—ç¨‹åºé›†æä¾›å™¨ | `src/tests/ArchitectureTests/TestData.cs` |

### 7.2 å‚è€ƒæ–‡æ¡£

- [ADR-0000: æ¶æ„æµ‹è¯•ä¸ CI æ²»ç†](../adr/governance/ADR-0000-architecture-tests.md)
- [ADR-0110: æµ‹è¯•ç›®å½•ç»„ç»‡è§„èŒƒ](../adr/structure/ADR-0110-test-directory-organization.md)
- [æ¶æ„æµ‹è¯•å¤±è´¥è¯Šæ–­æŒ‡å—](../copilot/architecture-test-failures.md)
- [Copilot Prompts - ADR-0110](../copilot/adr-0110.prompts.md)

### 7.3 ç¤ºä¾‹ä»£ç 

å®Œæ•´çš„æµ‹è¯•ç¤ºä¾‹å¯ä»¥åœ¨ä»¥ä¸‹æ–‡ä»¶ä¸­æ‰¾åˆ°ï¼š

- `src/tests/ArchitectureTests/ADR/ADR_0001_Architecture_Tests.cs` - æ¨¡å—éš”ç¦»æµ‹è¯•
- `src/tests/ArchitectureTests/ADR/ADR_0110_Architecture_Tests.cs` - æµ‹è¯•ç»„ç»‡è§„èŒƒæµ‹è¯•
- `src/tests/ArchitectureTests/ADR/ADR_0120_Architecture_Tests.cs` - å‘½åè§„èŒƒæµ‹è¯•

---

## å…«ã€å¿«é€Ÿå¼€å§‹æ¸…å•

### æ–°æˆå‘˜ç¬¬ä¸€æ¬¡è´¡çŒ®ä»£ç 

- [ ] é˜…è¯»æœ¬æ–‡æ¡£çš„"æ¶æ„æµ‹è¯•æ¦‚è¿°"éƒ¨åˆ†
- [ ] åœ¨æœ¬åœ°è¿è¡Œä¸€æ¬¡æ¶æ„æµ‹è¯•ï¼š`dotnet test src/tests/ArchitectureTests/`
- [ ] æŸ¥çœ‹è‡³å°‘ä¸€ä¸ª ADR æ–‡æ¡£å’Œå¯¹åº”çš„æµ‹è¯•å®ç°
- [ ] äº†è§£ CI ä¸­æ¶æ„æµ‹è¯•å¤±è´¥æ—¶å¦‚ä½•å¤„ç†

### éœ€è¦æ·»åŠ æ–° ADR æ—¶

- [ ] ç¼–å†™ ADR æ–‡æ¡£
- [ ] ç¡®å®šçº¦æŸçš„æµ‹è¯•çº§åˆ«ï¼ˆLevel 1/2/3ï¼‰
- [ ] ä¸º Level 1 å’Œ Level 2 çº¦æŸç¼–å†™æ¶æ„æµ‹è¯•
- [ ] ä¸º Level 3 çº¦æŸæ›´æ–° PR Checklist
- [ ] ç¼–å†™ Copilot Prompts
- [ ] è¿è¡Œæµ‹è¯•éªŒè¯ï¼š`dotnet test src/tests/ArchitectureTests/`

### æ¶æ„æµ‹è¯•å¤±è´¥æ—¶

- [ ] ä»”ç»†é˜…è¯»é”™è¯¯æ¶ˆæ¯ï¼ˆåŒ…å« ADR ç¼–å·ã€è¿è§„æè¿°ã€ä¿®å¤å»ºè®®ï¼‰
- [ ] æŸ¥é˜…å¯¹åº”çš„ ADR æ–‡æ¡£äº†è§£è§„åˆ™èƒŒæ™¯
- [ ] ä¿®å¤ä»£ç è¿è§„æˆ–ç”³è¯·ä¾‹å¤–
- [ ] é‡æ–°è¿è¡Œæµ‹è¯•ç¡®è®¤é€šè¿‡

---

## ç‰ˆæœ¬å†å²

| ç‰ˆæœ¬ | æ—¥æœŸ | å˜æ›´è¯´æ˜ |
|------|------|---------|
| 1.0 | 2026-01-22 | åˆå§‹ç‰ˆæœ¬ï¼Œé…åˆç»“æ„å±‚ ADR å®æ–½åˆ›å»º |

---

## åé¦ˆå’Œæ”¹è¿›

å¦‚æœæ‚¨åœ¨ä½¿ç”¨æ¶æ„æµ‹è¯•æ—¶é‡åˆ°é—®é¢˜æˆ–æœ‰æ”¹è¿›å»ºè®®ï¼Œè¯·ï¼š

1. åœ¨å›¢é˜Ÿä¼šè®®ä¸­æå‡ºè®¨è®º
2. æäº¤ Issue æˆ– PR æ”¹è¿›æœ¬æ–‡æ¡£
3. æ›´æ–°ç›¸å…³çš„ ADR å’Œ Copilot Prompts

æ¶æ„æµ‹è¯•æ˜¯æ´»æ–‡æ¡£ï¼Œéœ€è¦å›¢é˜ŸæŒç»­ç»´æŠ¤å’Œæ”¹è¿›ã€‚
