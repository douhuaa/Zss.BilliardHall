---
adr: ADR-0000
title: "æ¶æ„æµ‹è¯•ä¸ CI æ²»ç†å®ªæ³•"
status: Final
level: Constitutional
deciders: "Architecture Board"
date: 2026-01-26
version: "2.0"
maintainer: "Architecture Board"
reviewer: "Architecture Board"
supersedes: null
superseded_by: null
---

# ADR-0000ï¼šæ¶æ„æµ‹è¯•ä¸ CI æ²»ç†å®ªæ³•

> âš–ï¸ **å”¯ä¸€æ¶æ„æ‰§æ³•å…ƒè§„åˆ™**ï¼šæœ¬æ–‡ä»¶å®šä¹‰æ¶æ„åˆæ³•æ€§è¯„åˆ¤çš„å”¯ä¸€åŸºå‡†ã€‚æ‰€æœ‰æ¶æ„æµ‹è¯•ã€CI æ ¡éªŒã€Prompt æ˜ å°„ã€ç ´ä¾‹æ²»ç†å‡ä»¥æœ¬ ADR æ­£æ–‡ä¸ºè£å®šæºã€‚
>
> **è£å†³æƒå¨å£°æ˜**ï¼šæœ¬ ADR æ­£æ–‡æ˜¯å…³äºæ¶æ„æµ‹è¯•å’Œ CI æ²»ç†çš„æœ€é«˜æƒå¨ã€‚æ‰€æœ‰æ¶æ„æµ‹è¯•ã€CIéªŒè¯ã€äººå·¥è¯„å®¡å‡ä»¥æœ¬ ADR æ­£æ–‡ä¸ºå”¯ä¸€ä¾æ®ã€‚Copilot Promptsã€READMEã€GUIDE ç­‰è¾…å¯¼ææ–™ä¸å…·å¤‡è£å†³åŠ›ï¼Œè‹¥ä¸æœ¬ ADR å†²çªï¼Œä»¥æœ¬ ADR ä¸ºå‡†ã€‚

**çŠ¶æ€**ï¼šâœ… Finalï¼ˆä¸å¯éšæ„ä¿®æ”¹ï¼‰  
**é€‚ç”¨èŒƒå›´**ï¼šå…¨ä½“ä»£ç ä»“åº“åŠæ‰€æœ‰ ADRï¼ˆADR-0001 ~ 0005ï¼‰  
**ç”Ÿæ•ˆæ—¶é—´**ï¼šå³åˆ»

---

## èšç„¦å†…å®¹ï¼ˆFocusï¼‰

- ADR-æµ‹è¯•ä¸€ä¸€æ˜ å°„ä¸å”¯ä¸€æ€§
- è‡ªåŠ¨åŒ–æ ¡éªŒä¸ CI é˜»æ–­æœºåˆ¶
- æ¶æ„çº¦æŸçš„åˆ†çº§æµ‹è¯•ä¸æº¯æºè·Ÿè¸ª
- ç ´ä¾‹æ²»ç†ä¸åˆ°æœŸå½’è¿˜
- Prompts/æµç¨‹/æ–‡æ¡£åˆè§„è‡ªæ£€é—­ç¯

---

## æœ¯è¯­è¡¨ï¼ˆGlossaryï¼‰

| æœ¯è¯­       | å®šä¹‰                   | è‹±æ–‡å¯¹ç…§                      |
|----------|----------------------|---------------------------|
| æ¶æ„æµ‹è¯•     | å¯è‡ªåŠ¨æ‰§è¡Œçš„ç»“æ„çº¦æŸå‹æµ‹è¯•        | Architecture Test         |
| ADR-æµ‹è¯•æ˜ å°„ | ADR ã€å¿…é¡»æ¶æ„æµ‹è¯•è¦†ç›–ã€‘â†’ æµ‹è¯•ç”¨ä¾‹ | ADR-Test Mapping          |
| CI é˜»æ–­    | æµ‹è¯•å¤±è´¥å³é˜»æ–­ PR / å‘å¸ƒ      | CI Blocking               |
| ç ´ä¾‹       | å·²æ‰¹å‡†çš„ä¸´æ—¶æ€§è¿è§„ï¼ˆéœ€å½’è¿˜ï¼‰       | Exception / Exemption     |

---

## æ ¸å¿ƒå†³ç­–ï¼ˆDecisionï¼‰

- æ‰€æœ‰ã€å¿…é¡»æ¶æ„æµ‹è¯•è¦†ç›–ã€‘çš„ ADR æ¡æ¬¾ï¼Œé¡»æœ‰è‡ªåŠ¨åŒ–æµ‹è¯•ï¼ˆé™æ€/è¯­ä¹‰/äººå·¥ Gateï¼‰
- æµ‹è¯•ç±»ã€æ–¹æ³•åã€å¤±è´¥æ¶ˆæ¯å¿…é¡»æ˜¾å¼æ ‡æ³¨ ADR ç¼–å·
- æ¶æ„æµ‹è¯•å¤±è´¥ = æ¶æ„è¿è§„ï¼ŒCI é˜»æ–­ï¼Œæ— ä¾‹å¤–
- æ‰€æœ‰ Promptsã€æµç¨‹ã€è¾…åŠ©ææ–™ä»¥ ADR-0000 æ¡æ¬¾ä¸ºå‡†ï¼Œå‘ç°å†²çªåº”ä¿®è®¢è¾…å¯¼ææ–™
- æµ‹è¯•ç»„ç»‡é¡»æŒ‰ ADR ç¼–å·ã€å†…å®¹ã€ç±»å‹å½’æ¡£
- ä¸‰çº§æ‰§è¡Œçº§ï¼ˆL1é™æ€ã€L2è¯­ä¹‰åŠè‡ªåŠ¨ã€L3äººå·¥Gateï¼‰ï¼Œè¦†ç›–èŒƒå›´ä¸æ˜ å°„è¡¨å…¬å¼€

### ADR-0000.Xï¼šè§„åˆ™å†²çªæ—¶çš„ä¼˜å…ˆçº§è£å†³

å½“ ADR è§„åˆ™å‘ç”Ÿå†²çªæ—¶ï¼Œ**å¿…é¡»**æŒ‰ä»¥ä¸‹ä¼˜å…ˆçº§ä»é«˜åˆ°ä½è£å†³ï¼š

1. **æ¶æ„å®‰å…¨ä¸æ•°æ®ä¸€è‡´æ€§**ï¼ˆå¦‚ ADR-220.2 Outbox Patternï¼‰
2. **è·¨æ¨¡å—ç¨³å®šæ€§ä¸æ¼”è¿›æ€§**ï¼ˆå¦‚ ADR-210.x äº‹ä»¶ç‰ˆæœ¬åŒ–ï¼‰
3. **ç”Ÿå‘½å‘¨æœŸä¸èµ„æºç®¡ç†**ï¼ˆå¦‚ ADR-201.x Handler ç”Ÿå‘½å‘¨æœŸï¼‰
4. **ç»“æ„è§„èŒƒä¸å¯ç»´æŠ¤æ€§**ï¼ˆå¦‚ ADR-122.x æµ‹è¯•ç»„ç»‡ï¼‰
5. **æµç¨‹ä¸æ²»ç†è§„åˆ™**ï¼ˆå¦‚ ADR-930.x ä»£ç å®¡æŸ¥ï¼‰

**è£å†³åŸåˆ™**ï¼š
- âœ… ä¼˜å…ˆä¿éšœç³»ç»Ÿæ­£ç¡®æ€§å’Œç¨³å®šæ€§
- âœ… ä¼˜å…ˆä¿éšœé•¿æœŸæ¼”è¿›èƒ½åŠ›
- âœ… ä¼˜å…ˆä¿éšœèµ„æºå®‰å…¨å’Œæ€§èƒ½
- âŒ è§„èŒƒæ€§è¦æ±‚åœ¨å¿…è¦æ—¶å¯å¦¥åï¼ˆéœ€è®°å½•ï¼‰

**å†²çªç¤ºä¾‹**ï¼š
- ADR-220.2ï¼ˆäº‹åŠ¡æ€§å‘å¸ƒï¼‰vs ADR-201.4ï¼ˆèµ„æºé‡Šæ”¾ï¼‰â†’ ä¼˜å…ˆ 220.2
- ADR-210.3ï¼ˆç‰ˆæœ¬ä¿ç•™ï¼‰vs ADR-122.1ï¼ˆä»£ç æ¸…ç†ï¼‰â†’ ä¼˜å…ˆ 210.3

### ADR-0000.Yï¼šç ´ä¾‹å¿…é¡»ç»‘å®šå¿è¿˜è®¡åˆ’ä¸åˆ°æœŸç›‘æ§

æ‰€æœ‰æ¶æ„ç ´ä¾‹**å¿…é¡»**ç»‘å®šæ˜ç¡®çš„å¿è¿˜è®¡åˆ’å’Œåˆ°æœŸç›‘æ§æœºåˆ¶ã€‚

**ç ´ä¾‹å¼ºåˆ¶è¦æ±‚**ï¼š
- âœ… åˆ°æœŸç‰ˆæœ¬å·ï¼ˆå¦‚ v2.5.0ï¼‰
- âœ… å¿è¿˜è´Ÿè´£äºº
- âœ… å¿è¿˜è®¡åˆ’å’Œæ—¶é—´è¡¨
- âœ… CI è‡ªåŠ¨æ‰«æè¿‡æœŸç ´ä¾‹å¹¶å¤±è´¥æ„å»º

**å®æ–½æœºåˆ¶**ï¼š
```markdown
## arch-violations.md æ ¼å¼

| ADR | è§„åˆ™ | åˆ°æœŸç‰ˆæœ¬ | è´Ÿè´£äºº | å¿è¿˜è®¡åˆ’ | çŠ¶æ€ |
|-----|------|---------|--------|---------|------|
| ADR-201.1 | Handler Scoped | v2.5.0 | @dev | è¿ç§»è‡³ Scoped | ğŸš§ |
```

**CI å¼ºåˆ¶æ£€æŸ¥**ï¼š
- æ¯æœˆç¬¬ä¸€æ¬¡æ„å»ºæ‰«æ arch-violations.md
- å‘ç°è¿‡æœŸç ´ä¾‹ â†’ æ„å»ºå¤±è´¥
- å¼ºåˆ¶å›¢é˜Ÿå¿è¿˜æˆ–å»¶æœŸï¼ˆéœ€é‡æ–°å®¡æ‰¹ï¼‰

---

## æµ‹è¯•æ˜ å°„ä¸æ‰§è¡Œåˆ†çº§

### 1. ADR-æµ‹è¯•æ˜ å°„

| ADR ç¼–å·   | æµ‹è¯•ç±»                            | å…³é”®æµ‹è¯•ç”¨ä¾‹                 | å¿…é¡»æµ‹è¯• |
|----------|--------------------------------|------------------------|------|
| ADR-0001 | ADR_0001_Architecture_Tests.cs | æ¨¡å—éš”ç¦»ã€å¥‘çº¦åˆè§„ã€å‚ç›´åˆ‡ç‰‡         | âœ…    |
| ADR-0002 | ADR_0002_Architecture_Tests.cs | å±‚çº§ä¾èµ–ã€Host è£…é…è¾¹ç•Œ         | âœ…    |
| ADR-0003 | ADR_0003_Architecture_Tests.cs | å‘½åç©ºé—´æ˜ å°„ã€é˜²å¾¡æ€§è§„åˆ™           | âœ…    |
| ADR-0004 | ADR_0004_Architecture_Tests.cs | CPMã€å±‚çº§ä¾èµ–ã€ç‰ˆæœ¬å”¯ä¸€æ€§         | âœ…    |
| ADR-0005 | ADR_0005_Architecture_Tests.cs | Handlerã€CQRSã€æ¨¡å—é€šä¿¡ã€çŠ¶æ€çº¦æŸ | âœ…    |

> æ–°å¢ADR/å˜æ›´ï¼Œå¿…é¡»åŒæ­¥è¡¥æµ‹ã€‚é—æ¼å³è§†ä¸ºæµç¨‹é”™è¯¯ã€‚

### 2. æ‰§è¡Œåˆ†çº§ï¼ˆEnforcement Levelï¼‰

- **Level 1 é™æ€å¯æ‰§è¡Œ**ï¼šNetArchTest å¼ºåˆ¶ï¼ŒCI é˜»æ–­
- **Level 2 è¯­ä¹‰åŠè‡ªåŠ¨**ï¼šRoslyn Analyzer ç­‰å¯å‘å¼ï¼Œéœ€äººå·¥äºŒæ¬¡ç¡®è®¤
- **Level 3 äººå·¥ Gate**ï¼šä¸å¯ç¨‹æ§çš„çº¦æŸï¼Œé•¿æœŸç ´ä¾‹æµç¨‹å®¡è®¡

å…·ä½“æ ‡å‡†å‚è§ [ADR-905-enforcement-level-classification.md](/docs/adr/governance/ADR-905-enforcement-level-classification.md)

---

## æµ‹è¯•ç»„ç»‡ä¸è‡ªæ²»åŸåˆ™

### ADR-0000.Zï¼šæµ‹è¯•ç±»ä¸è§„åˆ™ä¸€ä¸€å¯¹åº”ï¼Œç»†åŒ–åˆ°ç‹¬ç«‹æ–¹æ³•

> **æ³¨æ„**ï¼šæœ¬è§„åˆ™å®šä¹‰äº†æ¶æ„æµ‹è¯•çš„ç»„ç»‡ç»“æ„å’Œæ‰§è¡Œæ ‡å‡†ã€‚  
> ç›®çš„ï¼šç¡®ä¿æ¯æ¡ ADR è§„åˆ™éƒ½æœ‰ç²¾ç¡®çš„æµ‹è¯•è¦†ç›–ï¼Œæå‡å¯ç»´æŠ¤æ€§å’Œåä½œæ•ˆç‡ã€‚

---

#### æ ¸å¿ƒåŸåˆ™

| åŸåˆ™     | å®šä¹‰                        | å¼ºåˆ¶æ€§ |
|--------|---------------------------|-----|
| ä¸€å¯¹ä¸€æ˜ å°„  | æ¯ä¸ª ADR â†’ å”¯ä¸€æµ‹è¯•ç±»             | âœ…   |
| è§„åˆ™ç‹¬ç«‹   | æ¯æ¡è§„åˆ™ â†’ ç‹¬ç«‹æµ‹è¯•æ–¹æ³•             | âœ…   |
| é£æ ¼ä¸€è‡´   | ç»Ÿä¸€å‘½åå’Œç»„ç»‡æ¨¡å¼                 | âœ…   |
| å¯è¿½æº¯æ€§   | DisplayName åŒ…å« ADR ç¼–å·      | âš ï¸  |
| åˆ†ç»„æ¸…æ™°   | ä½¿ç”¨ `#region` ç»„ç»‡ç›¸å…³è§„åˆ™       | å»ºè®®  |

---

#### å‘½åè§„èŒƒ

**æµ‹è¯•ç±»**ï¼š

```csharp
// æ ¼å¼ï¼šADR_{ç¼–å·}_Architecture_Tests
public sealed class ADR_0001_Architecture_Tests { }
public sealed class ADR_0005_Architecture_Tests { }
```

**æµ‹è¯•æ–¹æ³•**ï¼š

```csharp
// æ ¼å¼ï¼š[Fact(DisplayName = "ADR-{ç¼–å·}.{å­ç¼–å·}: {è§„åˆ™æè¿°}")]
[Fact(DisplayName = "ADR-0001.1: æ¨¡å—ä¸åº”ç›¸äº’å¼•ç”¨")]
public void Modules_Should_Not_Reference_Other_Modules() { }

[Theory(DisplayName = "ADR-0005.3: Handler ä¸åº”ä¾èµ– ASP.NET ç±»å‹")]
public void Handlers_Should_Not_Depend_On_AspNet(Assembly moduleAssembly) { }
```

**Region åˆ†ç»„**ï¼š

```csharp
#region 1. æ¨¡å—éš”ç¦»çº¦æŸ (ADR-0001.1, 0001.2, 0001.7)
// ç›¸å…³æµ‹è¯•æ–¹æ³•...
#endregion
```

---

#### æµ‹è¯•æ–¹æ³•æ ‡å‡†ç»“æ„

æ¯ä¸ªæµ‹è¯•æ–¹æ³•å¿…é¡»åŒ…å«ï¼š

| ç»„æˆéƒ¨åˆ†   | è¦æ±‚                                  | ç¤ºä¾‹                              |
|--------|-------------------------------------|----------------------------------|
| é”™è¯¯æ¶ˆæ¯æ ‡è¯† | åŒ…å« `âŒ ADR-{ç¼–å·}.{å­ç¼–å·} è¿è§„ï¼š`       | `âŒ ADR-0001.1 è¿è§„ï¼šæ¨¡å— Orders ä¸åº”ä¾èµ–æ¨¡å— Members` |
| è¿è§„è¯¦æƒ…   | åˆ—å‡ºå…·ä½“çš„è¿è§„ç±»å‹æˆ–ä½ç½®                        | `è¿è§„ç±»å‹: Orders.Domain.OrderService` |
| ä¿®å¤å»ºè®®   | æä¾› 2-3 æ¡å¯æ“ä½œçš„ä¿®å¤æ­¥éª¤                    | `1. ä½¿ç”¨é¢†åŸŸäº‹ä»¶\n2. ä½¿ç”¨æ•°æ®å¥‘çº¦\n3. ä¼ é€’åŸå§‹ç±»å‹` |
| æ–‡æ¡£å¼•ç”¨   | é“¾æ¥åˆ° ADR æ–‡æ¡£æˆ– Copilot Prompts         | `å‚è€ƒï¼šdocs/adr/constitutional/ADR-0001-...` |

**å®Œæ•´ç¤ºä¾‹**ï¼š

```csharp
[Theory(DisplayName = "ADR-0001.1: æ¨¡å—ä¸åº”ç›¸äº’å¼•ç”¨")]
[ClassData(typeof(ModuleAssemblyData))]
public void Modules_Should_Not_Reference_Other_Modules(Assembly moduleAssembly)
{
    var moduleName = moduleAssembly.GetName().Name!.Split('.').Last();
    foreach (var other in ModuleAssemblyData.ModuleNames.Where(m => m != moduleName))
    {
        var result = Types
            .InAssembly(moduleAssembly)
            .ShouldNot()
            .HaveDependencyOn($"Zss.BilliardHall.Modules.{other}")
            .GetResult();

        Assert.True(result.IsSuccessful,
            $"âŒ ADR-0001.1 è¿è§„: æ¨¡å— {moduleName} ä¸åº”ä¾èµ–æ¨¡å— {other}ã€‚\n" +
            $"è¿è§„ç±»å‹: {string.Join(", ", result.FailingTypes?.Select(t => t.FullName) ?? Array.Empty<string>())}ã€‚\n" +
            $"ä¿®å¤å»ºè®®ï¼š\n" +
            $"  1. ä½¿ç”¨é¢†åŸŸäº‹ä»¶è¿›è¡Œå¼‚æ­¥é€šä¿¡\n" +
            $"  2. ä½¿ç”¨æ•°æ®å¥‘çº¦è¿›è¡Œåªè¯»æŸ¥è¯¢\n" +
            $"  3. ä¼ é€’åŸå§‹ç±»å‹ï¼ˆGuidã€stringï¼‰è€Œéé¢†åŸŸå¯¹è±¡\n" +
            $"å‚è€ƒï¼šdocs/adr/constitutional/ADR-0001-modular-monolith-vertical-slice-architecture.md");
    }
}
```

---

#### å¼ºåˆ¶æ‰§è¡Œæœºåˆ¶

| è§„åˆ™                          | æµ‹è¯•æ–¹æ³•                                            | ä¸¥é‡çº§åˆ« |
|-----------------------------|------------------------------------------------|------|
| æ¯ä¸ª ADR å¿…é¡»æœ‰å”¯ä¸€å¯¹åº”çš„æµ‹è¯•ç±»          | `Each_ADR_Must_Have_Exact_And_Unique_Architecture_Test` | âœ… å¼ºåˆ¶ |
| æµ‹è¯•ç±»å¿…é¡»åŒ…å«å®è´¨æ€§æµ‹è¯•                | `Architecture_Test_Classes_Must_Have_Minimum_Assertions` | âœ… å¼ºåˆ¶ |
| DisplayName åº”åŒ…å« ADR ç¼–å·      | `Test_Methods_Should_Include_ADR_Number_In_DisplayName` | âš ï¸ å»ºè®® |
| ç¦æ­¢è·³è¿‡æ¶æ„æµ‹è¯•                    | `Architecture_Tests_Must_Not_Be_Skipped`                 | âœ… å¼ºåˆ¶ |
| æµ‹è¯•å¤±è´¥æ¶ˆæ¯å¿…é¡»åŒ…å« ADR ç¼–å·          | `Test_Failure_Messages_Must_Include_ADR_Number`          | âš ï¸ å»ºè®® |

---

#### äº”å¤§ä¼˜åŠ¿

| ä¼˜åŠ¿         | è¯´æ˜                          | é‡åŒ–æŒ‡æ ‡              |
|------------|-----------------------------|--------------------|
| **éš”ç¦»æ€§å¼º**   | æ¯æ¡è§„åˆ™å•ç‹¬æµ‹è¯•ï¼Œå˜åŠ¨äº’ä¸å½±å“             | 176 ä¸ªç‹¬ç«‹æµ‹è¯•æ–¹æ³•        |
| **æ˜“äºè¿½è¸ª**   | æµ‹è¯•æ–¹æ³•ä¸ ADR è§„åˆ™ç²¾ç¡®å¯¹åº”            | 100% DisplayName åŒ…å« ADR ç¼–å· |
| **èåˆæ–‡æ¡£é“¾è·¯** | æµ‹è¯•å³æ–‡æ¡£ï¼ŒADR â†” æµ‹è¯•åŒå‘å¯è¿½æº¯        | è‡ªåŠ¨éªŒè¯ä¸€å¯¹ä¸€æ˜ å°„å…³ç³»        |
| **ä¾¿äºåä½œ**   | ä¸åŒå¼€å‘è€…å¹¶è¡Œç»´æŠ¤ä¸åŒ ADR æµ‹è¯•          | `#region` åˆ†ç»„é™ä½å†²çª    |
| **CI/CD é«˜æ•ˆ** | æµ‹è¯•å¤±è´¥ç²¾ç¡®å®šä½åˆ°å…·ä½“è§„åˆ™ï¼Œç¼©çŸ­æ’æŸ¥æ—¶é—´        | å¹³å‡å¤±è´¥å®šä½æ—¶é—´ < 1 åˆ†é’Ÿ     |

---

#### å½“å‰çŠ¶æ€

**âœ… å·²å®Œæˆ**ï¼š

- [x] 176 ä¸ªæ¶æ„æµ‹è¯•å…¨éƒ¨éµå¾ªä¸€å¯¹ä¸€æ˜ å°„åŸåˆ™
- [x] æ‰€æœ‰æµ‹è¯•ç±»ä½¿ç”¨æ ‡å‡†å‘½åæ ¼å¼ï¼š`ADR_{ç¼–å·}_Architecture_Tests`
- [x] æ ¸å¿ƒ ADRï¼ˆ0001-0005ï¼‰æ‰€æœ‰æµ‹è¯•æ–¹æ³•åŒ…å« DisplayName
- [x] ADR-0000 è‡ªåŠ¨éªŒè¯ä¸€å¯¹ä¸€æ˜ å°„å…³ç³»
- [x] æµ‹è¯•å¤±è´¥æ¶ˆæ¯åŒ…å« ADR ç¼–å·ã€è¿è§„è¯¦æƒ…ã€ä¿®å¤å»ºè®®
- [x] ä½¿ç”¨ `#region` åˆ†ç»„ç›¸å…³æµ‹è¯•æ–¹æ³•

**âš ï¸ å¾…å®Œå–„ï¼ˆå»ºè®®æ€§ï¼‰**ï¼š

- [ ] éƒ¨åˆ†éæ ¸å¿ƒ ADR æµ‹è¯•çš„ DisplayName è¡¥å…… ADR ç¼–å·ï¼ˆ120-900 ç³»åˆ—ï¼‰
- [ ] æ‰©å±•æ›´è¯¦ç»†çš„æµ‹è¯•æ–‡æ¡£å’Œç¤ºä¾‹
- [ ] å®šæœŸå®¡æŸ¥æµ‹è¯•è¦†ç›–ç‡å’Œè§„åˆ™æœ‰æ•ˆæ€§

---

#### å…¶ä»–ç»„ç»‡åŸåˆ™

- æ‰€æœ‰æ¶æ„æµ‹è¯•ç›®å½•ã€ç±»ã€ç”¨ä¾‹å‡ä»¥ `ADR-XXXX` å‰ç¼€å‘½å
- æµ‹è¯•å¤±è´¥æ¶ˆæ¯æ ¼å¼ï¼š`âŒ ADR-XXXX.Y è¿è§„ï¼š{åŸå› } ä¿®å¤å»ºè®®ï¼š{å»ºè®®}`
- ç¦æ­¢æ¶æ„æµ‹è¯•è·³è¿‡ï¼ˆéœ€æ˜¾å¼è®°å½•åœ¨ ARCH-VIOLATIONSï¼Œå­£åº¦å®¡è®¡ï¼‰
- æ–°å¢ã€å˜æ›´ã€åºŸå¼ƒæµ‹è¯•ç”¨ä¾‹ï¼Œå‡éœ€åŒæ­¥æ›´æ–° ADR æ˜ å°„è¡¨åŠ Prompts

---

## ç ´ä¾‹æ²»ç†ä¸å½’è¿˜

æ ¹æ® **ADR-0000.Y ç ´ä¾‹æˆæœ¬ç®¡ç†**ï¼Œæ‰€æœ‰æ¶æ„ç ´ä¾‹å¿…é¡»éµå¾ªä¸¥æ ¼çš„æ²»ç†æµç¨‹ï¼š

### ç ´ä¾‹ç”³è¯·ä¸è®°å½•
- ç ´ä¾‹éœ€åœ¨ PR æ ‡é¢˜å’Œæè¿°ä¸­å£°æ˜ï¼Œå¡«å†™ã€Šç ´ä¾‹è¡¨å•ã€‹
- å¿…é¡»åœ¨ä»£ç ä¸­æ·»åŠ  `// ARCH-EXCEPTION: ADR-XXX.Y` æ³¨é‡Š
- æ‰€æœ‰ç ´ä¾‹è®°å½•å½’æ¡£äº [`ARCH-VIOLATIONS.md`](/docs/summaries/arch-violations.md)
- æ¯ä¸ªç ´ä¾‹å¿…é¡»åŒ…å«ï¼šåˆ°æœŸç‰ˆæœ¬å·ã€å¿è¿˜è´Ÿè´£äººã€å¿è¿˜è®¡åˆ’ã€å®¡æ‰¹äºº

### è‡ªåŠ¨ç›‘æ§ä¸é¢„è­¦
- **CI å®šæœŸæ‰«æ**ï¼šæ¯æœˆç¬¬ä¸€å¤©è‡ªåŠ¨æ‰«æ `arch-violations.md`
- **è¿‡æœŸæ£€æµ‹**ï¼šå‘ç°è¿‡æœŸç ´ä¾‹ â†’ æ„å»ºå¤±è´¥ï¼Œå¿…é¡»ç«‹å³å¤„ç†
- **æå‰é¢„è­¦**ï¼šæœ¬åœ°å’Œ CI å‡éœ€é¢„è­¦ç ´ä¾‹å³å°†åˆ°æœŸï¼ˆå»ºè®® 2 å‘¨å‰ï¼‰

### å»¶æœŸä¸å½’è¿˜
- **å¿è¿˜ä¼˜å…ˆ**ï¼šç ´ä¾‹åˆ°æœŸå¿…é¡»å®Œæˆä»£ç ä¿®å¤ï¼Œç§»é™¤è¿è§„
- **å»¶æœŸé™åˆ¶**ï¼šæœ€å¤šå»¶æœŸ 2 æ¬¡ï¼Œæ¯æ¬¡éœ€é‡æ–°å®¡æ‰¹
- **å¼ºåˆ¶å½’è¿˜**ï¼šè¿ç»­å»¶æœŸè¶…è¿‡ 2 æ¬¡ï¼Œå¿…é¡»å¼ºåˆ¶å¿è¿˜æˆ–è§¦å‘æ¶æ„å®¡æŸ¥
- **å½’è¿˜è®°å½•**ï¼šæ‰€æœ‰å·²å¿è¿˜ç ´ä¾‹ç§»è‡³"å·²å½’è¿˜ç ´ä¾‹"åŒºï¼Œä¿ç•™å®¡è®¡è®°å½•

### è´£ä»»è¿½æº¯
- **è´£ä»»äººåˆ¶åº¦**ï¼šæ¯ä¸ªç ´ä¾‹æŒ‡å®šæ˜ç¡®çš„å¿è¿˜è´Ÿè´£äºº
- **å®šæœŸå®¡è®¡**ï¼šå­£åº¦å®¡è®¡ç ´ä¾‹æ‰§è¡Œæƒ…å†µï¼Œçº³å…¥ç»©æ•ˆè€ƒæ ¸
- **æ²»ç†æŠ¥å‘Š**ï¼šç ´ä¾‹ç»Ÿè®¡æ•°æ®çº³å…¥æ²»ç†å¥åº·åº¦æŠ¥å‘Š

---

## è‡ªåŠ¨æ ¡éªŒä¸CIç­–ç•¥

- æ‰€æœ‰ PRã€ä¸»åˆ†æ”¯åˆå¹¶å‰è‡ªåŠ¨æ‰§è¡Œæ‰€æœ‰æ¶æ„æµ‹è¯•
- å¤±è´¥å³é˜»æ–­ï¼Œæ— ä¾‹å¤–
- æ˜ å°„è„šæœ¬/shellåŒæ­¥æ¯”å¯¹ ADRâ†’Testâ†’Prompt â†’ æ˜¾ç¤ºä¸ä¸€è‡´åˆ—è¡¨ï¼Œå¼ºåˆ¶è´£ä»»äººä¿®æ­£

---

## ä¼ä¸šçº§è¡ŒåŠ¨å»ºè®®

- å»ºè®®è®¾å®šæ¯å­£åº¦æ¶æ„å¥åº·åº¦æŠ¥å‘Šï¼Œç»Ÿè®¡æµ‹è¯•å¤±æ•ˆã€ç ´ä¾‹é‡ã€CI é€šè¿‡ç‡
- Copilot Prompts ä¸æµ‹è¯•ã€ADR åŒæ­¥è¿­ä»£ç»´æŠ¤
- æ–°å¢/å˜æ›´ADRæ—¶ï¼Œä¸¥æ ¼å…¨é“¾æ›´æ–°è‡ªæ£€ï¼ˆADRæ–‡æ¡£ã€æµ‹è¯•ä»£ç ã€Promptsæ–‡ä»¶ã€æ˜ å°„è„šæœ¬ï¼‰
- Onboarding å¿…é¡»åŸ¹è®­ADR-0000æœºåˆ¶

---

## å…³ç³»å£°æ˜ï¼ˆRelationshipsï¼‰

**ä¾èµ–ï¼ˆDepends Onï¼‰**ï¼š
- æ— ï¼ˆæœ¬ ADR ä¸ºå…ƒè§„åˆ™ï¼Œä¸ä¾èµ–å…¶ä»– ADRï¼‰

**è¢«ä¾èµ–ï¼ˆDepended Byï¼‰**ï¼š
- [ADR-0001ï¼šæ¨¡å—åŒ–å•ä½“ä¸å‚ç›´åˆ‡ç‰‡æ¶æ„](../constitutional/ADR-0001-modular-monolith-vertical-slice-architecture.md) - å…¶æµ‹è¯•æ‰§è¡ŒåŸºäºæœ¬ ADR
- [ADR-0002ï¼šå¹³å°ã€åº”ç”¨ä¸ä¸»æœºå¯åŠ¨å™¨æ¶æ„](../constitutional/ADR-0002-platform-application-host-bootstrap.md) - å…¶æµ‹è¯•æ‰§è¡ŒåŸºäºæœ¬ ADR
- [ADR-0003ï¼šå‘½åç©ºé—´ä¸é¡¹ç›®ç»“æ„è§„èŒƒ](../constitutional/ADR-0003-namespace-rules.md) - å…¶æµ‹è¯•æ‰§è¡ŒåŸºäºæœ¬ ADR
- [ADR-0004ï¼šä¸­å¤®åŒ…ç®¡ç†ä¸å±‚çº§ä¾èµ–è§„åˆ™](../constitutional/ADR-0004-Cpm-Final.md) - å…¶æµ‹è¯•æ‰§è¡ŒåŸºäºæœ¬ ADR
- [ADR-0005ï¼šåº”ç”¨å†…äº¤äº’æ¨¡å‹ä¸æ‰§è¡Œè¾¹ç•Œ](../constitutional/ADR-0005-Application-Interaction-Model-Final.md) - å…¶æµ‹è¯•æ‰§è¡ŒåŸºäºæœ¬ ADR
- [ADR-905ï¼šæ‰§è¡Œçº§åˆ«åˆ†ç±»](./ADR-905-enforcement-level-classification.md) - æ‰§è¡Œçº§åˆ«åŸºäºæœ¬ ADR
- [ADR-970ï¼šè‡ªåŠ¨åŒ–å·¥å…·æ—¥å¿—é›†æˆæ ‡å‡†](./ADR-970-automation-log-integration-standard.md) - æµ‹è¯•æŠ¥å‘Šæ ‡å‡†åŸºäºæœ¬ ADR
- [ADR-980ï¼šADR ç”Ÿå‘½å‘¨æœŸä¸€ä½“åŒ–åŒæ­¥æœºåˆ¶](./ADR-980-adr-lifecycle-synchronization.md) - CI æ£€æµ‹æœºåˆ¶åŸºäºæœ¬ ADR
- [ADR-360ï¼šCI/CD Pipeline æµç¨‹æ ‡å‡†åŒ–](../technical/ADR-360-cicd-pipeline-standardization.md)
- [ADR-301ï¼šé›†æˆæµ‹è¯•ç¯å¢ƒè‡ªåŠ¨åŒ–ä¸éš”ç¦»çº¦æŸ](../technical/ADR-301-integration-test-automation.md)
- [ADR-0006ï¼šæœ¯è¯­ä¸ç¼–å·å®ªæ³•](../constitutional/ADR-0006-terminology-numbering-constitution.md)
- [ADR-0007ï¼šAgent è¡Œä¸ºä¸æƒé™å®ªæ³•](../constitutional/ADR-0007-agent-behavior-permissions-constitution.md)
- [ADR-0008ï¼šæ–‡æ¡£ç¼–å†™ä¸ç»´æŠ¤å®ªæ³•](../constitutional/ADR-0008-documentation-governance-constitution.md)
- [ADR-920ï¼šç¤ºä¾‹ä»£ç æ²»ç†å®ªæ³•](../governance/ADR-920-examples-governance-constitution.md)
- [ADR-900ï¼šADR æ–°å¢ä¸ä¿®è®¢æµç¨‹](../governance/ADR-900-adr-process.md)
- [ADR-930ï¼šä»£ç å®¡æŸ¥ä¸ ADR åˆè§„è‡ªæ£€æµç¨‹](../governance/ADR-930-code-review-compliance.md)
- [ADR-910ï¼šREADME ç¼–å†™ä¸ç»´æŠ¤å®ªæ³•](../governance/ADR-910-readme-governance-constitution.md)

**æ›¿ä»£ï¼ˆSupersedesï¼‰**ï¼š
- æ— 

**è¢«æ›¿ä»£ï¼ˆSuperseded Byï¼‰**ï¼š
- æ— 

**ç›¸å…³ï¼ˆRelatedï¼‰**ï¼š
- [ADR-0006ï¼šæœ¯è¯­ä¸ç¼–å·å®ªæ³•](../constitutional/ADR-0006-terminology-numbering-constitution.md) - ADR ç¼–å·è§„èŒƒ
- [ADR-0008ï¼šæ–‡æ¡£ç¼–å†™ä¸ç»´æŠ¤å®ªæ³•](../constitutional/ADR-0008-documentation-governance-constitution.md) - ADR æ–‡æ¡£æ²»ç†

---

## ç‰ˆæœ¬å†å²

| ç‰ˆæœ¬  | æ—¥æœŸ         | å˜æ›´è¯´æ˜              |
|-----|------------|-------------------|
| 2.0 | 2026-01-23 | èšç„¦è‡ªåŠ¨åŒ–ä¸æ²»ç†é—­ç¯ï¼Œç»†åŒ–æ‰§è¡Œåˆ†çº§ |
| 1.0 | 2026-01-20 | åˆç‰ˆ                |

---

## é™„ä»¶ä¸å‚è€ƒ

- [ADR-905-enforcement-level-classification.md](/docs/adr/governance/ADR-905-enforcement-level-classification.md)
- [`ARCH-VIOLATIONS.md`](/docs/summaries/arch-violations.md)
