# ADR å½’æ¡£ç›®å½•

> ğŸ›ï¸ **æœ¬ç›®å½•ç”¨äºå­˜æ”¾å·²è¢«å–ä»£ï¼ˆSupersededï¼‰çš„ ADRï¼Œä»…ç”¨äºå†å²è¿½æº¯ï¼Œä¸å…·å¤‡ä»»ä½•è£å†³åŠ›æˆ–æ‰§æ³•æƒã€‚**

## ç›®å½•è¯´æ˜

æœ¬ç›®å½•åŒ…å«æ‰€æœ‰çŠ¶æ€ä¸º `Superseded` çš„ ADRã€‚è¿™äº› ADR å·²è¢«æ–°çš„ ADR å®Œå…¨å¸æ”¶æˆ–å–ä»£ï¼Œä¸å†ä½œä¸ºæ¶æ„æ²»ç†çš„ä¾æ®ã€‚

## å½’æ¡£åŸåˆ™

### âœ… å½’æ¡£ ADR çš„ç‰¹å¾

1. **çŠ¶æ€**ï¼š`status: Superseded`
2. **æ ‡è®°**ï¼šé¡¶éƒ¨åŒ…å« `ğŸ›ï¸ Archived Notice`
3. **æ›¿ä»£è€…**ï¼šå…ƒæ•°æ®ä¸­æ˜ç¡®æŒ‡å®š `superseded_by: ADR-XXX`
4. **å…³ç³»å£°æ˜**ï¼šä»…ä¿ç•™å†å²è¿½æº¯æ‰€éœ€çš„æœ€å°å…³ç³»é›†

### âŒ å½’æ¡£ ADR çš„é™åˆ¶

å½’æ¡£çš„ ADR **ä¸å¾—**ï¼š

- è¢« ArchitectureTests å¼•ç”¨æˆ–æµ‹è¯•
- è¢« Analyzer / CI Gate è¯»å–æˆ–æ‰§è¡Œ
- è¢«ä½œä¸ºè£å†³ä¾æ®å•ç‹¬å¼•ç”¨
- åŒ…å«ä»»ä½•æ‰§æ³•ç›¸å…³çš„å…³ç³»ï¼ˆå¦‚ `enforced by`, `tested by`ï¼‰

### âš ï¸ å½’æ¡£ ADR çš„ç”¨é€”

å½’æ¡£çš„ ADR **ä»…å¯**ç”¨äºï¼š

- å†å²è¿½æº¯ï¼šäº†è§£æ¶æ„æ¼”è¿›å†ç¨‹
- è®¾è®¡è¯´æ˜ï¼šç†è§£æ¶æ„å†³ç­–çš„èƒŒæ™¯å’Œç†ç”±
- æ–‡æ¡£å¼•ç”¨ï¼šåœ¨æ–° ADR ä¸­è¯´æ˜æ¼”è¿›è¿‡ç¨‹

## è‡ªåŠ¨åŒ–å¤„ç†è§„åˆ™

### Analyzer / Script è¡Œä¸ºçº¦æŸ

æ‰€æœ‰æ‰«æ ADR çš„å·¥å…·ï¼ˆAnalyzerã€CI Scriptã€éªŒè¯è„šæœ¬ç­‰ï¼‰**å¿…é¡»**ï¼š

1. **æ’é™¤ archive ç›®å½•**
   ```bash
   # ç¤ºä¾‹ï¼šfind å‘½ä»¤æ’é™¤ archive
   find docs/adr -name "ADR-*.md" -not -path "*/archive/*"
   ```

2. **è¿‡æ»¤ Superseded çŠ¶æ€**
   ```bash
   # ç¤ºä¾‹ï¼šä»…å¤„ç† Final/Accepted çŠ¶æ€çš„ ADR
   grep -l "status: Final\|status: Accepted" *.md
   ```

3. **ä¸ç”Ÿæˆ RuleId**
   - `status != Final` çš„ ADR ä¸åº”ç”Ÿæˆä»»ä½• RuleId
   - archive ç›®å½•ä¸­çš„ ADR æ°¸ä¹…æ’é™¤

### CI Pipeline è¦æ±‚

CI Pipeline åœ¨æ‰«æ ADR æ—¶ï¼š

- âœ… åº”è·³è¿‡ `docs/adr/archive` ç›®å½•
- âœ… åº”è¿‡æ»¤æ‰ `status: Superseded` çš„ ADR
- âœ… ä»…å¯¹ `status: Final` çš„ ADR æ‰§è¡Œæ¶æ„æµ‹è¯•
- âŒ ä¸åº”å¯¹å½’æ¡£ ADR æ‰§è¡Œä»»ä½•å½¢å¼çš„å¼ºåˆ¶éªŒè¯

## ç›®å½•ç»“æ„

```
docs/adr/archive/
â”œâ”€â”€ governance/          # æ²»ç†ç±»å½’æ¡£ ADR
â”‚   â”œâ”€â”€ ADR-903-*.MD
â”‚   â”œâ”€â”€ ADR-904-*.md
â”‚   â””â”€â”€ ADR-906-*.md
â””â”€â”€ README.md           # æœ¬æ–‡ä»¶
```

## å‚è€ƒ

- [ADR-907ï¼šArchitectureTests æ‰§æ³•æ²»ç†ä½“ç³»](../governance/ADR-907-architecture-tests-enforcement-governance.md) - æ›¿ä»£äº† ADR-903/904/906
- [ADR-0000ï¼šæ¶æ„æµ‹è¯•ä¸ CI æ²»ç†å…ƒè§„åˆ™](../governance/ADR-0000-architecture-tests.md)

---

**ç»´æŠ¤è€…**ï¼šArchitecture Board  
**æœ€åæ›´æ–°**ï¼š2026-01-29
