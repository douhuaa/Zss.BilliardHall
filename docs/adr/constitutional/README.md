# 宪法层 ADR (ADR-0001 ~ 0009)

**编号范围**：ADR-0001 ~ ADR-0009  
**层级定位**：系统根基 / 不可推翻约束

---

## ⚖️ 权威声明（Authority Declaration）

> **本 README 和相关的 Copilot Prompts（如 `docs/copilot/adr-XXXX.prompts.md`）仅为说明、辅导和快速参考之用。**
>
> **在架构判定、CI 校验、测试执行时，唯一判决依据为各宪法层 ADR
的正文内容（如 `ADR-0001-modular-monolith-vertical-slice-architecture.md`）。**
>
> - ✅ ADR 正文 = 宪法，具有最高权威
> - 📖 README / Prompts = 辅导材料，帮助理解和应用
> - 🚫 若辅导材料与 ADR 正文冲突，以 ADR 正文为准
> - 🔍 架构测试的唯一依据是 ADR 正文中标注【必须架构测试覆盖】的条款

---

## 定义

宪法层 ADR 是系统架构的根本约束，具有最高优先级：

- **不可推翻**：后续 ADR 不得与宪法层冲突
- **只能细化**：后续 ADR 只能补充细节，不能削弱约束
- **破例必审**：任何违反宪法层的破例必须经过架构委员会审批
- **永久记录**：所有破例记录在案，可追溯

---

## 当前宪法层 ADR

| ADR 编号   | 标题                               | 核心约束                 |
|----------|----------------------------------|----------------------|
| ADR-0001 | 模块化单体与垂直切片架构                     | 模块隔离、垂直切片、契约规则       |
| ADR-0002 | Platform/Application/Host 三层启动体系 | 三层装配、单向依赖            |
| ADR-0003 | 命名空间与项目边界规范                      | 命名空间映射、防御性规则         |
| ADR-0004 | 中央包管理（CPM）规范                     | 集中版本管理、依赖分层          |
| ADR-0005 | 应用内交互模型与执行边界                     | Handler 模式、CQRS、异步优先 |

---

## 修订条件

宪法层 ADR 只能在以下情况修订：

1. **发现根本性设计缺陷**：经架构委员会一致同意
2. **技术栈重大变更**：如从单体迁移到微服务
3. **法规/合规要求**：外部强制性要求

修订流程：RFC → 公示（至少 2 周）→ 架构委员会投票（100% 同意）→ 永久记录

---

## 参考文档

- [架构宪法层完整说明](../ARCHITECTURE-CONSTITUTIONAL-LAYER.md)
- [ADR 新增与修订流程](../governance/ADR-0900-adr-process.md)
