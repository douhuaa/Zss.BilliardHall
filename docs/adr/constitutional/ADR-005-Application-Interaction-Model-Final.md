---
adr: ADR-005
title: "åº”ç”¨å†…äº¤äº’æ¨¡å‹ä¸æ‰§è¡Œè¾¹ç•Œ"
status: Final
level: Constitutional
deciders: "Architecture Board"
date: 2026-01-29
version: "3.0"
maintainer: "Architecture Board"
primary_enforcement: L1
reviewer: "Architecture Board"
supersedes: null
superseded_by: null
---

# ADR-005ï¼šåº”ç”¨å†…äº¤äº’æ¨¡å‹æç®€åˆ¤è£ç‰ˆ

> âš–ï¸ **æœ¬ ADR æ˜¯æ¶æ„å®ªæ³•çš„æ ¸å¿ƒï¼Œå®šä¹‰åº”ç”¨å†…äº¤äº’æ¨¡å‹çš„å”¯ä¸€è£å†³æºã€‚**

---

## Focusï¼ˆèšç„¦å†…å®¹ï¼‰

ä»…å®šä¹‰é€‚ç”¨äºå…¨ç”Ÿå‘½å‘¨æœŸè‡ªåŠ¨åŒ–è£å†³/é˜»æ–­çš„**è¿è¡Œæ—¶äº¤äº’çº¦æŸ**ï¼š

- Use Case + Handler = æœ€å°ä¸šåŠ¡å†³ç­–å•å…ƒ
- Handler èŒè´£ã€è¾¹ç•Œã€åˆè§„è¾“å‡º
- æ¨¡å—é€šä¿¡ï¼ˆåŒæ­¥/å¼‚æ­¥ã€å¥‘çº¦å½¢å¼ï¼‰ç¡¬çº¦æŸ
- CQRS å¼ºåˆ¶åˆ†ç¦»ä¸å”¯ä¸€æƒå¨
- ç¦æ­¢å…±äº«é¢†åŸŸæ¨¡å‹ã€æœªå®¡æ‰¹åŒæ­¥ã€endpoint/handler è§’è‰²æ··æ·†

---

## Glossaryï¼ˆæœ¯è¯­è¡¨ï¼‰

| æœ¯è¯­ | å®šä¹‰ | è‹±æ–‡å¯¹ç…§ |
|---------------|----------------|--------------|
| Use Case      | ç«¯åˆ°ç«¯ä¸šåŠ¡ç”¨ä¾‹        | Use Case     |
| Handler       | ä¸šåŠ¡ç”¨ä¾‹çš„å”¯ä¸€å†³ç­–å®ç°    | Handler      |
| Command/Query | åˆ†åˆ«ä»£è¡¨å†™/è¯»å•ä¸€èŒè´£    | Command/Query |
| CQRS          | å‘½ä»¤-æŸ¥è¯¢èŒè´£åˆ†ç¦»      | CQRS         |
| åˆçº¦ï¼ˆContractï¼‰  | æ¨¡å—é—´åªè¯»é€šä¿¡å¯¹è±¡      | Contract     |
| é¢†åŸŸå®ä½“          | ä¸šåŠ¡å†…èšçš„å¤æ‚ç±»å‹ï¼Œä¸è·¨æ¨¡å— | Domain Entity |
| æ¨¡å—é—´é€šä¿¡         | åªå…è®¸äº‹ä»¶ã€åˆçº¦ã€åŸå§‹ç±»å‹  | Inter-Module Communication |

---

## Decisionï¼ˆè£å†³ï¼‰

> âš ï¸ **æœ¬èŠ‚ä¸ºå”¯ä¸€è£å†³æ¥æºï¼Œæ‰€æœ‰æ¡æ¬¾å…·å¤‡æ‰§è¡Œçº§åˆ«ã€‚**
> 
> ğŸ”’ **ç»Ÿä¸€é“å¾‹**ï¼š
> 
> ADR-005 ä¸­ï¼Œæ‰€æœ‰å¯æ‰§æ³•æ¡æ¬¾å¿…é¡»å…·å¤‡ç¨³å®š RuleIdï¼Œæ ¼å¼ä¸ºï¼š
> ```
> ADR-005_<Rule>_<Clause>
> ```

---

### ADR-005_1ï¼šUse Case æ‰§è¡Œä¸è£å†³æƒï¼ˆRuleï¼‰

#### ADR-005_1_1 æ¯ä¸ªä¸šåŠ¡ç”¨ä¾‹å¿…é¡»å”¯ä¸€ Handler

- æ¯ä¸ªä¸šåŠ¡ç”¨ä¾‹å¿…é¡»å”¯ä¸€ Handlerï¼Œä¸”è¯¥ Handler æ‹¥æœ‰å…¨éƒ¨ä¸šåŠ¡å†³ç­–æƒ
- ä¸€ä¸ªç”¨ä¾‹ä¸å…è®¸å¤šä¸ª Handler å¤„ç†åŒä¸€ä¸šåŠ¡é€»è¾‘

**åˆ¤å®š**ï¼š
- âŒ å¤šä¸ª Handler å¤„ç†åŒä¸€ç”¨ä¾‹
- âœ… æ¯ä¸ªç”¨ä¾‹åªæœ‰ä¸€ä¸ª Handler

#### ADR-005_1_2 Endpoint ä»…åšè¯·æ±‚é€‚é…

- Endpoint/Controller ä»…å…è®¸åšè¯·æ±‚é€‚é…å’Œ Handler è°ƒç”¨
- Endpoint ç¦æ­¢æ‰¿è½½ä»»ä½•ä¸šåŠ¡è§„åˆ™ã€å†³ç­–åˆ†æ”¯æˆ–ä¸šåŠ¡åˆ¤æ–­

**åˆ¤å®š**ï¼š
- âŒ Endpoint åŒ…å« if/switch ç­‰ä¸šåŠ¡é€»è¾‘
- âœ… Endpoint åªåšå‚æ•°æ˜ å°„å’Œ Handler è°ƒç”¨

---

### ADR-005_2ï¼šHandler èŒè´£è¾¹ç•Œï¼ˆRuleï¼‰

#### ADR-005_2_1 Handler ä¸å¾—æŒæœ‰ä¸šåŠ¡çŠ¶æ€

- Handler ä¸å¾—æŒæœ‰è·¨è°ƒç”¨ç”Ÿå‘½å‘¨æœŸçš„ä¸šåŠ¡çŠ¶æ€
- Handler ç¦æ­¢ä½¿ç”¨å®ä¾‹å­—æ®µå­˜å‚¨ä¸šåŠ¡æ•°æ®ï¼ˆé™¤ä¾èµ–æ³¨å…¥çš„æœåŠ¡å¤–ï¼‰

**åˆ¤å®š**ï¼š
- âŒ Handler ä½¿ç”¨å®ä¾‹å­—æ®µå­˜å‚¨ä¸šåŠ¡çŠ¶æ€
- âœ… Handler æ— çŠ¶æ€ï¼Œä»…é€šè¿‡ä¾èµ–æ³¨å…¥è·å–æœåŠ¡

#### ADR-005_2_2 Handler ç¦æ­¢ä½œä¸ºè·¨æ¨¡å—ç²˜åˆå±‚

- Handler ç¦æ­¢ä½œä¸ºåŒæ­¥è·¨æ¨¡å—"ç²˜åˆå±‚"
- Handler ç¦æ­¢åŒæ­¥è°ƒç”¨å¤šä¸ªå…¶ä»–æ¨¡å—çš„ Handler å¹¶èšåˆç»“æœ

**åˆ¤å®š**ï¼š
- âŒ Handler åŒæ­¥è°ƒç”¨å¤šä¸ªæ¨¡å—å¹¶èšåˆ
- âœ… Handler é€šè¿‡äº‹ä»¶å¼‚æ­¥åè°ƒ

#### ADR-005_2_3 Handler ä¸å…è®¸è¿”å›é¢†åŸŸå®ä½“

- Handler ä¸å…è®¸è¿”å›æˆ–æš´éœ²é¢†åŸŸå®ä½“ä½œä¸ºå‡ºå‚
- Handler ç¦æ­¢å°† Entityã€Aggregateã€ValueObject ç›´æ¥ä½œä¸ºè¿”å›å€¼

**åˆ¤å®š**ï¼š
- âŒ Handler è¿”å›é¢†åŸŸå®ä½“
- âœ… Handler è¿”å› DTO æˆ–åŸå§‹ç±»å‹

---

### ADR-005_3ï¼šæ¨¡å—é€šä¿¡åŠåŒæ­¥/å¼‚æ­¥è¾¹ç•Œï¼ˆRuleï¼‰

#### ADR-005_3_1 æ¨¡å—å†…å…è®¸åŒæ­¥è°ƒç”¨

- æ¨¡å—å†…ï¼šå…è®¸åŒæ­¥æ–¹æ³•è°ƒç”¨
- æ¨¡å—å†…ç»„ä»¶å¯ç›´æ¥ä¾èµ–å’Œè°ƒç”¨

**åˆ¤å®š**ï¼š
- âœ… æ¨¡å—å†…åŒæ­¥è°ƒç”¨

#### ADR-005_3_2 æ¨¡å—é—´é»˜è®¤å¼‚æ­¥é€šä¿¡

- æ¨¡å—é—´ï¼š**é»˜è®¤åªèƒ½å¼‚æ­¥é€šä¿¡ï¼ˆé¢†åŸŸäº‹ä»¶/é›†æˆäº‹ä»¶ï¼‰**
- æœªç»å®¡æ‰¹ï¼Œç¦æ­¢ä»»ä½•è·¨æ¨¡å—åŒæ­¥è°ƒç”¨ï¼ˆå¦‚ç›´æ¥æ–¹æ³•ã€åŒæ­¥ä»“å‚¨ã€æ¥å£ä¾èµ–ç­‰ï¼‰

**åˆ¤å®š**ï¼š
- âŒ æœªå®¡æ‰¹çš„è·¨æ¨¡å—åŒæ­¥è°ƒç”¨
- âœ… æ¨¡å—é—´é€šè¿‡äº‹ä»¶å¼‚æ­¥é€šä¿¡

---

### ADR-005_4ï¼šé€šä¿¡å¥‘çº¦ä¸é¢†åŸŸæ¨¡å‹éš”ç¦»ï¼ˆRuleï¼‰

#### ADR-005_4_1 æ¨¡å—é—´ä»…é€šè¿‡å¥‘çº¦é€šä¿¡

- æ¨¡å—é—´ä»…é€šè¿‡åå®š DTO/äº‹ä»¶é€šä¿¡
- ç¦æ­¢ç›´æ¥å¼•ç”¨/ä¼ é€’ Entity/Aggregate/VO

**åˆ¤å®š**ï¼š
- âŒ è·¨æ¨¡å—ä¼ é€’é¢†åŸŸå®ä½“
- âœ… ä»…ä¼ é€’å¥‘çº¦ DTO

#### ADR-005_4_2 å¥‘çº¦ä¸æ‰¿è½½ä¸šåŠ¡å†³ç­–

- åˆçº¦ï¼ˆContractï¼‰åªå…è®¸ä¼ é€’æ•°æ®
- ä¸æ‰¿è½½ä¸šåŠ¡å†³ç­–/è¡Œä¸º

**åˆ¤å®š**ï¼š
- âŒ å¥‘çº¦åŒ…å«è®¡ç®—å±æ€§æˆ–ä¸šåŠ¡æ–¹æ³•
- âœ… å¥‘çº¦ä»…åŒ…å«æ•°æ®å­—æ®µ

---

### ADR-005_5ï¼šCQRS ä¸ Handler å”¯ä¸€æ€§ï¼ˆRuleï¼‰

#### ADR-005_5_1 Command Handler åªæ‰§è¡Œä¸šåŠ¡é€»è¾‘

- Command Handler åªå…è®¸æ‰§è¡Œä¸šåŠ¡é€»è¾‘å¹¶è¿”å› void æˆ–å”¯ä¸€æ ‡è¯†
- Command Handler åªèƒ½è¿”å› `void`ã€`Task`ã€`Unit` æˆ–å”¯ä¸€æ ‡è¯†ç¬¦ï¼ˆGuid/Idï¼‰

**åˆ¤å®š**ï¼š
- âŒ Command Handler è¿”å›ä¸šåŠ¡æ•°æ®
- âœ… Command Handler è¿”å› void æˆ– Id

#### ADR-005_5_2 Query Handler åªè¯»è¿”å›

- Query Handler åªå…è®¸åªè¯» DTO/æŠ•å½±è¿”å›
- Query Handler ç¦æ­¢è°ƒç”¨ Repository çš„ Add/Update/Delete æ–¹æ³•

**åˆ¤å®š**ï¼š
- âŒ Query Handler æ‰§è¡Œå†™æ“ä½œ
- âœ… Query Handler ä»…è¯»å–æ•°æ®

#### ADR-005_5_3 Command/Query å¿…é¡»åˆ†ç¦»

- Command/Query Handler å¿…é¡»èŒè´£åˆ†ç¦»
- ä¸å…è®¸åˆå¹¶ã€æ··ç”¨

**åˆ¤å®š**ï¼š
- âŒ åŒä¸€ Handler åŒæ—¶å¤„ç† Command å’Œ Query
- âœ… Command å’Œ Query ç‹¬ç«‹ Handler

---

## Enforcementï¼ˆæ‰§æ³•æ¨¡å‹ï¼‰

> ğŸ“‹ **Enforcement æ˜ å°„è¯´æ˜**ï¼š
> 
> ä¸‹è¡¨å±•ç¤ºäº† ADR-005 å„æ¡æ¬¾ï¼ˆClauseï¼‰çš„æ‰§æ³•æ–¹å¼åŠæ‰§è¡Œçº§åˆ«ã€‚
>
> æ‰€æœ‰è§„åˆ™é€šè¿‡ `src/tests/ArchitectureTests/ADR/ADR_005_Architecture_Tests.cs` å¼ºåˆ¶éªŒè¯ã€‚

| è§„åˆ™ç¼–å· | æ‰§è¡Œçº§ | æ‰§æ³•æ–¹å¼ | Decision æ˜ å°„ |
|---------|--------|---------|--------------|
| **ADR-005_1_1** | L1 | ArchitectureTests éªŒè¯ Handler å”¯ä¸€æ€§ | Â§ADR-005_1_1 |
| **ADR-005_1_2** | L1 | ArchitectureTests æ£€æµ‹ Endpoint ä¸šåŠ¡é€»è¾‘ | Â§ADR-005_1_2 |
| **ADR-005_2_1** | L1 | ArchitectureTests éªŒè¯ Handler æ— çŠ¶æ€ | Â§ADR-005_2_1 |
| **ADR-005_2_2** | L2 | ArchitectureTests æ£€æµ‹è·¨æ¨¡å—åŒæ­¥è°ƒç”¨ | Â§ADR-005_2_2 |
| **ADR-005_2_3** | L1 | ArchitectureTests éªŒè¯è¿”å›å€¼ç±»å‹ | Â§ADR-005_2_3 |
| **ADR-005_3_1** | L2 | ArchitectureTests éªŒè¯æ¨¡å—å†…ä¾èµ– | Â§ADR-005_3_1 |
| **ADR-005_3_2** | L1 | ArchitectureTests æ£€æµ‹è·¨æ¨¡å—åŒæ­¥ | Â§ADR-005_3_2 |
| **ADR-005_4_1** | L1 | ArchitectureTests éªŒè¯å¥‘çº¦ç±»å‹ | Â§ADR-005_4_1 |
| **ADR-005_4_2** | L2 | ArchitectureTests åˆ†æå¥‘çº¦æˆå‘˜ | Â§ADR-005_4_2 |
| **ADR-005_5_1** | L1 | ArchitectureTests éªŒè¯ Command è¿”å›å€¼ | Â§ADR-005_5_1 |
| **ADR-005_5_2** | L1 | ArchitectureTests æ£€æµ‹ Query å†™æ“ä½œ | Â§ADR-005_5_2 |
| **ADR-005_5_3** | L1 | ArchitectureTests éªŒè¯ CQRS åˆ†ç¦» | Â§ADR-005_5_3 |

### æ‰§è¡Œçº§åˆ«è¯´æ˜
- **L1ï¼ˆé˜»æ–­çº§ï¼‰**ï¼šè¿è§„ç›´æ¥å¯¼è‡´ CI å¤±è´¥ã€é˜»æ­¢åˆå¹¶/éƒ¨ç½²
- **L2ï¼ˆè­¦å‘Šçº§ï¼‰**ï¼šè¿è§„è®°å½•å‘Šè­¦ï¼Œéœ€äººå·¥ Code Review è£å†³
- **L3ï¼ˆäººå·¥çº§ï¼‰**ï¼šéœ€è¦æ¶æ„å¸ˆäººå·¥è£å†³

**æœ‰ä¸€é¡¹ L1 è¿è§„è§†ä¸ºæ¶æ„è¿è§„ï¼ŒCI è‡ªåŠ¨é˜»æ–­ã€‚**

---

## Non-Goalsï¼ˆæ˜ç¡®ä¸ç®¡ä»€ä¹ˆï¼‰

æœ¬ ADR æ˜ç¡®ä¸æ¶‰åŠä»¥ä¸‹å†…å®¹ï¼š

- **Handler å†…éƒ¨å®ç°ç»†èŠ‚**ï¼šä¸çº¦æŸ Handler å†…éƒ¨å¦‚ä½•ç»„ç»‡ä»£ç ã€ä½¿ç”¨å“ªäº›è®¾è®¡æ¨¡å¼ï¼ˆStrategyã€Factory ç­‰ï¼‰
- **å…·ä½“ ORM æˆ–æ•°æ®è®¿é—®æŠ€æœ¯**ï¼šä¸çº¦æŸä½¿ç”¨ Entity Frameworkã€Dapper è¿˜æ˜¯å…¶ä»–æ•°æ®è®¿é—®æŠ€æœ¯
- **äº‹ä»¶å­˜å‚¨å®ç°**ï¼šä¸è§„å®šé¢†åŸŸäº‹ä»¶æ˜¯å¦æŒä¹…åŒ–ã€ä½¿ç”¨ä½•ç§äº‹ä»¶å­˜å‚¨æ–¹æ¡ˆï¼ˆEventStoreã€æ•°æ®åº“ç­‰ï¼‰
- **DTO åºåˆ—åŒ–æ ¼å¼**ï¼šä¸çº¦æŸ DTO ä½¿ç”¨ JSONã€Protobuf è¿˜æ˜¯å…¶ä»–åºåˆ—åŒ–æ ¼å¼
- **API ç‰ˆæœ¬åŒ–ç­–ç•¥**ï¼šä¸æ¶‰åŠ API å¦‚ä½•ç‰ˆæœ¬åŒ–ï¼ˆURIã€Headerã€MediaType ç­‰ï¼‰
- **èº«ä»½éªŒè¯å’Œæˆæƒ**ï¼šä¸ç®¡ç†è®¤è¯æœºåˆ¶ï¼ˆJWTã€OAuthï¼‰æˆ–æˆæƒç­–ç•¥ï¼ˆåŸºäºè§’è‰²ã€ç­–ç•¥ç­‰ï¼‰
- **æ—¥å¿—è®°å½•æ ¼å¼**ï¼šä¸çº¦æŸæ—¥å¿—çš„å…·ä½“æ ¼å¼ã€æ—¥å¿—çº§åˆ«æˆ–æ—¥å¿—èšåˆæ–¹å¼
- **æ€§èƒ½ç›‘æ§å’Œè¿½è¸ª**ï¼šä¸æ¶‰åŠ APM å·¥å…·é€‰å‹ã€åˆ†å¸ƒå¼è¿½è¸ªå®ç°ï¼ˆOpenTelemetryã€Jaeger ç­‰ï¼‰
- **é”™è¯¯ç å’Œé”™è¯¯æ¶ˆæ¯**ï¼šä¸è§„å®šé”™è¯¯çš„ç¼–ç è§„èŒƒã€å¤šè¯­è¨€æ”¯æŒæˆ–ç”¨æˆ·å‹å¥½æ¶ˆæ¯æ ¼å¼
- **äº‹ä»¶é‡è¯•å’Œè¡¥å¿**ï¼šä¸çº¦æŸäº‹ä»¶å¤±è´¥åçš„é‡è¯•ç­–ç•¥ã€è¡¥å¿äº‹åŠ¡æˆ– Saga æ¨¡å¼å®ç°

---

## Prohibitedï¼ˆç¦æ­¢è¡Œä¸ºï¼‰


ä»¥ä¸‹è¡Œä¸ºæ˜ç¡®ç¦æ­¢ï¼š

### Handler èŒè´£è¿è§„

- âŒ **Handler æŒæœ‰çŠ¶æ€**ï¼šHandler ç¦æ­¢ä½¿ç”¨å®ä¾‹å­—æ®µå­˜å‚¨ä¸šåŠ¡çŠ¶æ€ï¼ˆé™¤ä¾èµ–æ³¨å…¥çš„æœåŠ¡å¤–ï¼‰
- âŒ **Handler ä½œä¸ºè·¨æ¨¡å—ç²˜åˆå±‚**ï¼šHandler ç¦æ­¢åŒæ­¥è°ƒç”¨å¤šä¸ªå…¶ä»–æ¨¡å—çš„ Handler å¹¶èšåˆç»“æœ
- âŒ **Handler è¿”å›é¢†åŸŸå®ä½“**ï¼šHandler ç¦æ­¢å°† Entityã€Aggregateã€ValueObject ç›´æ¥ä½œä¸ºè¿”å›å€¼
- âŒ **Handler ç›´æ¥ä¾èµ– HttpContext**ï¼šHandler ç¦æ­¢ä¾èµ– `HttpContext`ã€`ClaimsPrincipal` ç­‰ ASP.NET ç±»å‹

### æ¨¡å—é€šä¿¡è¿è§„

- âŒ **æœªå®¡æ‰¹çš„è·¨æ¨¡å—åŒæ­¥è°ƒç”¨**ï¼šç¦æ­¢ç›´æ¥è°ƒç”¨å…¶ä»–æ¨¡å—çš„ Handlerã€Repository æˆ–æœåŠ¡ï¼ˆå¿…é¡»é€šè¿‡äº‹ä»¶ï¼‰
- âŒ **å…±äº«é¢†åŸŸå¯¹è±¡**ï¼šç¦æ­¢ç›´æ¥ä¼ é€’æˆ–è¿”å›å…¶ä»–æ¨¡å—çš„ Entity/Aggregate/VO
- âŒ **ç›´æ¥å¼•ç”¨å…¶ä»–æ¨¡å—ç±»å‹**ï¼šç¦æ­¢é€šè¿‡ `using` å¼•ç”¨å…¶ä»–æ¨¡å—çš„å†…éƒ¨ç±»å‹ï¼ˆé™¤ Contracts å¤–ï¼‰
- âŒ **åŒæ­¥æŸ¥è¯¢å…¶ä»–æ¨¡å—æ•°æ®**ï¼šç¦æ­¢é€šè¿‡åŒæ­¥ Repository æˆ–æ•°æ®åº“è§†å›¾æŸ¥è¯¢å…¶ä»–æ¨¡å—çš„æ•°æ®

### CQRS åˆ†ç¦»è¿è§„

- âŒ **Command Handler è¿”å›ä¸šåŠ¡æ•°æ®**ï¼šCommand Handler åªèƒ½è¿”å› `void`ã€`Task`ã€`Unit` æˆ–å”¯ä¸€æ ‡è¯†ç¬¦ï¼ˆGuid/Idï¼‰
- âŒ **Query Handler æ‰§è¡Œå†™æ“ä½œ**ï¼šQuery Handler ç¦æ­¢è°ƒç”¨ Repository çš„ Add/Update/Delete æ–¹æ³•
- âŒ **Command å’Œ Query æ··ç”¨**ï¼šç¦æ­¢åœ¨åŒä¸€ä¸ª Handler ä¸­åŒæ—¶å¤„ç† Command å’Œ Query

### å¥‘çº¦è®¾è®¡è¿è§„

- âŒ **Contract åŒ…å«ä¸šåŠ¡é€»è¾‘**ï¼šContract DTO ç¦æ­¢åŒ…å«è®¡ç®—å±æ€§ã€ä¸šåŠ¡åˆ¤æ–­æ–¹æ³•æˆ–è¡Œä¸º
- âŒ **Contract æºå¸¦é¢†åŸŸå¯¹è±¡**ï¼šäº‹ä»¶æˆ– DTO ç¦æ­¢ç›´æ¥åŒ…å« Entity/Aggregate/VO ç±»å‹
- âŒ **Endpoint åŒ…å«ä¸šåŠ¡è§„åˆ™**ï¼šEndpoint/Controller ç¦æ­¢åŒ…å« if/switch ç­‰ä¸šåŠ¡å†³ç­–é€»è¾‘ï¼ˆåº”å§”æ‰˜ç»™ Handlerï¼‰


---

## Relationshipsï¼ˆå…³ç³»å£°æ˜ï¼‰

**ä¾èµ–ï¼ˆDepends Onï¼‰**ï¼š
- [ADR-900ï¼šæ¶æ„æµ‹è¯•ä¸ CI æ²»ç†å…ƒè§„åˆ™](../governance/ADR-900-architecture-tests.md) - æœ¬ ADR çš„æµ‹è¯•æ‰§è¡ŒåŸºäº ADR-900
- [ADR-001ï¼šæ¨¡å—åŒ–å•ä½“ä¸å‚ç›´åˆ‡ç‰‡æ¶æ„](./ADR-001-modular-monolith-vertical-slice-architecture.md) - CQRS æ¨¡å¼åŸºäºæ¨¡å—éš”ç¦»å’Œå‚ç›´åˆ‡ç‰‡
- [ADR-002ï¼šå¹³å°ã€åº”ç”¨ä¸ä¸»æœºå¯åŠ¨å™¨æ¶æ„](./ADR-002-platform-application-host-bootstrap.md) - Handler è£…é…åŸºäºä¸‰å±‚ä½“ç³»
- [ADR-003ï¼šå‘½åç©ºé—´ä¸é¡¹ç›®ç»“æ„è§„èŒƒ](./ADR-003-namespace-rules.md) - Handler ç»„ç»‡éµå¾ªå‘½åç©ºé—´è§„èŒƒ
- [ADR-004ï¼šä¸­å¤®åŒ…ç®¡ç†ä¸å±‚çº§ä¾èµ–è§„åˆ™](./ADR-004-Cpm-Final.md) - ä¾èµ–ç®¡ç†éµå¾ªåŒ…ç®¡ç†è§„åˆ™

**è¢«ä¾èµ–ï¼ˆDepended Byï¼‰**ï¼š
- [ADR-905ï¼šæ‰§è¡Œçº§åˆ«åˆ†ç±»](../../governance/ADR-905-enforcement-level-classification.md) - æ‰§è¡Œçº§åˆ«è¡¥å……æ–‡æ¡£ä¾èµ–æœ¬ ADR
- [ADR-920ï¼šç¤ºä¾‹ä»£ç æ²»ç†è§„èŒƒ](../../governance/ADR-920-examples-governance-constitution.md) - ç¤ºä¾‹æ²»ç†ä¾èµ– CQRS æ¨¡å¼
- [ADR-201ï¼šHandler ç”Ÿå‘½å‘¨æœŸç®¡ç†](../../runtime/ADR-201-handler-lifecycle-management.md) - Handler ç®¡ç†åŸºäº CQRS
- [ADR-210ï¼šé¢†åŸŸäº‹ä»¶ç‰ˆæœ¬åŒ–ä¸å…¼å®¹æ€§](../../runtime/ADR-210-event-versioning-compatibility.md) - äº‹ä»¶ç‰ˆæœ¬åŒ–åŸºäº CQRS
- [ADR-220ï¼šäº‹ä»¶æ€»çº¿é›†æˆè§„èŒƒ](../../runtime/ADR-220-event-bus-integration.md) - äº‹ä»¶æ€»çº¿åŸºäº CQRS
- [ADR-240ï¼šHandler å¼‚å¸¸çº¦æŸ](../../runtime/ADR-240-handler-exception-constraints.md) - Handler å¼‚å¸¸å¤„ç†åŸºäº CQRS
- [ADR-124ï¼šEndpoint å‘½ååŠå‚æ•°çº¦æŸè§„èŒƒ](../../structure/ADR-124-endpoint-naming-constraints.md) - Endpoint åŸºäº CQRS
- [ADR-120ï¼šé¢†åŸŸäº‹ä»¶å‘½åçº¦å®š](../structure/ADR-120-domain-event-naming-convention.md) - äº‹ä»¶å‘½ååŸºäº CQRS æ¨¡å¼
- [ADR-121ï¼šå¥‘çº¦ DTO å‘½åä¸ç»„ç»‡](../structure/ADR-121-contract-dto-naming-organization.md) - DTO ç»„ç»‡åŸºäº CQRS åˆ†ç¦»

**æ›¿ä»£ï¼ˆSupersedesï¼‰**ï¼š
- æ— 

**è¢«æ›¿ä»£ï¼ˆSuperseded Byï¼‰**ï¼š
- æ— 

**ç›¸å…³ï¼ˆRelatedï¼‰**ï¼š
- æ— 

---

## Referencesï¼ˆéè£å†³æ€§å‚è€ƒï¼‰

**CQRS ä¸é¢†åŸŸé©±åŠ¨è®¾è®¡**ï¼š
- [CQRS Pattern by Martin Fowler](https://martinfowler.com/bliki/CQRS.html) - CQRS æ¨¡å¼æƒå¨è§£é‡Š
- [Greg Young - CQRS Documents](https://cqrs.files.wordpress.com/2010/11/cqrs_documents.pdf) - CQRS æ¨¡å¼è¯¦ç»†æ–‡æ¡£
- [Domain-Driven Design by Eric Evans](https://www.domainlanguage.com/ddd/) - é¢†åŸŸé©±åŠ¨è®¾è®¡ç»å…¸è‘—ä½œ
- [Implementing Domain-Driven Design by Vaughn Vernon](https://vaughnvernon.com/?page_id=168) - DDD å®è·µæŒ‡å—

**æ¶ˆæ¯ä¼ é€’ä¸äº‹ä»¶é©±åŠ¨**ï¼š
- [Enterprise Integration Patterns](https://www.enterpriseintegrationpatterns.com/) - ä¼ä¸šé›†æˆæ¨¡å¼å‚è€ƒ
- [Event-Driven Architecture](https://martinfowler.com/articles/201701-event-driven.html) - äº‹ä»¶é©±åŠ¨æ¶æ„æ¦‚è¿°
- [Messaging Patterns](https://www.enterpriseintegrationpatterns.com/patterns/messaging/) - æ¶ˆæ¯ä¼ é€’æ¨¡å¼

**ç›¸å…³å†…éƒ¨æ–‡æ¡£**ï¼š
- [ADR-001ï¼šæ¨¡å—åŒ–å•ä½“ä¸å‚ç›´åˆ‡ç‰‡æ¶æ„](./ADR-001-modular-monolith-vertical-slice-architecture.md) - äº†è§£æ¨¡å—éš”ç¦»åŸåˆ™
- [ADR-002ï¼šå¹³å°ã€åº”ç”¨ä¸ä¸»æœºå¯åŠ¨å™¨æ¶æ„](./ADR-002-platform-application-host-bootstrap.md) - äº†è§£ä¸‰å±‚è£…é…ä½“ç³»
- [ADR-004ï¼šä¸­å¤®åŒ…ç®¡ç†ä¸å±‚çº§ä¾èµ–è§„åˆ™](./ADR-004-Cpm-Final.md) - äº†è§£ä¾èµ–ç®¡ç†è§„åˆ™
- [ADR-120ï¼šé¢†åŸŸäº‹ä»¶å‘½åçº¦å®š](../structure/ADR-120-domain-event-naming-convention.md) - äº‹ä»¶å‘½åè§„èŒƒ
- [ADR-121ï¼šå¥‘çº¦ DTO å‘½åä¸ç»„ç»‡](../structure/ADR-121-contract-dto-naming-organization.md) - DTO ç»„ç»‡è§„èŒƒ
- [ADR-201ï¼šHandler ç”Ÿå‘½å‘¨æœŸç®¡ç†](../runtime/ADR-201-handler-lifecycle-management.md) - Handler ç”Ÿå‘½å‘¨æœŸè¯¦è§£


---

## Historyï¼ˆç‰ˆæœ¬å†å²ï¼‰

| ç‰ˆæœ¬  | æ—¥æœŸ         | å˜æ›´è¯´æ˜                                         | ä¿®è®¢äºº |
|-----|------------|----------------------------------------------|----|
| 3.0 | 2026-02-04 | å¯¹é½ ADR-907 v2.0ï¼Œå¼•å…¥ Rule/Clause åŒå±‚ç¼–å·ä½“ç³»ï¼Œç§»é™¤å¤šä½™åˆ†éš”çº¿ | Architecture Board |
| 2.0 | 2026-01-29 | åŒæ­¥ ADR-902/940/0006 æ ‡å‡†ï¼šæ·»åŠ  Front Matterã€æœ¯è¯­è¡¨è‹±æ–‡å¯¹ç…§ | Architecture Board |
| 1.0 | 2026-01-26 | åŒæ­¥æµ‹è¯•æ˜ å°„ï¼Œæ ¼å¼ç»Ÿä¸€åŒ–                                 | Architecture Board |
