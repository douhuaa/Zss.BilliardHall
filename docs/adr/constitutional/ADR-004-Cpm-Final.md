---
adr: ADR-004
title: "ä¸­å¤®åŒ…ç®¡ç†ï¼ˆCPMï¼‰è§„èŒƒ"
status: Final
level: Constitutional
deciders: "Architecture Board"
date: 2026-02-04
version: "3.0"
maintainer: "Architecture Board"
primary_enforcement: L1
reviewer: "Architecture Board"
supersedes: null
superseded_by: null
---


# ADR-004ï¼šä¸­å¤®åŒ…ç®¡ç†ï¼ˆCPMï¼‰è§„èŒƒ

> âš–ï¸ **æœ¬ ADR æ˜¯æ¶æ„å®ªæ³•çš„æ ¸å¿ƒï¼Œå®šä¹‰ä¸­å¤®åŒ…ç®¡ç†çš„å”¯ä¸€è£å†³æºã€‚**

---

## Focusï¼ˆèšç„¦å†…å®¹ï¼‰

ä»…å®šä¹‰é€‚ç”¨äºå…¨ç”Ÿå‘½å‘¨æœŸè‡ªåŠ¨åŒ–è£å†³/é˜»æ–­çš„**åŒ…ç®¡ç†çº¦æŸ**ï¼š

- æ‰€æœ‰ä¾èµ–åŒ…é€šè¿‡ Directory.Packages.props é›†ä¸­ç®¡ç†
- å±‚çº§ä¾èµ–è§„åˆ™ç»†åŒ–ï¼šPlatformã€Applicationã€Modulesã€Host å„è‡ªè¾¹ç•Œ
- ç¦æ­¢é¡¹ç›®æ–‡ä»¶æ‰‹åŠ¨æŒ‡å®šåŒ…ç‰ˆæœ¬
- æ‰€æœ‰è§„åˆ™å¿…é¡»æ¶æ„æµ‹è¯•è¦†ç›–

---

---

## Glossaryï¼ˆæœ¯è¯­è¡¨ï¼‰

| æœ¯è¯­ | å®šä¹‰ | è‹±æ–‡å¯¹ç…§ |
|--------------------------|----------------------------------|-----------------------|
| CPM                      | Central Package Managementï¼Œä¸­å¤®åŒ…ç®¡ç† | CPM                   |
| Directory.Packages.props | NuGet é…ç½®æ–‡ä»¶ï¼Œé›†ä¸­å®šä¹‰å…¨å±€ä¾èµ–åŒ…ç‰ˆæœ¬           | Directory.Packages.props |
| ä¼ é€’ä¾èµ–å›ºå®š                   | é€šè¿‡ CPM ç¦æ­¢ä¼ é€’ä¾èµ–çš„æ¼‚ç§»                 | Transitive Dependency Lock |
| å±‚çº§ä¾èµ–                     | ä¸åŒå±‚é¡¹ç›®å…è®¸çš„åŒ…ç±»å‹çº¦æŸ                    | Layered Dependencies  |
| åŒ…åˆ†ç»„                      | ä¾èµ–åŒ…æŒ‰æŠ€æœ¯æ ˆã€åœºæ™¯åˆ†éš”åˆ†ç»„                   | Package Grouping      |

---

---

## Decisionï¼ˆè£å†³ï¼‰

> âš ï¸ **æœ¬èŠ‚ä¸ºå”¯ä¸€è£å†³æ¥æºï¼Œæ‰€æœ‰æ¡æ¬¾å…·å¤‡æ‰§è¡Œçº§åˆ«ã€‚**
> 
> ğŸ”’ **ç»Ÿä¸€é“å¾‹**ï¼š
> 
> ADR-004 ä¸­ï¼Œæ‰€æœ‰å¯æ‰§æ³•æ¡æ¬¾å¿…é¡»å…·å¤‡ç¨³å®š RuleIdï¼Œæ ¼å¼ä¸ºï¼š
> ```
> ADR-004_<Rule>_<Clause>
> ```

---

### ADR-004_1ï¼šCPM åŸºç¡€è®¾æ–½çº¦æŸï¼ˆRuleï¼‰

#### ADR-004_1_1 Directory.Packages.props å¿…é¡»å­˜åœ¨

- ä»“åº“æ ¹ç›®å½•å¿…é¡»åŒ…å« Directory.Packages.props æ–‡ä»¶
- è¯¥æ–‡ä»¶æ˜¯å¯ç”¨ Central Package Management (CPM) çš„åŸºç¡€

**åˆ¤å®š**ï¼š
- âŒ ä»“åº“æ ¹ç›®å½•ç¼ºå°‘ Directory.Packages.props æ–‡ä»¶
- âœ… Directory.Packages.props æ–‡ä»¶å­˜åœ¨

#### ADR-004_1_2 CPM å¿…é¡»å¯ç”¨

- Directory.Packages.props å¿…é¡»åŒ…å« `<ManagePackageVersionsCentrally>true</ManagePackageVersionsCentrally>`
- å¯ç”¨ CPM ç¡®ä¿æ‰€æœ‰åŒ…ç‰ˆæœ¬é›†ä¸­ç®¡ç†

**åˆ¤å®š**ï¼š
- âŒ æœªè®¾ç½® ManagePackageVersionsCentrally
- âŒ ManagePackageVersionsCentrally è®¾ç½®ä¸º false
- âœ… ManagePackageVersionsCentrally è®¾ç½®ä¸º true

#### ADR-004_1_3 ä¼ é€’ä¾èµ–å›ºå®šå»ºè®®å¯ç”¨

- å»ºè®®å¯ç”¨ `<CentralPackageTransitivePinningEnabled>true</CentralPackageTransitivePinningEnabled>`
- å›ºå®šä¼ é€’ä¾èµ–ç‰ˆæœ¬ï¼Œé¿å…é—´æ¥ä¾èµ–å‡çº§å¯¼è‡´çš„ç ´åæ€§å˜æ›´
- æ­¤æ¡æ¬¾ä¸ºå»ºè®®æ€§è´¨ï¼Œä¸ä½œä¸ºå¼ºåˆ¶è¦æ±‚

**åˆ¤å®š**ï¼š
- âš ï¸ æœªå¯ç”¨ä¼ é€’ä¾èµ–å›ºå®šï¼ˆå»ºè®®å¯ç”¨ï¼‰
- âœ… å·²å¯ç”¨ä¼ é€’ä¾èµ–å›ºå®š

---

### ADR-004_2ï¼šé¡¹ç›®ä¾èµ–ç®¡ç†çº¦æŸï¼ˆRuleï¼‰

#### ADR-004_2_1 é¡¹ç›®æ–‡ä»¶ç¦æ­¢æ‰‹åŠ¨æŒ‡å®šåŒ…ç‰ˆæœ¬

- é¡¹ç›®æ–‡ä»¶ï¼ˆ.csprojï¼‰ä¸­çš„ PackageReference ä¸å¾—åŒ…å« Version å±æ€§
- æ‰€æœ‰åŒ…ç‰ˆæœ¬å¿…é¡»åœ¨ Directory.Packages.props ä¸­å®šä¹‰
- ç¦æ­¢ä½¿ç”¨ VersionOverride è¦†ç›–ä¸­å¤®åŒ…ç‰ˆæœ¬

**åˆ¤å®š**ï¼š
- âŒ é¡¹ç›®æ–‡ä»¶ä¸­å­˜åœ¨ `<PackageReference Include="..." Version="..." />`
- âŒ é¡¹ç›®æ–‡ä»¶ä¸­å­˜åœ¨ `<PackageReference Update="..." VersionOverride="..." />`
- âœ… æ‰€æœ‰é¡¹ç›®æ–‡ä»¶ä¸åŒ…å«åŒ…ç‰ˆæœ¬ä¿¡æ¯

#### ADR-004_2_2 æ‰€æœ‰ä½¿ç”¨çš„åŒ…å¿…é¡»åœ¨ CPM ä¸­å®šä¹‰

- Directory.Packages.props å¿…é¡»å®šä¹‰æ‰€æœ‰é¡¹ç›®å¼•ç”¨çš„åŒ…
- ä¸å…è®¸å­˜åœ¨æœªåœ¨ CPM ä¸­å£°æ˜çš„åŒ…å¼•ç”¨

**åˆ¤å®š**ï¼š
- âŒ é¡¹ç›®å¼•ç”¨çš„åŒ…æœªåœ¨ Directory.Packages.props ä¸­å®šä¹‰
- âœ… æ‰€æœ‰åŒ…å¼•ç”¨éƒ½åœ¨ CPM ä¸­æœ‰å®šä¹‰

---

### ADR-004_3ï¼šå±‚çº§ä¾èµ–ä¸åˆ†ç»„çº¦æŸï¼ˆRuleï¼‰

#### ADR-004_3_1 åŒ…åº”æŒ‰åŠŸèƒ½åˆ†ç»„

- Directory.Packages.props ä¸­åº”ä½¿ç”¨ `<ItemGroup Label="åˆ†ç»„åç§°">` å¯¹åŒ…è¿›è¡Œé€»è¾‘åˆ†ç»„
- å¸¸è§åˆ†ç»„åŒ…æ‹¬ï¼šLoggingã€Testingã€Wolverine Frameworkã€Martenã€Aspire ç­‰
- æ­¤æ¡æ¬¾ä¸ºå»ºè®®æ€§è´¨ï¼Œæœ‰åŠ©äºå¿«é€Ÿå®šä½å’Œç®¡ç†ç›¸å…³åŒ…

**åˆ¤å®š**ï¼š
- âš ï¸ æœªä½¿ç”¨ Label å±æ€§è¿›è¡ŒåŒ…åˆ†ç»„ï¼ˆå»ºè®®ä½¿ç”¨ï¼‰
- âœ… å·²ä½¿ç”¨ Label å±æ€§è¿›è¡ŒåŒ…åˆ†ç»„

#### ADR-004_3_2 Platform é¡¹ç›®ä¸å¼•ç”¨ä¸šåŠ¡åŒ…

- Platform å±‚é¡¹ç›®åªèƒ½å¼•ç”¨æŠ€æœ¯åŸºç¡€åŒ…ï¼ˆå¦‚ Serilogã€OpenTelemetryã€HealthChecksï¼‰
- ç¦æ­¢å¼•ç”¨ä¸šåŠ¡ç›¸å…³çš„ NuGet åŒ…ï¼ˆå¦‚ FluentValidationã€MediatRï¼‰
- Platform å±‚å®šä½ä¸ºæŠ€æœ¯åº•åº§ï¼Œä¸åŒ…å«ä¸šåŠ¡é€»è¾‘

**åˆ¤å®š**ï¼š
- âŒ Platform é¡¹ç›®å¼•ç”¨äº†ä¸šåŠ¡åŒ…
- âœ… Platform é¡¹ç›®ä»…å¼•ç”¨æŠ€æœ¯åŸºç¡€åŒ…

#### ADR-004_3_3 æµ‹è¯•æ¡†æ¶ç‰ˆæœ¬ç»Ÿä¸€

- æ‰€æœ‰æµ‹è¯•é¡¹ç›®å¿…é¡»ä½¿ç”¨ç›¸åŒç‰ˆæœ¬çš„æµ‹è¯•æ¡†æ¶ï¼ˆxUnitã€NUnit æˆ– MSTestï¼‰
- ç›¸å…³æµ‹è¯•åŒ…ï¼ˆå¦‚ Microsoft.NET.Test.Sdkã€FluentAssertionsï¼‰ç‰ˆæœ¬å¿…é¡»ä¸€è‡´

**åˆ¤å®š**ï¼š
- âŒ æµ‹è¯•æ¡†æ¶å­˜åœ¨å¤šä¸ªç‰ˆæœ¬
- âœ… æ‰€æœ‰æµ‹è¯•é¡¹ç›®ä½¿ç”¨ç»Ÿä¸€çš„æµ‹è¯•æ¡†æ¶ç‰ˆæœ¬

#### ADR-004_3_4 å±‚çº§ä¾èµ–è§„åˆ™

- **Platform**ï¼šä»…æŠ€æœ¯åº•åº§åŒ…ï¼ˆLoggingã€OpenTelemetryã€åŸºç¡€å¼‚å¸¸å¤„ç†ï¼‰
- **Application**ï¼šè£…é…ä¸ Pipeline åŒ…ï¼ˆWolverineã€Martenï¼‰
- **Modules**ï¼šä¸šåŠ¡ä¾èµ–ã€DTOã€åè®®ã€å¥‘çº¦
- **Host**ï¼šä»…è°ƒç”¨ Bootstrapperï¼Œä¸ä¾èµ–ä¸šåŠ¡åŒ…
- **Tests**ï¼šè¢«æµ‹æ¨¡å— + Platform/Application

**åˆ¤å®š**ï¼š
- âŒ å±‚çº§ä¾èµ–ä¸ç¬¦åˆè§„èŒƒ
- âœ… æ‰€æœ‰å±‚çº§ä¾èµ–ç¬¦åˆçº¦æŸ

---

---

## Enforcementï¼ˆæ‰§æ³•æ¨¡å‹ï¼‰

> ğŸ“‹ **Enforcement æ˜ å°„è¯´æ˜**ï¼š
> 
> ä¸‹è¡¨å±•ç¤ºäº† ADR-004 å„æ¡æ¬¾ï¼ˆClauseï¼‰çš„æ‰§æ³•æ–¹å¼åŠæ‰§è¡Œçº§åˆ«ã€‚
>
> æ‰€æœ‰è§„åˆ™é€šè¿‡ `src/tests/ArchitectureTests/ADR-004/ADR_004_X_Architecture_Tests.cs` å¼ºåˆ¶éªŒè¯ã€‚

| è§„åˆ™ç¼–å· | æ‰§è¡Œçº§ | æ‰§æ³•æ–¹å¼ | Decision æ˜ å°„ |
|---------|--------|---------|--------------|
| **ADR-004_1_1** | L1 | ArchitectureTests éªŒè¯ Directory.Packages.props æ–‡ä»¶å­˜åœ¨æ€§ | Â§ADR-004_1_1 |
| **ADR-004_1_2** | L1 | ArchitectureTests éªŒè¯ ManagePackageVersionsCentrally è®¾ç½® | Â§ADR-004_1_2 |
| **ADR-004_1_3** | L2 | ArchitectureTests å»ºè®®æ€§æ£€æŸ¥ï¼Œä¸é˜»æ–­æ„å»º | Â§ADR-004_1_3 |
| **ADR-004_2_1** | L1 | ArchitectureTests æ‰«ææ‰€æœ‰ .csproj æ–‡ä»¶ï¼Œæ£€æŸ¥ PackageReference çš„ Version å±æ€§ | Â§ADR-004_2_1 |
| **ADR-004_2_2** | L1 | ArchitectureTests å¯¹æ¯”é¡¹ç›®å¼•ç”¨ä¸ CPM å®šä¹‰ï¼Œæ£€æµ‹æœªå£°æ˜çš„åŒ… | Â§ADR-004_2_2 |
| **ADR-004_3_1** | L2 | ArchitectureTests å»ºè®®æ€§æ£€æŸ¥ï¼ŒéªŒè¯ Label å±æ€§ä½¿ç”¨æƒ…å†µ | Â§ADR-004_3_1 |
| **ADR-004_3_2** | L1 | ArchitectureTests éªŒè¯ Platform é¡¹ç›®çš„åŒ…å¼•ç”¨ç±»å‹ | Â§ADR-004_3_2 |
| **ADR-004_3_3** | L1 | ArchitectureTests éªŒè¯æµ‹è¯•æ¡†æ¶åŒ…çš„ç‰ˆæœ¬ä¸€è‡´æ€§ | Â§ADR-004_3_3 |
| **ADR-004_3_4** | L1 | ArchitectureTests éªŒè¯å„å±‚çº§çš„ä¾èµ–è§„åˆ™ | Â§ADR-004_3_4 |

**æœ‰ä¸€é¡¹è¿è§„è§†ä¸ºæ¶æ„è¿è§„ï¼ŒCI è‡ªåŠ¨é˜»æ–­ã€‚**

---
---

## Non-Goalsï¼ˆæ˜ç¡®ä¸ç®¡ä»€ä¹ˆï¼‰

æœ¬ ADR æ˜ç¡®ä¸æ¶‰åŠä»¥ä¸‹å†…å®¹ï¼š

- **å…·ä½“åŒ…ç‰ˆæœ¬å·é€‰æ‹©**ï¼šä¸çº¦æŸåº”è¯¥ä½¿ç”¨å“ªä¸ªå…·ä½“ç‰ˆæœ¬å·ï¼ˆå¦‚ 8.0.0 vs 8.0.1ï¼‰ï¼Œä»…ç¡®ä¿ç‰ˆæœ¬é›†ä¸­ç®¡ç†
- **åŒ…çš„å®‰å…¨æ¼æ´æ‰«æ**ï¼šä¸æ¶‰åŠå¦‚ä½•æ£€æµ‹å’Œä¿®å¤åŒ…çš„å®‰å…¨æ¼æ´ï¼Œè¿™ç”±å®‰å…¨æµç¨‹ç®¡ç†
- **ç§æœ‰ NuGet æºé…ç½®**ï¼šä¸çº¦æŸæ˜¯å¦ä½¿ç”¨ç§æœ‰æºã€å¦‚ä½•é…ç½®æºä¼˜å…ˆçº§ç­‰
- **åŒ…å‡çº§å®¡æ‰¹æµç¨‹**ï¼šä¸è§„å®šè°æœ‰æƒé™å‡çº§åŒ…ã€å‡çº§éœ€è¦å“ªäº›å®¡æ‰¹ï¼Œè¿™ç”±æ²»ç†æµç¨‹å®šä¹‰
- **åŒ…ç¼“å­˜å’Œç¦»çº¿æ„å»º**ï¼šä¸æ¶‰åŠå¦‚ä½•ä¼˜åŒ–åŒ…ä¸‹è½½ã€ç¼“å­˜ç­–ç•¥æˆ–ç¦»çº¿åœºæ™¯æ„å»º
- **åŒ…è®¸å¯è¯åˆè§„æ€§**ï¼šä¸æ£€æŸ¥åŒ…çš„å¼€æºè®¸å¯è¯æ˜¯å¦ç¬¦åˆå…¬å¸æ”¿ç­–
- **å¤šç›®æ ‡æ¡†æ¶å…¼å®¹æ€§**ï¼šä¸çº¦æŸå¦‚ä½•å¤„ç†é’ˆå¯¹ä¸åŒ .NET ç‰ˆæœ¬çš„åŒ…å…¼å®¹æ€§é—®é¢˜
- **åŒ…æ€§èƒ½åŸºå‡†æµ‹è¯•**ï¼šä¸æ¶‰åŠåŒ…å¯¹æ„å»ºæ—¶é—´ã€è¿è¡Œæ—¶æ€§èƒ½çš„å½±å“è¯„ä¼°

---

## Prohibitedï¼ˆç¦æ­¢è¡Œä¸ºï¼‰


ä»¥ä¸‹è¡Œä¸ºæ˜ç¡®ç¦æ­¢ï¼š

### åŒ…ç‰ˆæœ¬ç®¡ç†è¿è§„

- âŒ **åœ¨é¡¹ç›®æ–‡ä»¶ä¸­æŒ‡å®šåŒ…ç‰ˆæœ¬**ï¼šç¦æ­¢åœ¨ `.csproj` ä¸­ä½¿ç”¨ `<PackageReference Include="..." Version="x.y.z" />`
- âŒ **è¦†ç›–ä¸­å¤®åŒ…ç‰ˆæœ¬**ï¼šç¦æ­¢åœ¨é¡¹ç›®æ–‡ä»¶ä¸­ä½¿ç”¨ `<PackageReference Update="..." VersionOverride="..." />`
- âŒ **åˆ é™¤æˆ–ä¿®æ”¹ Directory.Packages.props**ï¼šæœªç»æ¶æ„å§”å‘˜ä¼šæ‰¹å‡†ï¼Œä¸å¾—åˆ é™¤æˆ–ä¿®æ”¹æ ¹ç›®å½•çš„ Directory.Packages.props
- âŒ **ç¦ç”¨ CPM**ï¼šç¦æ­¢åœ¨é¡¹ç›®æ–‡ä»¶ä¸­æ·»åŠ  `<ManagePackageVersionsCentrally>false</ManagePackageVersionsCentrally>`

### å±‚çº§ä¾èµ–è¿è§„

- âŒ **Platform ä¾èµ–ä¸šåŠ¡åŒ…**ï¼šPlatform é¡¹ç›®ç¦æ­¢å¼•ç”¨ä»»ä½•ä¸šåŠ¡ç›¸å…³çš„ NuGet åŒ…ï¼ˆå¦‚ FluentValidationã€MediatR ç­‰ï¼‰
- âŒ **Host ç›´æ¥ä¾èµ–æ¨¡å—åŒ…**ï¼šHost é¡¹ç›®ç¦æ­¢å¼•ç”¨æ¨¡å—ç‰¹å®šçš„åŒ…ï¼Œåªèƒ½ä¾èµ– Platform å’Œ Application
- âŒ **æ¨¡å—ä¾èµ– Host åŒ…**ï¼šModules ç¦æ­¢å¼•ç”¨ ASP.NET Coreã€Kestrel ç­‰ Host ä¸“å±åŒ…
- âŒ **æµ‹è¯•é¡¹ç›®å¼•ç”¨ç”Ÿäº§åŒ…**ï¼šæµ‹è¯•é¡¹ç›®ç¦æ­¢å¼•ç”¨ç”Ÿäº§ç¯å¢ƒä¸“ç”¨çš„åŒ…ï¼ˆå¦‚ç›‘æ§ã€APM ç­‰ï¼‰

### åŒ…åˆ†ç»„ä¸é…ç½®è¿è§„

- âŒ **ä¸ä½¿ç”¨åŒ…åˆ†ç»„æ³¨é‡Š**ï¼šDirectory.Packages.props ä¸­çš„åŒ…å¿…é¡»æŒ‰æŠ€æœ¯æ ˆåˆ†ç»„å¹¶æ·»åŠ æ³¨é‡Š
- âŒ **æµ‹è¯•æ¡†æ¶ç‰ˆæœ¬ä¸ç»Ÿä¸€**ï¼šæ‰€æœ‰æµ‹è¯•é¡¹ç›®å¿…é¡»ä½¿ç”¨ç›¸åŒç‰ˆæœ¬çš„ xUnitã€NUnit æˆ– MSTest
- âŒ **ä¼ é€’ä¾èµ–ç‰ˆæœ¬ä¸å›ºå®š**ï¼šç¦æ­¢è®©ä¼ é€’ä¾èµ–è‡ªåŠ¨å‡çº§ï¼Œå¿…é¡»åœ¨ Directory.Packages.props ä¸­æ˜¾å¼å£°æ˜
- âŒ **åŒ…å¼•ç”¨ç¼ºå°‘ç”¨é€”è¯´æ˜**ï¼šæ–°å¢åŒ…æ—¶å¿…é¡»åœ¨ Directory.Packages.props ä¸­æ·»åŠ æ³¨é‡Šè¯´æ˜ç”¨é€”

### æ¶æ„æµ‹è¯•è§„é¿

- âŒ **æ³¨é‡Šæ¶æ„æµ‹è¯•**ï¼šç¦æ­¢æ³¨é‡Šæˆ–åˆ é™¤ ADR_004_Architecture_Tests.cs ä¸­çš„æµ‹è¯•
- âŒ **æ·»åŠ æµ‹è¯•æ’é™¤é¡¹**ï¼šç¦æ­¢é€šè¿‡ `[Fact(Skip = "...")]` æˆ–æ¡ä»¶ç¼–è¯‘è·³è¿‡åŒ…ç®¡ç†æµ‹è¯•
- âŒ **ä¿®æ”¹æµ‹è¯•é˜ˆå€¼**ï¼šç¦æ­¢ä¿®æ”¹æµ‹è¯•ä¸­çš„å±‚çº§ä¾èµ–è§„åˆ™ï¼ˆå¦‚å…è®¸ Platform ä¾èµ–æ›´å¤šåŒ…ï¼‰


---

---

## Relationshipsï¼ˆå…³ç³»å£°æ˜ï¼‰

**ä¾èµ–ï¼ˆDepends Onï¼‰**ï¼š
- [ADR-900ï¼šæ¶æ„æµ‹è¯•ä¸ CI æ²»ç†å…ƒè§„åˆ™](../governance/ADR-900-architecture-tests.md) - æœ¬ ADR çš„æµ‹è¯•æ‰§è¡ŒåŸºäº ADR-900
- [ADR-002ï¼šå¹³å°ã€åº”ç”¨ä¸ä¸»æœºå¯åŠ¨å™¨æ¶æ„](./ADR-002-platform-application-host-bootstrap.md) - åŒ…ç®¡ç†è§„èŒƒåŸºäºå±‚çº§è£…é…è¾¹ç•Œ
- [ADR-003ï¼šå‘½åç©ºé—´ä¸é¡¹ç›®ç»“æ„è§„èŒƒ](./ADR-003-namespace-rules.md) - åŒ…ç®¡ç†ä¾èµ–å‘½åç©ºé—´ç»“æ„

**è¢«ä¾èµ–ï¼ˆDepended Byï¼‰**ï¼š
- [ADR-005ï¼šåº”ç”¨å†…äº¤äº’æ¨¡å‹ä¸æ‰§è¡Œè¾¹ç•Œ](./ADR-005-Application-Interaction-Model-Final.md) - è¿è¡Œæ—¶ä¾èµ–è¯­ä¹‰åŸºäºåŒ…ç®¡ç†è§„åˆ™

**æ›¿ä»£ï¼ˆSupersedesï¼‰**ï¼š
- æ— 

**è¢«æ›¿ä»£ï¼ˆSuperseded Byï¼‰**ï¼š
- æ— 

**ç›¸å…³ï¼ˆRelatedï¼‰**ï¼š
- æ— 

---

---

## Referencesï¼ˆéè£å†³æ€§å‚è€ƒï¼‰

**å®˜æ–¹æ–‡æ¡£**ï¼š
- [NuGet Central Package Management](https://learn.microsoft.com/en-us/nuget/consume-packages/central-package-management) - NuGet CPM å®˜æ–¹æ–‡æ¡£
- [MSBuild Directory.Packages.props](https://learn.microsoft.com/en-us/nuget/consume-packages/central-package-management#enabling-central-package-management) - CPM é…ç½®è¯¦è§£
- [NuGet Package Versioning](https://learn.microsoft.com/en-us/nuget/concepts/package-versioning) - åŒ…ç‰ˆæœ¬ç®¡ç†æœ€ä½³å®è·µ
- [Transitive Dependencies](https://learn.microsoft.com/en-us/nuget/concepts/dependency-resolution) - ä¼ é€’ä¾èµ–è§£ææœºåˆ¶

**ä¾èµ–ç®¡ç†æœ€ä½³å®è·µ**ï¼š
- [Dependency Management Best Practices](https://www.thoughtworks.com/insights/blog/dependency-management) - ThoughtWorks ä¾èµ–ç®¡ç†æŒ‡å—
- [Managing .NET Dependencies at Scale](https://devblogs.microsoft.com/dotnet/managing-package-dependency-updates-at-scale/) - å¤§è§„æ¨¡ä¾èµ–ç®¡ç†

**ç›¸å…³å†…éƒ¨æ–‡æ¡£**ï¼š
- [ADR-900ï¼šæ¶æ„æµ‹è¯•ä¸ CI æ²»ç†å…ƒè§„åˆ™](../governance/ADR-900-architecture-tests.md) - äº†è§£æµ‹è¯•æ‰§è¡Œæœºåˆ¶
- [ADR-002ï¼šå¹³å°ã€åº”ç”¨ä¸ä¸»æœºå¯åŠ¨å™¨æ¶æ„](./ADR-002-platform-application-host-bootstrap.md) - äº†è§£å±‚çº§èŒè´£åˆ’åˆ†
- [ADR-003ï¼šå‘½åç©ºé—´ä¸é¡¹ç›®ç»“æ„è§„èŒƒ](./ADR-003-namespace-rules.md) - äº†è§£é¡¹ç›®ç»„ç»‡ç»“æ„


---

---

## Historyï¼ˆç‰ˆæœ¬å†å²ï¼‰

| ç‰ˆæœ¬  | æ—¥æœŸ         | å˜æ›´è¯´æ˜                                         |
|-----|------------|----------------------------------------------|
| 3.0 | 2026-02-04 | å¯¹é½ ADR-907 v2.0ï¼Œå¼•å…¥ Rule/Clause åŒå±‚ç¼–å·ä½“ç³»ã€‚é‡æ„ Decision ç« èŠ‚ä¸º 3 ä¸ª Ruleï¼ˆRule 1: CPM åŸºç¡€è®¾æ–½çº¦æŸï¼ŒRule 2: é¡¹ç›®ä¾èµ–ç®¡ç†çº¦æŸï¼ŒRule 3: å±‚çº§ä¾èµ–ä¸åˆ†ç»„çº¦æŸï¼‰ï¼Œå…± 9 ä¸ª Clauseã€‚æ›´æ–° Enforcement è¡¨æ ¼ï¼Œæ¶æ„æµ‹è¯•å°†æ‹†åˆ†ä¸ºå¤šä¸ªæ–‡ä»¶ã€‚ |
| 2.0 | 2026-01-29 | åŒæ­¥ ADR-902/940/0006 æ ‡å‡†ï¼šæ·»åŠ  Front Matterã€æœ¯è¯­è¡¨è‹±æ–‡å¯¹ç…§ |
| 1.0 | 2026-01-26 | è£å†³å‹é‡æ„ï¼Œç§»é™¤å†—ä½™                                   |

---
