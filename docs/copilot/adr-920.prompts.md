# ADR-920 Copilot Promptsï¼šç¤ºä¾‹ä»£ç ç¼–å†™ä¸ç»´æŠ¤

> âš ï¸ **æƒå¨å£°æ˜**  
> æœ¬æ–‡æ¡£ä¸å…·å¤‡è£å†³æƒï¼Œä»…æä¾›åœºæ™¯åŒ–æŒ‡å¯¼ã€‚  
> æ‰€æœ‰æ¶æ„å†³ç­–ä»¥ [ADR-920 æ­£æ–‡](../adr/governance/ADR-920-examples-governance-constitution.md) ä¸ºå‡†ã€‚

**ç‰ˆæœ¬**ï¼š1.0  
**æœ€åæ›´æ–°**ï¼š2026-01-25  
**å…³è” ADR**ï¼šADR-920  
**ç”¨é€”**ï¼šä¸º GitHub Copilot æä¾›ç¤ºä¾‹ä»£ç ç¼–å†™åœºæ™¯çš„å…·ä½“æŒ‡å¯¼

---

## æ¦‚è¿°

æœ¬æ–‡ä»¶ä¸º GitHub Copilot æä¾›å…³äºç¤ºä¾‹ä»£ç ç¼–å†™çš„åœºæ™¯åŒ–ç¤ºä¾‹å’Œå¸¸è§é—®é¢˜å¤„ç†ã€‚

**æ ¸å¿ƒåŸåˆ™ï¼ˆæ¥è‡ª ADR-920ï¼‰**ï¼š
- ç¤ºä¾‹ä¸æ˜¯è§„èŒƒï¼Œåªæ˜¯æ¼”ç¤º
- ç¤ºä¾‹ä»£ç æ— æ¶æ„è£å†³åŠ›
- ç¤ºä¾‹å¿…é¡»éµå®ˆ ADRï¼Œä¸å¯å¼•å…¥æœªå…è®¸çš„ç»“æ„
- ç¤ºä¾‹å¿…é¡»åŒ…å«å…è´£å£°æ˜
- ç¤ºä¾‹å…è®¸ç®€åŒ–æµç¨‹ï¼Œä½†ä¸å…è®¸ç®€åŒ–è§„åˆ™
- ç¤ºä¾‹ â‰  æµ‹è¯• â‰  PoC
- **åˆ†çº§æ‰§æ³•**ï¼šL1 é˜»æ–­ / L2 è­¦å‘Š / L3 å…è®¸
- **ADR æ­£æ–‡ä»£ç ç‰‡æ®µå¿…é¡»æ˜¾å¼æ ‡æ³¨è§’è‰²**ï¼ˆé˜²æ­¢ Copilot è¯¯å­¦ä¹ ï¼‰
- **PoC å¿…é¡»ä½¿ç”¨ç‰¹æ®Šç›®å½•**ï¼ˆ`.poc/` æˆ– `.experimental/`ï¼‰
- **ç¤ºä¾‹ç›®å½•å¿…é¡»æœ‰è´£ä»»äºº**ï¼ˆAuthorï¼‰å’Œç›®çš„ï¼ˆPurposeï¼‰

---

## åœºæ™¯ 1ï¼šç¼–å†™æ–°çš„ç¤ºä¾‹ä»£ç 

### ç”¨æˆ·é—®ï¼š"æˆ‘éœ€è¦ä¸ºæ–°ç”¨ä¾‹å†™ä¸€ä¸ªç¤ºä¾‹"

**Copilot åº”è¯¥**ï¼š

1. **é¦–å…ˆç¡®è®¤ç¤ºä¾‹ç›®å½•ç»“æ„**ï¼š

```
examples/
  â””â”€ OrderCreation/         â† æ–°ç¤ºä¾‹ç›®å½•
     â”œâ”€ README.md           â† å¿…é¡»åŒ…å«ç»´æŠ¤ä¿¡æ¯ï¼ˆè´£ä»»äººã€ç›®çš„ï¼‰
     â””â”€ Example.cs          â† ç¤ºä¾‹ä»£ç 
```

2. **åˆ›å»ºç¤ºä¾‹ç›®å½•çš„ README.md**ï¼š

```markdown
# åˆ›å»ºè®¢å•ç¤ºä¾‹

âš ï¸ **ç¤ºä¾‹å…è´£å£°æ˜**  
æœ¬ç¤ºä¾‹ä»£ç ä»…ç”¨äºè¯´æ˜ç”¨æ³•ï¼Œä¸ä»£è¡¨æ¶æ„æœ€ä½³å®è·µæˆ–å®Œæ•´å®ç°ã€‚  
å…·ä½“æ¶æ„çº¦æŸä»¥å¯¹åº” ADR æ­£æ–‡ä¸ºå‡†ã€‚

**ç»´æŠ¤ä¿¡æ¯**ï¼š
- **ä½œè€…**ï¼š@username
- **ç›®çš„**ï¼šæ•™å­¦
- **åˆ›å»ºæ—¥æœŸ**ï¼š2026-01-25
- **é€‚ç”¨ ADR**ï¼šADR-0001ï¼ˆæ¨¡å—éš”ç¦»ï¼‰ã€ADR-0005ï¼ˆHandler æ¨¡å¼ï¼‰

## æ¦‚è¿°

æœ¬ç¤ºä¾‹æ¼”ç¤ºå¦‚ä½•åˆ›å»ºè®¢å•...
```

3. **æä¾›ç¤ºä¾‹ä»£ç ï¼ˆå¸¦å…è´£å£°æ˜ï¼‰**ï¼š

```csharp
/// <summary>
/// âš ï¸ ç¤ºä¾‹ä»£ç ï¼šä»…ç”¨äºæ¼”ç¤ºç”¨æ³•ï¼Œä¸ä»£è¡¨å®Œæ•´å®ç°æˆ–æ¶æ„æœ€ä½³å®è·µã€‚
/// å…·ä½“çº¦æŸè¯·å‚è€ƒ ADR-0001ï¼ˆæ¨¡å—éš”ç¦»ï¼‰å’Œ ADR-0005ï¼ˆHandler æ¨¡å¼ï¼‰ã€‚
/// </summary>
public class CreateOrderExample
{
    public async Task Execute()
    {
        // âœ… æ­£ç¡®ï¼šåˆ›å»ºå‘½ä»¤
        var command = new CreateOrder(
            memberId: Guid.NewGuid(),
            items: new List<OrderItem>()
        );
        
        // âœ… æ­£ç¡®ï¼šé€šè¿‡ Handler æ‰§è¡Œ
        var orderId = await _handler.Handle(command);
        
        // âœ… æ­£ç¡®ï¼šä½¿ç”¨äº‹ä»¶é€šçŸ¥å…¶ä»–æ¨¡å—
        await _eventBus.Publish(new OrderCreated(orderId));
    }
}
```

2. **å¼ºè°ƒå…³é”®ç‚¹**ï¼š
   - âœ… å¿…é¡»åœ¨ç¤ºä¾‹ç›®å½•åˆ›å»º README.mdï¼ˆåŒ…å« Authorã€Purposeã€Createdã€ADRsï¼‰
   - âœ… å¿…é¡»åœ¨ä»£ç å¼€å¤´æ·»åŠ  XML æ³¨é‡Šå£°æ˜
   - âœ… ç¤ºä¾‹å¿…é¡»éµå®ˆæ¶æ„çº¦æŸï¼ˆä¸å¯è·¨æ¨¡å—å¼•ç”¨ï¼‰
   - âœ… æä¾›æ­£ç¡®çš„æ¶æ„æ¨¡å¼ï¼ˆäº‹ä»¶ã€å¥‘çº¦ã€Handlerï¼‰
   - âŒ ä¸è¦ä¸ºäº†ç®€åŒ–è€Œè¿å ADRï¼ˆL1 è¿è§„ä¼šé˜»æ–­ CIï¼‰
   - âš ï¸ å…è®¸ç®€åŒ–æµç¨‹ï¼ˆçœç•¥å¼‚å¸¸å¤„ç†ã€æ—¥å¿—ï¼‰ï¼Œä½†ä¸å…è®¸ç®€åŒ–è§„åˆ™

---

## åœºæ™¯ 2ï¼šç¤ºä¾‹ä¸­å±•ç¤ºæ¨¡å—é—´é€šä¿¡

### ç”¨æˆ·é—®ï¼š"å¦‚ä½•åœ¨ç¤ºä¾‹ä¸­å±•ç¤ºè·¨æ¨¡å—è°ƒç”¨ï¼Ÿ"

**Copilot åº”è¯¥**ï¼š

**âŒ é”™è¯¯æ–¹å¼**ï¼ˆè¿å ADR-0001ï¼‰ï¼š

```csharp
// âŒ ç¦æ­¢ï¼šç¤ºä¾‹ä¸­ç›´æ¥å¼•ç”¨å…¶ä»–æ¨¡å—
using Zss.BilliardHall.Modules.Members.Domain;

public class OrderExample
{
    private readonly MemberRepository _memberRepo; // è·¨æ¨¡å—å¼•ç”¨
    
    public async Task CreateOrder()
    {
        var member = await _memberRepo.GetById(memberId); // è¿è§„
        if (member.IsActive) { ... }
    }
}
```

**ç†ç”±**ï¼šç¤ºä¾‹ä¸èƒ½ä¸ºäº†ç®€åŒ–è€Œè¿åæ¨¡å—éš”ç¦»è§„åˆ™ã€‚

**âœ… æ­£ç¡®æ–¹å¼ 1**ï¼ˆä½¿ç”¨äº‹ä»¶ï¼‰ï¼š

```csharp
/// <summary>
/// âš ï¸ ç¤ºä¾‹ï¼šæ¼”ç¤ºä½¿ç”¨äº‹ä»¶è¿›è¡Œæ¨¡å—é—´é€šä¿¡ï¼ˆADR-0001ï¼‰
/// </summary>
public class OrderExample
{
    private readonly IEventBus _eventBus;
    
    public async Task CreateOrder()
    {
        // âœ… æ­£ç¡®ï¼šé€šè¿‡äº‹ä»¶é€šçŸ¥å…¶ä»–æ¨¡å—
        await _eventBus.Publish(new OrderCreated(
            orderId: Guid.NewGuid(),
            memberId: memberId
        ));
    }
}
```

**âœ… æ­£ç¡®æ–¹å¼ 2**ï¼ˆä½¿ç”¨å¥‘çº¦æŸ¥è¯¢ï¼‰ï¼š

```csharp
/// <summary>
/// âš ï¸ ç¤ºä¾‹ï¼šæ¼”ç¤ºä½¿ç”¨å¥‘çº¦æŸ¥è¯¢è·å–å…¶ä»–æ¨¡å—æ•°æ®ï¼ˆADR-0001ï¼‰
/// </summary>
public class OrderExample
{
    private readonly IQueryBus _queryBus;
    
    public async Task CreateOrder()
    {
        // âœ… æ­£ç¡®ï¼šé€šè¿‡å¥‘çº¦æŸ¥è¯¢ï¼ˆåªè¯»ï¼‰
        var memberDto = await _queryBus.Send(
            new GetMemberById(memberId)
        );
        
        // æ³¨æ„ï¼šåªèƒ½è¯»å–æ•°æ®ï¼Œä¸èƒ½ç”¨äºä¸šåŠ¡å†³ç­–
        // ä¸šåŠ¡å†³ç­–åº”åœ¨å„è‡ªçš„æ¨¡å—å†…å®Œæˆ
    }
}
```

**å…³é”®åŸåˆ™**ï¼š
- ä½¿ç”¨äº‹ä»¶ï¼ˆå¼‚æ­¥é€šçŸ¥ï¼‰æˆ–å¥‘çº¦ï¼ˆåªè¯»æŸ¥è¯¢ï¼‰
- ç»ä¸ç›´æ¥å¼•ç”¨å…¶ä»–æ¨¡å—çš„é¢†åŸŸå¯¹è±¡
- ç¤ºä¾‹å¿…é¡»å±•ç¤ºæ­£ç¡®çš„æ¶æ„æ¨¡å¼

---

## åœºæ™¯ 3ï¼šç¤ºä¾‹ä¸­çš„é”™è¯¯å¯¹æ¯”

### ç”¨æˆ·é—®ï¼š"å¯ä»¥åœ¨ç¤ºä¾‹ä¸­å±•ç¤ºé”™è¯¯åšæ³•å—ï¼Ÿ"

**Copilot åº”è¯¥**ï¼š

**âœ… å®Œå…¨å…è®¸**ï¼Œä½†å¿…é¡»æ˜ç¡®æ ‡è®°ï¼š

```csharp
/// <summary>
/// âš ï¸ ç¤ºä¾‹ï¼šæ¼”ç¤ºæ­£ç¡® vs é”™è¯¯çš„æ¨¡å—é€šä¿¡æ–¹å¼
/// </summary>
public class ModuleCommunicationExamples
{
    // âœ… æ­£ç¡®ï¼šä½¿ç”¨äº‹ä»¶é€šä¿¡
    public async Task CorrectWay()
    {
        await _eventBus.Publish(new OrderCreated(orderId));
    }
    
    // âŒ é”™è¯¯ï¼šç›´æ¥å¼•ç”¨å…¶ä»–æ¨¡å—ï¼ˆè¿å ADR-0001ï¼‰
    public async Task WrongWay()
    {
        // using Zss.BilliardHall.Modules.Members.Domain;
        // var member = await _memberRepo.GetById(...);
        // âš ï¸ æ­¤ä»£ç ä»…ç”¨äºå±•ç¤ºé”™è¯¯åšæ³•ï¼Œå®é™…é¡¹ç›®ä¸­ç¦æ­¢ä½¿ç”¨
    }
}
```

**Markdown æ–‡æ¡£ä¸­çš„å¯¹æ¯”**ï¼š

```markdown
## æ¨¡å—é—´é€šä¿¡ç¤ºä¾‹

### âœ… æ­£ç¡®åšæ³•

```csharp
// ä½¿ç”¨äº‹ä»¶é€šçŸ¥å…¶ä»–æ¨¡å—
await _eventBus.Publish(new OrderCreated(orderId));
```

### âŒ é”™è¯¯åšæ³•

```csharp
// âŒ é”™è¯¯ï¼šç›´æ¥å¼•ç”¨å…¶ä»–æ¨¡å—ï¼ˆè¿å ADR-0001ï¼‰
using Zss.BilliardHall.Modules.Members.Domain;
var member = await _memberRepo.GetById(memberId);
```

**è¯´æ˜**ï¼šé”™è¯¯åšæ³•è¿åäº† ADR-0001 çš„æ¨¡å—éš”ç¦»è§„åˆ™ã€‚
```

**å…³é”®ç‚¹**ï¼š
- âœ… é”™è¯¯ç¤ºä¾‹å¿…é¡»æ˜ç¡®æ ‡è®° `// âŒ é”™è¯¯`
- âœ… å¿…é¡»è¯´æ˜è¿åäº†å“ªä¸ª ADR
- âœ… é”™è¯¯ç¤ºä¾‹å¯ä»¥è¢«æ¶æ„æµ‹è¯•è±å…ï¼ˆå› ä¸ºæœ‰æ˜ç¡®æ ‡è®°ï¼‰

---

## åœºæ™¯ 4ï¼šåˆ›å»ºç¤ºä¾‹æ–‡æ¡£

### ç”¨æˆ·é—®ï¼š"å¦‚ä½•åˆ›å»ºä¸€ä¸ªç¤ºä¾‹æ–‡æ¡£ï¼Ÿ"

**Copilot åº”è¯¥**ï¼š

**æ ‡å‡†æ¨¡æ¿**ï¼š

```markdown
# åˆ›å»ºè®¢å•ç”¨ä¾‹ç¤ºä¾‹

âš ï¸ **ç¤ºä¾‹å…è´£å£°æ˜**  
æœ¬ç¤ºä¾‹ä»£ç ä»…ç”¨äºè¯´æ˜ç”¨æ³•ï¼Œä¸ä»£è¡¨æ¶æ„æœ€ä½³å®è·µæˆ–å®Œæ•´å®ç°ã€‚  
å…·ä½“æ¶æ„çº¦æŸä»¥å¯¹åº” ADR æ­£æ–‡ä¸ºå‡†ã€‚

## æ¦‚è¿°

æœ¬ç¤ºä¾‹æ¼”ç¤ºå¦‚ä½•åˆ›å»ºè®¢å•ï¼ŒåŒ…æ‹¬ï¼š
- å®šä¹‰ Command
- å®ç° Handler
- å‘å¸ƒé¢†åŸŸäº‹ä»¶

## ä»£ç ç¤ºä¾‹

### 1. å®šä¹‰ Command

```csharp
public record CreateOrder(
    Guid MemberId,
    List<OrderItem> Items
);
```

### 2. å®ç° Handler

```csharp
public class CreateOrderHandler : ICommandHandler<CreateOrder, Guid>
{
    public async Task<Guid> Handle(CreateOrder command)
    {
        // åˆ›å»ºè®¢å•
        var order = new Order(command.MemberId, command.Items);
        
        // ä¿å­˜
        await _repository.SaveAsync(order);
        
        // å‘å¸ƒäº‹ä»¶
        await _eventBus.Publish(new OrderCreated(order.Id));
        
        return order.Id;
    }
}
```

## æ¶æ„çº¦æŸ

æ ¹æ®ä»¥ä¸‹ ADRï¼š
- [ADR-0001](../../docs/adr/constitutional/ADR-0001-modular-monolith-vertical-slice-architecture.md)ï¼šå‚ç›´åˆ‡ç‰‡æ¶æ„
- [ADR-0005](../../docs/adr/constitutional/ADR-0005-Application-Interaction-Model-Final.md)ï¼šHandler æ¨¡å¼

## æ³¨æ„äº‹é¡¹

- å®Œæ•´å®ç°éœ€è¦æ·»åŠ éªŒè¯ã€å¼‚å¸¸å¤„ç†ã€æ—¥å¿—ç­‰
- æ­¤ç¤ºä¾‹ç®€åŒ–äº†æµç¨‹ï¼Œå®é™…å¼€å‘è¯·å‚è€ƒ ADR æ­£æ–‡
```

**å…³é”®ç‚¹**ï¼š
- å¿…é¡»åœ¨å¼€å¤´åŒ…å«å…è´£å£°æ˜
- é“¾æ¥åˆ°ç›¸å…³ ADR
- è¯´æ˜ç®€åŒ–çš„éƒ¨åˆ†

---

## åœºæ™¯ 5ï¼šç¤ºä¾‹ vs æµ‹è¯• vs PoC

### ç”¨æˆ·é—®ï¼š"ä»€ä¹ˆæ—¶å€™å¯ä»¥è¿åæ¶æ„çº¦æŸï¼Ÿ"

**Copilot åº”è¯¥**ï¼š

**æ˜ç¡®åŒºåˆ†**ï¼š

| ç±»å‹          | æ˜¯å¦å…è®¸è¿è§„ | æ˜¯å¦å¯è¿›ä¸»å¹² | å­˜æ”¾ä½ç½®                 | å£°æ˜è¦æ±‚          |
| ----------- | ------ | ------ | -------------------- | ------------- |
| ç¤ºä¾‹ Example  | âŒ      | âœ…      | `examples/`ã€`docs/examples/` | å¿…é¡»åŒ…å«å…è´£å£°æ˜      |
| æµ‹è¯• Test     | âš ï¸ï¼ˆå—æ§ï¼‰ | âœ…      | `tests/`ã€`*Tests.cs`     | æ— éœ€å£°æ˜ï¼ˆæµ‹è¯•ä¸Šä¸‹æ–‡æ˜ç¡®ï¼‰ |
| PoC / Spike | âœ…      | âŒ      | ä¸ªäººåˆ†æ”¯ã€ä¸´æ—¶ä»“åº“            | å¿…é¡»æ ‡æ³¨ `[PoC]`  |

**ç¤ºä¾‹ï¼ˆExampleï¼‰**ï¼š

```csharp
/// <summary>
/// âš ï¸ ç¤ºä¾‹ä»£ç ï¼šä»…ç”¨äºæ¼”ç¤ºç”¨æ³•
/// </summary>
public class OrderExample
{
    // âŒ ä¸å¯è¿è§„ï¼šç¤ºä¾‹å¿…é¡»éµå®ˆ ADR
    // âœ… å¯ç®€åŒ–ï¼šå¯ä»¥çœç•¥å¼‚å¸¸å¤„ç†ã€æ—¥å¿—ç­‰
}
```

**æµ‹è¯•ï¼ˆTestï¼‰**ï¼š

```csharp
public class OrderHandlerTests
{
    [Fact]
    public async Task Handle_ValidCommand_CreatesOrder()
    {
        // âœ… å¯ä»¥ä½¿ç”¨ Mock/Stub
        var mockRepo = Substitute.For<IOrderRepository>();
        
        // âš ï¸ æµ‹è¯•ä»£ç å¯ä»¥è¿è§„ï¼Œä½†ä»…é™äºæµ‹è¯•éœ€è¦
    }
}
```

**PoC / Spike**ï¼š

```csharp
// ğŸ“ ä¸ªäººåˆ†æ”¯ï¼šfeature/poc-new-pattern

/// <summary>
/// [PoC] æ¢ç´¢æ–°çš„ç¼“å­˜æ¨¡å¼ï¼Œå…è®¸è¿åç°æœ‰æ¶æ„
/// </summary>
public class NewCachePattern
{
    // âœ… å…è®¸è¿è§„ï¼šè¿™æ˜¯æ¦‚å¿µéªŒè¯
    // âŒ ä¸å¯è¿›ä¸»å¹²ï¼šéœ€è¦å…ˆæ ADR å¹¶æ‰¹å‡†
}
```

**å…³é”®åŸåˆ™**ï¼š
- ç¤ºä¾‹å¿…é¡»åˆè§„ï¼Œä¸å¯è¿›ä¸»å¹²çš„è¿è§„ä»£ç æ˜¯ PoC
- æµ‹è¯•å¯ä»¥è¿è§„ï¼ˆå¦‚ Mockï¼‰ï¼Œä½†ä»…é™äºæµ‹è¯•éœ€è¦
- PoC å…è®¸è¿è§„ï¼Œä½†**ç»ä¸å¯è¿›å…¥ä¸»å¹²**

---

## åœºæ™¯ 6ï¼šæ¶æ„æµ‹è¯•å¤±è´¥

### æ¶æ„æµ‹è¯•å¤±è´¥ï¼š"ç¤ºä¾‹ä»£ç è¿åæ¨¡å—éš”ç¦»"

**Copilot åº”è¯¥**ï¼š

**é—®é¢˜è¯Šæ–­**ï¼š

```
âŒ ADR-920.4 è¿è§„ï¼šç¤ºä¾‹ä»£ç åŒ…å«æ¶æ„è¿è§„
  â€¢ examples/OrderExample.cs:15
    å†…å®¹: using Zss.BilliardHall.Modules.Members.Domain;
    è¿è§„æ¨¡å¼: using\s+Zss\.BilliardHall\.Modules\.\w+\.Domain
```

**ä¿®å¤æ­¥éª¤**ï¼š

1. **å®šä½é—®é¢˜ä»£ç **ï¼š

```csharp
// ä¿®å¤å‰
using Zss.BilliardHall.Modules.Members.Domain;

public class OrderExample
{
    private readonly MemberRepository _memberRepo;
}
```

2. **åº”ç”¨ä¿®å¤æ–¹æ¡ˆ**ï¼ˆäºŒé€‰ä¸€ï¼‰ï¼š

**æ–¹æ¡ˆ 1**ï¼šæ”¹ç”¨äº‹ä»¶é€šä¿¡

```csharp
// ä¿®å¤å
public class OrderExample
{
    private readonly IEventBus _eventBus;
    
    public async Task Execute()
    {
        // ä½¿ç”¨äº‹ä»¶é€šçŸ¥å…¶ä»–æ¨¡å—
        await _eventBus.Publish(new OrderCreated(orderId));
    }
}
```

**æ–¹æ¡ˆ 2**ï¼šæ”¹ç”¨å¥‘çº¦æŸ¥è¯¢

```csharp
// ä¿®å¤å
public class OrderExample
{
    private readonly IQueryBus _queryBus;
    
    public async Task Execute()
    {
        // ä½¿ç”¨å¥‘çº¦æŸ¥è¯¢ï¼ˆåªè¯»ï¼‰
        var memberDto = await _queryBus.Send(
            new GetMemberById(memberId)
        );
    }
}
```

**æ–¹æ¡ˆ 3**ï¼šæ ‡è®°ä¸ºé”™è¯¯ç¤ºä¾‹

```csharp
// ä¿®å¤åï¼ˆå¦‚æœè¿™æ˜¯æ•™å­¦ç”¨çš„é”™è¯¯ç¤ºä¾‹ï¼‰
/// <summary>
/// âš ï¸ ç¤ºä¾‹ï¼šå±•ç¤ºæ­£ç¡® vs é”™è¯¯çš„åšæ³•
/// </summary>
public class ModuleCommunicationExamples
{
    // âŒ é”™è¯¯ï¼šç›´æ¥å¼•ç”¨å…¶ä»–æ¨¡å—ï¼ˆè¿å ADR-0001ï¼‰
    // ä»¥ä¸‹ä»£ç ä»…ç”¨äºå±•ç¤ºé”™è¯¯åšæ³•ï¼Œå®é™…é¡¹ç›®ä¸­ç¦æ­¢ä½¿ç”¨
    public void WrongWay()
    {
        // using Zss.BilliardHall.Modules.Members.Domain;
        // var member = await _memberRepo.GetById(...);
    }
}
```

3. **é‡æ–°è¿è¡Œæµ‹è¯•**ï¼š

```bash
dotnet test --filter "ADR_920"
```

---

## åœºæ™¯ 7ï¼šç¤ºä¾‹ä¸­çš„ Handler æ¨¡å¼

### ç”¨æˆ·é—®ï¼š"ç¤ºä¾‹ä¸­çš„ Handler è¦å®Œæ•´å®ç°å—ï¼Ÿ"

**Copilot åº”è¯¥**ï¼š

**å…è®¸ç®€åŒ–**ï¼š

```csharp
/// <summary>
/// âš ï¸ ç¤ºä¾‹ï¼šæ¼”ç¤º Command Handler åŸºæœ¬ç»“æ„
/// å®é™…å®ç°éœ€è¦æ·»åŠ éªŒè¯ã€å¼‚å¸¸å¤„ç†ã€äº‹åŠ¡ç­‰
/// </summary>
public class CreateOrderHandler : ICommandHandler<CreateOrder, Guid>
{
    public async Task<Guid> Handle(CreateOrder command)
    {
        // âœ… å¯ç®€åŒ–ï¼šçœç•¥è¯¦ç»†éªŒè¯
        // if (command.Items.Count == 0) throw new ...;
        
        // âœ… æ ¸å¿ƒé€»è¾‘å¿…é¡»æ­£ç¡®
        var order = new Order(command.MemberId, command.Items);
        await _repository.SaveAsync(order);
        await _eventBus.Publish(new OrderCreated(order.Id));
        
        // âœ… å¿…é¡»æ­£ç¡®ï¼šCommand Handler åªè¿”å› IDï¼ˆADR-0005ï¼‰
        return order.Id;
    }
}
```

**ä¸å…è®¸ç®€åŒ–**ï¼š

```csharp
// âŒ é”™è¯¯ï¼šä¸ºäº†ç®€åŒ–è€Œè¿å ADR-0005
public async Task<OrderDto> Handle(CreateOrder command)
{
    // ...
    return orderDto; // Command Handler ä¸åº”è¿”å› DTO
}
```

**å…³é”®åŸåˆ™**ï¼š
- âœ… å¯ç®€åŒ–ï¼šå¼‚å¸¸å¤„ç†ã€æ—¥å¿—ã€è¯¦ç»†éªŒè¯
- âŒ ä¸å¯ç®€åŒ–ï¼šæ¶æ„è§„åˆ™ï¼ˆå¦‚ Handler è¿”å›ç±»å‹ï¼‰
- æ ¸å¿ƒå£è¯€ï¼š**ç®€åŒ–æµç¨‹ï¼Œä¸ç®€åŒ–è§„åˆ™**

---

## åœºæ™¯ 8ï¼šç»´æŠ¤ç°æœ‰ç¤ºä¾‹

### ç”¨æˆ·é—®ï¼š"ç°æœ‰ç¤ºä¾‹éœ€è¦æ›´æ–°ï¼Œæ€ä¹ˆåšï¼Ÿ"

**Copilot åº”è¯¥**ï¼š

**æ­¥éª¤ 1**ï¼šæ£€æŸ¥æ˜¯å¦æœ‰å…è´£å£°æ˜

```csharp
/// <summary>
/// âš ï¸ ç¤ºä¾‹ä»£ç ï¼šä»…ç”¨äºæ¼”ç¤ºç”¨æ³•...
/// </summary>
```

å¦‚æœæ²¡æœ‰ï¼Œå…ˆæ·»åŠ ã€‚

**æ­¥éª¤ 2**ï¼šæ£€æŸ¥æ¶æ„åˆè§„æ€§

è¿è¡Œæ¶æ„æµ‹è¯•ï¼š

```bash
dotnet test --filter "ADR_920"
```

**æ­¥éª¤ 3**ï¼šæ›´æ–°ä»£ç 

```csharp
// ä¿®å¤å‰
public class OldExample
{
    // å¯èƒ½åŒ…å«è¿‡æ—¶æˆ–è¿è§„çš„ä»£ç 
}

// ä¿®å¤å
/// <summary>
/// âš ï¸ ç¤ºä¾‹ä»£ç ï¼šä»…ç”¨äºæ¼”ç¤ºç”¨æ³•
/// å…·ä½“çº¦æŸè¯·å‚è€ƒ ADR-0001ã€ADR-0005
/// </summary>
public class UpdatedExample
{
    // ç¬¦åˆå½“å‰ ADR çš„ä»£ç 
}
```

**æ­¥éª¤ 4**ï¼šéªŒè¯åˆè§„æ€§

- [ ] æœ‰å…è´£å£°æ˜
- [ ] ä¸è¿åæ¨¡å—éš”ç¦»ï¼ˆADR-0001ï¼‰
- [ ] ä¸è¿å Handler æ¨¡å¼ï¼ˆADR-0005ï¼‰
- [ ] ä¸è¿åå±‚çº§ä¾èµ–ï¼ˆADR-0002ï¼‰
- [ ] æ¶æ„æµ‹è¯•é€šè¿‡

---

## å¸¸è§é”™è¯¯ä¸ä¿®å¤

### é”™è¯¯ 1ï¼šç¤ºä¾‹å®šä¹‰æ¶æ„è§„åˆ™

**é”™è¯¯**ï¼š

```markdown
## æ¶æ„è§„åˆ™

ç¤ºä¾‹ä»£ç å¿…é¡»éµå¾ªä»¥ä¸‹è§„åˆ™ï¼š
- æ¨¡å—å¿…é¡»éš”ç¦»
- ä½¿ç”¨äº‹ä»¶é€šä¿¡
```

**ä¿®å¤**ï¼š

```markdown
## æ¶æ„çº¦æŸ

æœ¬ç¤ºä¾‹éµå¾ªä»¥ä¸‹ ADRï¼š
- [ADR-0001](é“¾æ¥)ï¼šæ¨¡å—éš”ç¦»
- [ADR-0001](é“¾æ¥)ï¼šäº‹ä»¶é€šä¿¡

è¯¦ç»†è§„åˆ™è¯·å‚è€ƒ ADR æ­£æ–‡ã€‚
```

---

### é”™è¯¯ 2ï¼šç¤ºä¾‹ä¸ºäº†ç®€åŒ–è€Œè¿è§„

**é”™è¯¯**ï¼š

```csharp
// âŒ ä¸ºäº†ç®€åŒ–è€Œç›´æ¥å¼•ç”¨å…¶ä»–æ¨¡å—
using Zss.BilliardHall.Modules.Members.Domain;

public class SimpleExample
{
    public void CreateOrder()
    {
        var member = GetMember(); // ç®€åŒ–çš„è·¨æ¨¡å—è°ƒç”¨
    }
}
```

**ä¿®å¤**ï¼š

```csharp
/// <summary>
/// âš ï¸ ç¤ºä¾‹ï¼šæ¼”ç¤ºäº‹ä»¶é€šä¿¡
/// </summary>
public class CorrectExample
{
    public async Task CreateOrder()
    {
        // âœ… æ­£ç¡®ï¼šä½¿ç”¨äº‹ä»¶ï¼Œä¸ç®€åŒ–è§„åˆ™
        await _eventBus.Publish(new OrderCreated(orderId));
    }
}
```

---

### é”™è¯¯ 3ï¼šPoC ä»£ç æ··å…¥ç¤ºä¾‹

**é”™è¯¯**ï¼š

```
examples/
  NewPattern/  â† PoC ä»£ç æ··å…¥ç¤ºä¾‹ç›®å½•
    ProofOfConcept.cs
```

**ä¿®å¤**ï¼š

1. **ç§»é™¤ PoC ä»£ç **ï¼ˆä¸å¯è¿›ä¸»å¹²ï¼‰
2. **æˆ–è½¬ä¸ºæ­£å¼ç¤ºä¾‹**ï¼ˆä¿®å¤æ‰€æœ‰è¿è§„ï¼Œæ·»åŠ å…è´£å£°æ˜ï¼‰

```
ä¸ªäººåˆ†æ”¯ feature/poc-new-pattern/
  spike/
    ProofOfConcept.cs  â† PoC åº”åœ¨ä¸ªäººåˆ†æ”¯
```

---

### é”™è¯¯ 4ï¼šæµ‹è¯•ä»£ç æ ‡è®°ä¸ºç¤ºä¾‹

**é”™è¯¯**ï¼š

```csharp
/// <summary>
/// âš ï¸ ç¤ºä¾‹ä»£ç  â† é”™è¯¯ï¼šè¿™æ˜¯æµ‹è¯•ï¼Œä¸æ˜¯ç¤ºä¾‹
/// </summary>
public class OrderHandlerTests
{
    [Fact]
    public void Test() { }
}
```

**ä¿®å¤**ï¼š

```csharp
/// <summary>
/// æµ‹è¯• CreateOrderHandler çš„è¡Œä¸º
/// </summary>
public class OrderHandlerTests
{
    [Fact]
    public void Test() { }
}
```

---

## å¿«é€Ÿæ£€æŸ¥æ¸…å•

åœ¨æäº¤ç¤ºä¾‹ä»£ç å‰ï¼ŒCopilot åº”æé†’ç”¨æˆ·æ£€æŸ¥ï¼š

### å†…å®¹æ¸…å•
- [ ] å¼€å¤´æœ‰"ç¤ºä¾‹å…è´£å£°æ˜"
- [ ] ä¸è¿åæ¨¡å—éš”ç¦»ï¼ˆADR-0001ï¼‰
- [ ] ä¸è¿å Handler æ¨¡å¼ï¼ˆADR-0005ï¼‰
- [ ] ä¸è¿åå±‚çº§ä¾èµ–ï¼ˆADR-0002ï¼‰
- [ ] ä¸åˆ›å»º Service ç±»
- [ ] é“¾æ¥åˆ°ç›¸å…³ ADR

### è¯­è¨€æ¸…å•
- [ ] å£°æ˜"ä»…ç”¨äºæ¼”ç¤º"
- [ ] è¯´æ˜"ä¸ä»£è¡¨å®Œæ•´å®ç°"
- [ ] æä¾› ADR é“¾æ¥
- [ ] åŒºåˆ†"å¯ç®€åŒ–"å’Œ"ä¸å¯ç®€åŒ–"

### æµ‹è¯•æ¸…å•
- [ ] æ¶æ„æµ‹è¯•é€šè¿‡ï¼ˆADR-920ï¼‰
- [ ] å¦‚æœ‰é”™è¯¯ç¤ºä¾‹ï¼Œå·²æ˜ç¡®æ ‡è®° `// âŒ é”™è¯¯`

---

## Copilot è¡Œä¸ºå‡†åˆ™

å½“ç”¨æˆ·ç¼–å†™ç¤ºä¾‹ä»£ç æ—¶ï¼ŒCopilot åº”è¯¥ï¼š

### âœ… åº”è¯¥åšçš„
- ä¸»åŠ¨æé†’æ·»åŠ å…è´£å£°æ˜
- ç¡®ä¿ç¤ºä¾‹éµå®ˆæ‰€æœ‰ ADR è§„åˆ™
- æ˜ç¡®æ ‡è®°é”™è¯¯ç¤ºä¾‹ï¼ˆ`// âŒ é”™è¯¯`ï¼‰
- åŒºåˆ†ç¤ºä¾‹/æµ‹è¯•/PoC
- åœ¨ä»£ç è¡¥å…¨æ—¶ä½¿ç”¨æ­£ç¡®çš„æ¶æ„æ¨¡å¼

### âŒ ä¸åº”è¯¥åšçš„
- ç”Ÿæˆè¿å ADR çš„ç¤ºä¾‹ä»£ç 
- ä¸ºäº†ç®€åŒ–è€Œè·¨æ¨¡å—å¼•ç”¨
- åˆ›å»º Service ç±»ç¤ºä¾‹
- è®© Command Handler è¿”å› DTO
- æ··æ·†ç¤ºä¾‹å’Œ PoC

---

## å‚è€ƒèµ„æº

- **ADR æ­£æ–‡ï¼ˆæƒå¨ï¼‰**ï¼š[ADR-920](../adr/governance/ADR-920-examples-governance-constitution.md)
- **æ¶æ„æµ‹è¯•**ï¼š`src/tests/ArchitectureTests/ADR/ADR_920_Architecture_Tests.cs`
- **ç›¸å…³ ADR**ï¼š
  - [ADR-0001: æ¨¡å—åŒ–å•ä½“æ¶æ„](../adr/constitutional/ADR-0001-modular-monolith-vertical-slice-architecture.md)
  - [ADR-0002: å±‚çº§ä¾èµ–è§„åˆ™](../adr/constitutional/ADR-0002-platform-application-host-bootstrap.md)
  - [ADR-0005: Handler æ¨¡å¼](../adr/constitutional/ADR-0005-Application-Interaction-Model-Final.md)
  - [ADR-0910: README æ²»ç†](../adr/governance/ADR-910-readme-governance-constitution.md)

---

## ç‰ˆæœ¬å†å²

| ç‰ˆæœ¬  | æ—¥æœŸ         | å˜æ›´è¯´æ˜                               |
|-----|------------|-------------------------------------|
| 1.0 | 2026-01-25 | åˆç‰ˆï¼Œé…åˆ ADR-920 åˆ›å»ºç¤ºä¾‹ç¼–å†™åœºæ™¯æŒ‡å¯¼ |

---

**ç»´æŠ¤**ï¼šæ¶æ„å§”å‘˜ä¼š  
**å®¡æ ¸**ï¼š@douhuaa  
**çŠ¶æ€**ï¼šâœ… Active

---

## åœºæ™¯ 9ï¼šADR æ­£æ–‡ä¸­çš„ä»£ç ç‰‡æ®µæ ‡æ³¨

### ç”¨æˆ·é—®ï¼š"ADR æ–‡æ¡£ä¸­å¯ä»¥åŒ…å«è¿è§„ä»£ç å—ï¼Ÿ"

**Copilot åº”è¯¥**ï¼š

**âœ… å®Œå…¨å…è®¸**ï¼Œä½†**å¿…é¡»æ˜¾å¼æ ‡æ³¨è§’è‰²**ï¼ˆé˜²æ­¢ Copilot è¯¯å­¦ä¹ ï¼‰ï¼š

```csharp
// âœ… ç¤ºä¾‹ï¼ˆæ•™å­¦ï¼‰- æ¼”ç¤ºæ­£ç¡®åšæ³•
public class CorrectExample 
{
    public async Task Handle()
    {
        await _eventBus.Publish(new OrderCreated(orderId));
    }
}

// âŒ åä¾‹ï¼ˆç¦æ­¢ï¼‰- å±•ç¤ºé”™è¯¯åšæ³•
public class WrongExample 
{
    // è¿™æ®µä»£ç è¿å ADR-0001ï¼Œä»…ç”¨äºæ•™å­¦å¯¹æ¯”
    using Zss.BilliardHall.Modules.Members.Domain;
}

// ğŸ“ ç»“æ„ç¤ºæ„ï¼ˆä¸å¯å¤åˆ¶ï¼‰- ä»…è¯´æ˜æ¦‚å¿µ
public abstract class ConceptualStructure 
{
    // ä¼ªä»£ç ï¼Œä»…ç”¨äºç†è§£ç»“æ„
}
```

**ä¸ºä»€ä¹ˆå¿…é¡»æ ‡æ³¨**ï¼š

- âš ï¸ Copilot ä¸çœ‹"è¿™æ˜¯ ADR æ­£æ–‡"
- âš ï¸ Copilot åªçœ‹"è¿™æ˜¯é«˜æƒå¨ä»£ç ç‰‡æ®µ"
- âš ï¸ æœªæ ‡æ³¨çš„åä¾‹ä¼šè¢«å½“æˆæœ€ä½³å®è·µ

**å¼ºåˆ¶æ ‡æ³¨**ï¼š

- `// âœ… ç¤ºä¾‹ï¼ˆæ•™å­¦ï¼‰` - æ­£ç¡®åšæ³•
- `// âŒ åä¾‹ï¼ˆç¦æ­¢ï¼‰` - é”™è¯¯åšæ³•
- `// ğŸ“ ç»“æ„ç¤ºæ„ï¼ˆä¸å¯å¤åˆ¶ï¼‰` - æ¦‚å¿µè¯´æ˜

**æœªæ ‡æ³¨ = Copilot è¯¯å­¦ä¹  = å¿…é¡»ä¿®å¤ã€‚**

---

## åœºæ™¯ 10ï¼šPoC ä»£ç çš„æ­£ç¡®å¤„ç†

### ç”¨æˆ·é—®ï¼š"æˆ‘æƒ³åšä¸€ä¸ªæ¦‚å¿µéªŒè¯ï¼Œå¯ä»¥è¿åæ¶æ„å—ï¼Ÿ"

**Copilot åº”è¯¥**ï¼š

**âœ… å¯ä»¥**ï¼Œä½†å¿…é¡»éµå¾ªä¸¥æ ¼çš„éš”ç¦»è§„åˆ™ï¼š

**æ­£ç¡®çš„ PoC ä½ç½®**ï¼š

```
ä¸ªäººåˆ†æ”¯ feature/poc-new-pattern/
  â””â”€ .poc/                    â† å¿…é¡»ä½¿ç”¨ç‰¹æ®Šç›®å½•
     â””â”€ NewCachePattern/
        â”œâ”€ README.md          â† å¿…é¡»æ ‡æ³¨ âš ï¸ NOT FOR REUSE
        â””â”€ ProofOfConcept.cs
```

**æˆ–**ï¼š

```
.experimental/
  â””â”€ spike-event-sourcing/
     â”œâ”€ README.md
     â””â”€ Spike.cs
```

**PoC README å¿…é¡»åŒ…å«**ï¼š

```markdown
# æ–°ç¼“å­˜æ¨¡å¼ PoC

âš ï¸ **NOT FOR REUSE - PoC Only**

æœ¬ç›®å½•åŒ…å«æ¦‚å¿µéªŒè¯ä»£ç ï¼Œå…è®¸è¿åç°æœ‰æ¶æ„çº¦æŸã€‚

**è­¦å‘Š**ï¼š
- âœ… æ­¤ä»£ç ä»…ç”¨äºæ¢ç´¢å¯è¡Œæ€§
- âŒ ä¸å¯è¿›å…¥ä¸»å¹²ï¼ˆmain/masterï¼‰
- âŒ ä¸å¯ä½œä¸ºç¤ºä¾‹å­¦ä¹ 
- âŒ ä¸å¯ç”¨äºç”Ÿäº§ç¯å¢ƒ

**å®éªŒç›®æ ‡**ï¼šæ¢ç´¢æ–°çš„ç¼“å­˜æ¨¡å¼å¯è¡Œæ€§
**è´£ä»»äºº**ï¼š@username
**åˆ›å»ºæ—¥æœŸ**ï¼š2026-01-25
```

**Copilot å¿½ç•¥è§„åˆ™**ï¼š

åœ¨ `.github/copilot-instructions.md` ä¸­æ·»åŠ ï¼š

```markdown
## å¿½ç•¥ç›®å½•

ä»¥ä¸‹ç›®å½•çš„ä»£ç **ä¸åº”**ä½œä¸ºå­¦ä¹ æºï¼š
- `.poc/` - æ¦‚å¿µéªŒè¯ä»£ç ï¼Œå…è®¸è¿è§„
- `.experimental/` - å®éªŒæ€§ä»£ç ï¼Œå…è®¸è¿è§„
- `**/spike/` - æ¢ç´¢æ€§ä»£ç ï¼Œå…è®¸è¿è§„
```

**ä¸ºä»€ä¹ˆéœ€è¦è¿™æ ·åš**ï¼š

- âš ï¸ Copilot ä¼šæ‰«æ Forkã€PRã€å†å²
- âš ï¸ ä»…é "ä¸è¿›ä¸»å¹²"æ— æ³•é˜²æ­¢ Copilot å­¦ä¹ 
- âš ï¸ **å¿…é¡»**ä½¿ç”¨ç‰¹æ®Šç›®å½• + Copilot å¿½ç•¥è§„åˆ™

**æ ¸å¿ƒåŸåˆ™**ï¼š

> **PoC å…è®¸è¿è§„ï¼Œä½†å¿…é¡»ç‰©ç†éš”ç¦» + Copilot éš”ç¦»ã€‚**

---

## åœºæ™¯ 11ï¼šæ•™å­¦ç”¨çš„æµç¨‹èšåˆç±»

### ç”¨æˆ·é—®ï¼š"ä¸èƒ½ç”¨ Serviceï¼Œä½†ç¤ºä¾‹ä¸­éœ€è¦å±•ç¤ºæµç¨‹æ€ä¹ˆåŠï¼Ÿ"

**Copilot åº”è¯¥**ï¼š

**æä¾›è®¤çŸ¥è¿‡æ¸¡ç‰©ï¼ˆå®‰å…¨å‡ºå£ï¼‰**ï¼š

**âŒ ç¦æ­¢çš„å‘½å**ï¼š

```csharp
// âŒ ç¦æ­¢ï¼šService æŠ½è±¡
public class OrderService { }
public class PaymentService { }
public class MemberManager { }
```

**âœ… å…è®¸çš„æ•™å­¦å‘½å**ï¼š

```csharp
// âœ… å…è®¸ï¼šç”¨ä¾‹ç±»ï¼ˆæ•™å­¦ç›®çš„ï¼‰
public class OrderCreationUseCase 
{
    // å±•ç¤ºå®Œæ•´çš„è®¢å•åˆ›å»ºæµç¨‹
    public async Task Execute() { }
}

// âœ… å…è®¸ï¼šåœºæ™¯ç±»ï¼ˆæ•™å­¦ç›®çš„ï¼‰
public class CheckoutScenario 
{
    // å±•ç¤ºç»“è´¦ä¸šåŠ¡åœºæ™¯
    public async Task Run() { }
}

// âœ… å…è®¸ï¼šæµç¨‹ç±»ï¼ˆæ•™å­¦ç›®çš„ï¼‰
public class PaymentFlow 
{
    // å±•ç¤ºæ”¯ä»˜æµç¨‹ç¼–æ’
    public async Task Process() { }
}
```

**æ ¸å¿ƒåŒºåˆ«**ï¼š

| å‘½å          | æ˜¯å¦å…è®¸ | è¯´æ˜                      |
|-------------|------|-------------------------|
| *Service    | âŒ    | æ¨ªå‘æœåŠ¡å±‚ï¼Œè¿åå‚ç›´åˆ‡ç‰‡            |
| *Manager    | âŒ    | æ¨ªå‘ç®¡ç†å±‚ï¼Œè¿åå‚ç›´åˆ‡ç‰‡            |
| *Helper     | âŒ    | é€šç”¨è¾…åŠ©ç±»ï¼ˆä¸šåŠ¡é€»è¾‘ç›¸å…³ï¼‰           |
| *UseCase    | âœ…    | ç”¨ä¾‹ç±»ï¼Œè¡¨ç¤ºä¸šåŠ¡ç”¨ä¾‹ï¼ˆæ•™å­¦ï¼‰          |
| *Scenario   | âœ…    | åœºæ™¯ç±»ï¼Œè¡¨ç¤ºä¸šåŠ¡åœºæ™¯ï¼ˆæ•™å­¦ï¼‰          |
| *Flow       | âœ…    | æµç¨‹ç±»ï¼Œè¡¨ç¤ºæµç¨‹ç¼–æ’ï¼ˆæ•™å­¦ï¼‰          |

**æ³¨é‡Šè¯´æ˜**ï¼š

```csharp
/// <summary>
/// âš ï¸ ç¤ºä¾‹ï¼šOrderCreationUseCase ä»…ç”¨äºæ•™å­¦æ¼”ç¤ºå®Œæ•´æµç¨‹ã€‚
/// å®é™…é¡¹ç›®ä¸­åº”ä½¿ç”¨ CreateOrderHandlerï¼ˆå‚ç›´åˆ‡ç‰‡ï¼‰ã€‚
/// å‚è€ƒ ADR-0001 å…³äºå‚ç›´åˆ‡ç‰‡çš„è§„å®šã€‚
/// </summary>
public class OrderCreationUseCase { }
```

**æ ¸å¿ƒåŸåˆ™**ï¼š

> **æ²»ç†ä¸æ˜¯åªé ç¦ä»¤ï¼Œè¿˜è¦ç»™è®¤çŸ¥è¿‡æ¸¡ç‰©ï¼ˆå®‰å…¨å‡ºå£ï¼‰ã€‚**

---

## åœºæ™¯ 12ï¼šåˆ†çº§æ‰§æ³•å¤„ç†

### ç”¨æˆ·é—®ï¼š"ç¤ºä¾‹ä»£ç çš„æ¶æ„æµ‹è¯•å¤±è´¥äº†ï¼Œæ€ä¹ˆåŠï¼Ÿ"

**Copilot åº”è¯¥**ï¼š

**é¦–å…ˆåˆ¤æ–­è¿è§„çº§åˆ«**ï¼š

**L1 è¿è§„ï¼ˆå¿…é¡»ä¿®å¤ï¼ŒCI é˜»æ–­ï¼‰**ï¼š

- âŒ è·¨æ¨¡å—ç›´æ¥å¼•ç”¨
- âŒ åˆ›å»º Service ç±»
- âŒ Platform ä¾èµ–ä¸šåŠ¡å±‚
- âŒ ç¼ºå°‘ç¤ºä¾‹ç›®å½•è´£ä»»äºº

```
âŒ ADR-920.4 è¿è§„ï¼ˆL1 é˜»æ–­ï¼‰ï¼šç¤ºä¾‹ä»£ç è·¨æ¨¡å—ç›´æ¥å¼•ç”¨
  â€¢ examples/OrderExample/Example.cs:15
    å†…å®¹: using Zss.BilliardHall.Modules.Members.Domain;
    
ä¿®å¤ï¼šç§»é™¤è·¨æ¨¡å—å¼•ç”¨ï¼Œæ”¹ç”¨äº‹ä»¶æˆ–å¥‘çº¦ï¼ˆADR-0001ï¼‰
```

**L2 è¿è§„ï¼ˆè­¦å‘Šï¼Œä¸é˜»æ–­ï¼‰**ï¼š

- âš ï¸ Handler è¿”å›ç±»å‹ä¸ç¬¦
- âš ï¸ å‘½åçº¦å®šåå·®

```
âš ï¸ ADR-920.6 è­¦å‘Šï¼ˆL2ï¼‰ï¼šREADME C# ä»£ç å—å¯èƒ½åŒ…å«æ¶æ„è¿è§„
  â€¢ docs/README.md - C# ä»£ç å— #3
    
å»ºè®®ï¼šä¿®å¤ä»¥æé«˜ç¤ºä¾‹è´¨é‡ï¼Œä½†ä¸å¼ºåˆ¶ï¼ˆä¸é˜»æ–­ CIï¼‰
```

**L3 ç®€åŒ–ï¼ˆå…è®¸ï¼‰**ï¼š

- âœ… çœç•¥å¼‚å¸¸å¤„ç†
- âœ… çœç•¥æ—¥å¿—
- âœ… çœç•¥æ€§èƒ½ä¼˜åŒ–

```csharp
// âœ… L3 å…è®¸ï¼šæ•™å­¦ç®€åŒ–
public async Task Handle(CreateOrder command)
{
    // çœç•¥éªŒè¯é€»è¾‘ï¼ˆL3 å…è®¸ï¼‰
    // çœç•¥å¼‚å¸¸å¤„ç†ï¼ˆL3 å…è®¸ï¼‰
    // çœç•¥æ—¥å¿—è®°å½•ï¼ˆL3 å…è®¸ï¼‰
    
    // âŒ ä¸å¯çœç•¥ï¼šæ¶æ„è§„åˆ™ï¼ˆL1 ä¼šé˜»æ–­ï¼‰
    var order = new Order(...);
    await _repository.SaveAsync(order);
    
    return order.Id; // å¿…é¡»æ­£ç¡®ï¼ˆCommand Handler åªè¿”å› IDï¼‰
}
```

**å¤„ç†å»ºè®®**ï¼š

- L1 è¿è§„ â†’ **å¿…é¡»ç«‹å³ä¿®å¤**ï¼ˆå¦åˆ™ CI å¤±è´¥ï¼‰
- L2 è¿è§„ â†’ **å»ºè®®ä¿®å¤**ï¼ˆæé«˜è´¨é‡ï¼Œä½†ä¸å¼ºåˆ¶ï¼‰
- L3 ç®€åŒ– â†’ **å…è®¸**ï¼ˆæ•™å­¦éœ€è¦ï¼Œæ— éœ€ä¿®å¤ï¼‰

**æ ¸å¿ƒåŸåˆ™**ï¼š

> **åŒè§„åˆ™ã€ä¸åŒä¸¥é‡çº§åˆ«ã€‚**  
> **ç»“æ„è¿è§„ = é˜»æ–­ï¼Œæ¨¡å¼åå·® = è­¦å‘Šï¼Œæ•™å­¦ç®€åŒ– = å…è®¸ã€‚**
