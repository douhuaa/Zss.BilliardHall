# .gitattributes - Git 属性配置
# 
# 本文件定义 Git 如何处理不同文件类型的换行符和差异显示
# 与 .editorconfig 协同工作，确保跨平台开发体验一致
#
# 参考文档：
# - EditorConfig 配置：.editorconfig
# - 详细说明：docs/configuration/editorconfig.md
#
# 版本：1.0
# 最后更新：2026-01-24

# ======================================================================================================
# 默认规则
# ======================================================================================================
# 自动检测文本文件并规范化换行符
* text=auto

# ======================================================================================================
# C# 源代码和项目文件（使用 CRLF，与 .editorconfig 一致）
# ======================================================================================================
*.cs text eol=crlf
*.csproj text eol=crlf
*.props text eol=crlf
*.targets text eol=crlf
*.sln text eol=crlf
*.slnx text eol=crlf
*.config text eol=crlf

# ======================================================================================================
# 脚本文件
# ======================================================================================================
# PowerShell 脚本（Windows，使用 CRLF）
*.ps1 text eol=crlf
*.psm1 text eol=crlf
*.psd1 text eol=crlf

# Bash 脚本（Unix/Linux，必须使用 LF）
*.sh text eol=lf

# ======================================================================================================
# 文档和配置文件（使用 LF，跨平台标准）
# ======================================================================================================
*.md text eol=lf
*.json text eol=lf
*.jsonc text eol=lf
*.yml text eol=lf
*.yaml text eol=lf
*.xml text eol=lf

# ======================================================================================================
# 前端文件（如果项目包含前端代码）
# ======================================================================================================
*.js text eol=lf
*.ts text eol=lf
*.jsx text eol=lf
*.tsx text eol=lf
*.css text eol=lf
*.scss text eol=lf
*.sass text eol=lf
*.less text eol=lf
*.html text eol=lf
*.htm text eol=lf

# ======================================================================================================
# Docker 和容器配置
# ======================================================================================================
Dockerfile text eol=lf
*.dockerfile text eol=lf
docker-compose*.yml text eol=lf

# ======================================================================================================
# Git 配置文件
# ======================================================================================================
.gitignore text eol=lf
.gitattributes text eol=lf
.editorconfig text eol=lf
.gitmodules text eol=lf

# ======================================================================================================
# GitHub 配置文件
# ======================================================================================================
.github/**/*.yml text eol=lf
.github/**/*.yaml text eol=lf
.github/**/*.md text eol=lf

# ======================================================================================================
# 二进制文件（不进行文本转换）
# ======================================================================================================
# 程序集和可执行文件
*.dll binary
*.exe binary
*.pdb binary
*.suo binary

# 图片文件
*.png binary
*.jpg binary
*.jpeg binary
*.gif binary
*.ico binary
*.svg binary
*.bmp binary
*.webp binary

# 压缩文件
*.zip binary
*.7z binary
*.gz binary
*.tar binary
*.rar binary
*.tgz binary

# 字体文件
*.ttf binary
*.otf binary
*.woff binary
*.woff2 binary
*.eot binary

# 视频和音频
*.mp4 binary
*.avi binary
*.mov binary
*.mp3 binary
*.wav binary

# 其他二进制文件
*.pdf binary
*.docx binary
*.xlsx binary
*.pptx binary

# ======================================================================================================
# 差异显示配置
# ======================================================================================================
# C# 文件：显示方法名
*.cs diff=csharp

# Markdown 文件：按段落显示差异
*.md diff=markdown

# JSON 文件：格式化显示差异
*.json diff=json

# ======================================================================================================
# 特殊文件处理
# ======================================================================================================
# 生成的文件（通常不应手动编辑，但可能需要版本控制）
*.Designer.cs text eol=crlf
*.g.cs text eol=crlf
*.g.i.cs text eol=crlf

# ======================================================================================================
# 注意事项
# ======================================================================================================
# 1. 本文件与 .editorconfig 协同工作
#    - .gitattributes：Git 仓库级别的换行符转换
#    - .editorconfig：IDE 级别的文件格式规范
#
# 2. 换行符规则
#    - C# 源代码：CRLF（Windows 标准，Visual Studio 默认）
#    - 文档配置：LF（跨平台标准，Unix/Linux 兼容）
#    - Shell 脚本：LF（Unix/Linux 系统要求）
#
# 3. 开发者 Git 配置建议
#    - Windows：git config --global core.autocrlf true
#    - macOS/Linux：git config --global core.autocrlf input
#
# 4. 如果遇到换行符问题
#    - 参考：docs/configuration/editorconfig.md § 问题 2：文件换行符混乱
#    - 重新规范化：git add --renormalize . && git commit -m "chore: 规范化换行符"
#
# ======================================================================================================
