---
name: "Post Comment"
description: "åœ¨ GitHub PR æˆ– Issue ä¸Šå‘å¸ƒè¯„è®º"
version: "1.0"
risk_level: "ä½"
category: "CI/CD é›†æˆ"
required_agent: "adr-reviewer"
---

# Post Comment Skill

**ç±»åˆ«**ï¼šCI/CD é›†æˆ  
**é£é™©ç­‰çº§**ï¼šä½  
**ç‰ˆæœ¬**ï¼š1.0

---

## åŠŸèƒ½å®šä¹‰

### ç”¨é€”

åœ¨ GitHub Pull Request æˆ– Issue ä¸Šè‡ªåŠ¨å‘å¸ƒæ ¼å¼åŒ–çš„è¯„è®ºï¼Œç”¨äºåé¦ˆä»£ç å®¡æŸ¥ã€æµ‹è¯•ç»“æœæˆ–æ¶æ„åˆè§„æ€§æ£€æŸ¥ã€‚

### è¾“å…¥å‚æ•°

- `target`ï¼šå­—ç¬¦ä¸²æšä¸¾ï¼Œ"pr" / "issue"
- `number`ï¼šæ•°å­—ï¼ŒPR æˆ– Issue ç¼–å·
- `commentType`ï¼šå­—ç¬¦ä¸²æšä¸¾ï¼Œ"architecture-review" / "test-result" / "general"
- `content`ï¼šå¯¹è±¡ï¼Œè¯„è®ºå†…å®¹ï¼ˆæ ‡é¢˜ã€æ‘˜è¦ã€è¯¦æƒ…ç­‰ï¼‰
- `tag`ï¼šå­—ç¬¦ä¸²ï¼Œå¯é€‰ï¼Œæ ‡ç­¾ï¼ˆå¦‚ "architecture", "testing"ï¼‰

### è¾“å‡ºç»“æœ

```json
{
  "success": true,
  "comment": {
    "id": 123456789,
    "url": "https://github.com/douhuaa/Zss.BilliardHall/pull/152#issuecomment-123456789",
    "createdAt": "2026-01-26T10:30:00Z"
  },
  "summary": {
    "target": "pr",
    "number": 152,
    "commentType": "architecture-review"
  }
}
```

---

## å‰ç½®æ¡ä»¶

### å¿…é¡»æ»¡è¶³çš„æ¡ä»¶

- [ ] GitHub API è®¿é—®æƒé™
- [ ] PR/Issue å­˜åœ¨
- [ ] è¯„è®ºå†…å®¹å·²æ ¼å¼åŒ–

### å¿…é¡»çš„ Agent æˆæƒ

- **éœ€è¦**ï¼š`adr-reviewer` æˆ– `architecture-guardian`
- **ç†ç”±**ï¼šå…¬å¼€è¯„è®ºéœ€è¦ç¡®ä¿å†…å®¹å‡†ç¡®å’Œä¸“ä¸š

---

## æ‰§è¡Œæ­¥éª¤

1. **éªŒè¯è¾“å…¥å‚æ•°**
  - æ£€æŸ¥ç›®æ ‡ç±»å‹æœ‰æ•ˆ
  - éªŒè¯ç¼–å·å­˜åœ¨
  - éªŒè¯å†…å®¹æ ¼å¼

2. **æ ¼å¼åŒ–è¯„è®º**
  - æ ¹æ® commentType é€‰æ‹©æ¨¡æ¿
  - å¡«å……å†…å®¹
  - æ·»åŠ æ ‡ç­¾å’Œæ ‡é¢˜

3. **å‘å¸ƒè¯„è®º**
  - ä½¿ç”¨ GitHub API
  - å¤„ç†é”™è¯¯
  - è®°å½•ç»“æœ

4. **éªŒè¯å‘å¸ƒ**
  - æ£€æŸ¥è¯„è®ºå·²å‘å¸ƒ
  - è·å–è¯„è®º URL

5. **è®°å½•æ—¥å¿—**

---

## è¯„è®ºæ¨¡æ¿

### æ¶æ„å®¡æŸ¥è¯„è®º

```markdown
## ğŸ›ï¸ æ¶æ„å®¡æŸ¥æŠ¥å‘Š

ç”± @architecture-guardian è‡ªåŠ¨ç”Ÿæˆ

---

### âœ… åˆè§„æ–¹é¢

{compliantItems}

---

### âš ï¸ éœ€è¦å…³æ³¨

{concernItems}

---

### âŒ æ£€æµ‹åˆ°è¿è§„

{violationItems}

---

### ğŸ“š ç›¸å…³èµ„æº

- [ADR-{number}](link)
- [Prompts](link)

---

<sub>
æ­¤è¯„è®ºç”±æ¶æ„å®ˆæŠ¤è€…è‡ªåŠ¨ç”Ÿæˆ | 
åŸºäº ADR-007 | 
[äº†è§£æ›´å¤š](docs/adr/constitutional/ADR-007-...)
</sub>
```

### æµ‹è¯•ç»“æœè¯„è®º

```markdown
## ğŸ§ª æµ‹è¯•ç»“æœ

---

### ğŸ“Š æ€»è§ˆ

| ç±»å‹ | æ€»æ•° | âœ… é€šè¿‡ | âŒ å¤±è´¥ | â­ï¸ è·³è¿‡ |
|-----|------|--------|--------|--------|
| å•å…ƒæµ‹è¯• | {total} | {passed} | {failed} | {skipped} |
| æ¶æ„æµ‹è¯• | {total} | {passed} | {failed} | {skipped} |

---

### âŒ å¤±è´¥è¯¦æƒ…

{failureDetails}

---

<sub>
æ­¤è¯„è®ºç”±æµ‹è¯•ç”Ÿæˆå™¨è‡ªåŠ¨ç”Ÿæˆ | 
[æŸ¥çœ‹å®Œæ•´æŠ¥å‘Š](link)
</sub>
```

### ä¸€èˆ¬è¯„è®º

```markdown
## {title}

{content}

---

<sub>
ç”± {agent} ç”Ÿæˆ | {timestamp}
</sub>
```

---

## è¯„è®ºå†…å®¹è§„èŒƒ

### Markdown æ ¼å¼

- ä½¿ç”¨æ¸…æ™°çš„æ ‡é¢˜å±‚çº§
- ä½¿ç”¨è¡¨æ ¼å±•ç¤ºæ•°æ®
- ä½¿ç”¨è¡¨æƒ…ç¬¦å·å¢å¼ºå¯è¯»æ€§
- ä½¿ç”¨é“¾æ¥å¼•ç”¨èµ„æº

### ä¸“ä¸šæ€§è¦æ±‚

- è¯­è¨€æ¸…æ™°ã€å‡†ç¡®
- é¿å…æ¨¡ç³Šè¡¨è¿°
- æä¾›å…·ä½“å»ºè®®
- å¼•ç”¨ ADR æ­£æ–‡

---

## éªŒè¯è§„åˆ™

### è¯„è®ºè´¨é‡æ£€æŸ¥

- [ ] æ ¼å¼æ­£ç¡®
- [ ] å†…å®¹å®Œæ•´
- [ ] é“¾æ¥æœ‰æ•ˆ
- [ ] å¼•ç”¨å‡†ç¡®

### é¿å…åƒåœ¾è¯„è®º

- [ ] ä¸é‡å¤å‘å¸ƒç›¸åŒå†…å®¹
- [ ] ä¸å‘å¸ƒç©ºè¯„è®º
- [ ] ä¸å‘å¸ƒæ¨¡ç³Šä¿¡æ¯

---

## é”™è¯¯å¤„ç†

### å¸¸è§é”™è¯¯

| é”™è¯¯ | åŸå›  | å¤„ç†æ–¹å¼ |
|------|------|---------|
| 403 Forbidden | æƒé™ä¸è¶³ | æ£€æŸ¥ API token |
| 404 Not Found | PR/Issue ä¸å­˜åœ¨ | éªŒè¯ç¼–å· |
| 422 Validation Failed | å†…å®¹æ ¼å¼é”™è¯¯ | ä¿®æ­£æ ¼å¼ |

---

## ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹ 1ï¼šå‘å¸ƒæ¶æ„å®¡æŸ¥è¯„è®º

**è¾“å…¥**ï¼š
```json
{
  "target": "pr",
  "number": 152,
  "commentType": "architecture-review",
  "content": {
    "compliant": ["æ¨¡å—éš”ç¦»æ­£ç¡®", "CQRS åˆ†ç¦»æ¸…æ™°"],
    "concerns": ["ç¼ºå°‘å•å…ƒæµ‹è¯•"],
    "violations": [],
    "relatedAdrs": ["ADR-001", "ADR-005"]
  },
  "tag": "architecture"
}
```

**è¾“å‡º**ï¼š
- å‘å¸ƒæ ¼å¼åŒ–çš„æ¶æ„å®¡æŸ¥è¯„è®º
- åŒ…å«åˆè§„ã€å…³æ³¨ç‚¹å’Œè¿è§„ä¿¡æ¯
- é“¾æ¥åˆ°ç›¸å…³ ADR

### ç¤ºä¾‹ 2ï¼šå‘å¸ƒæµ‹è¯•ç»“æœè¯„è®º

**è¾“å…¥**ï¼š
```json
{
  "target": "pr",
  "number": 152,
  "commentType": "test-result",
  "content": {
    "unitTests": {
      "total": 145,
      "passed": 145,
      "failed": 0
    },
    "architectureTests": {
      "total": 15,
      "passed": 13,
      "failed": 2
    },
    "failures": [
      {
        "test": "ADR_001_Test",
        "reason": "..."
      }
    ]
  }
}
```

**è¾“å‡º**ï¼š
- å‘å¸ƒæµ‹è¯•ç»“æœæ‘˜è¦
- è¡¨æ ¼å±•ç¤ºç»Ÿè®¡
- è¯¦ç»†å¤±è´¥ä¿¡æ¯

---

## å±é™©ä¿¡å·

âš ï¸ **è­¦å‘Š**ï¼š
- è¯„è®ºé¢‘ç‡è¿‡é«˜ï¼ˆspamï¼‰
- è¯„è®ºå†…å®¹é”™è¯¯æˆ–è¯¯å¯¼
- è¯„è®ºæœªç» Agent æˆæƒ

---

## å‚è€ƒèµ„æ–™

- [GitHub API æ–‡æ¡£](https://docs.github.com/en/rest)
- [ADR-007ï¼šAgent è¡Œä¸ºè§„èŒƒ](../../../docs/adr/constitutional/ADR-007-agent-behavior-permissions-constitution.md)

---

**ç»´æŠ¤è€…**ï¼šæ¶æ„å§”å‘˜ä¼š  
**çŠ¶æ€**ï¼šâœ… Active
